if(function(e,a){var l,c,t=e.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",i=0,r={};function u(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function d(e){var t=r[e[n]];return t||(t={},i++,e[n]=i,r[i]=t),t}function h(e,t,n){return t||(t=a),c?t.createElement(e):(n||(n=d(t)),!(i=n.cache[e]?n.cache[e].cloneNode():s.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||o.test(e)||i.tagUrn?i:n.frag.appendChild(i));var i}function f(e){e||(e=a);var t,n,i,o,s,r=d(e);return!p.shivCSS||l||r.hasCSS||(r.hasCSS=("article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",n=(t=e).createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement,n.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",!!i.insertBefore(n.lastChild,i.firstChild))),c||(o=e,(s=r).cache||(s.cache={},s.createElem=o.createElement,s.createFrag=o.createDocumentFragment,s.frag=s.createFrag()),o.createElement=function(e){return p.shivMethods?h(e,o,s):s.createElem(e)},o.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+u().join().replace(/[\w\-:]+/g,function(e){return s.createElem(e),s.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,s.frag)),e}!function(){try{var e=a.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,c=1==e.childNodes.length||function(){a.createElement("a");var e=a.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){c=l=!0}}();var p={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.2",shivCSS:!1!==t.shivCSS,supportsUnknownElements:c,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:f,createElement:h,createDocumentFragment:function(e,t){if(e||(e=a),c)return e.createDocumentFragment();for(var n=(t=t||d(e)).frag.cloneNode(),i=0,o=u(),s=o.length;i<s;i++)n.createElement(o[i]);return n},addElements:function(e,t){var n=p.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),p.elements=n+" "+e,f(t)}};e.html5=p,f(a)}(this,document),function(e){"use strict";var t,n,i,o,s,r;e.matchMedia=e.matchMedia||(t=e.document,i=t.documentElement,o=i.firstElementChild||i.firstChild,s=t.createElement("body"),(r=t.createElement("div")).id="mq-test-1",r.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,o),n=42===r.offsetWidth,i.removeChild(s),{matches:n,media:e}})}(this),function(v){"use strict";var f={};(v.respond=f).update=function(){};var s=[],i=function(){var t=!1;try{t=new v.XMLHttpRequest}catch(e){t=new v.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),e=function(e,t){var n=i();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))},p=function(e){return e.replace(f.regex.minmaxwh,"").match(f.regex.other)};if(f.ajax=e,f.queue=s,f.unsupportedmq=p,f.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},f.mediaQueriesSupported=v.matchMedia&&null!==v.matchMedia("only all")&&v.matchMedia("only all").matches,!f.mediaQueriesSupported){var y,b,w,C=v.document,x=C.documentElement,_=[],E=[],k=[],r={},S=C.getElementsByTagName("head")[0]||x,a=C.getElementsByTagName("base")[0],T=S.getElementsByTagName("link"),N=function(){var e,t=C.createElement("div"),n=C.body,i=x.style.fontSize,o=n&&n.style.fontSize,s=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||((n=s=C.createElement("body")).style.background="none"),x.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),s&&x.insertBefore(n,x.firstChild),e=t.offsetWidth,s?x.removeChild(n):n.removeChild(t),x.style.fontSize=i,o&&(n.style.fontSize=o),w=parseFloat(e)},A=function(e){var t="clientWidth",n=x[t],i="CSS1Compat"===C.compatMode&&n||C.body[t]||n,o={},s=T[T.length-1],r=(new Date).getTime();if(e&&y&&r-y<30)return v.clearTimeout(b),void(b=v.setTimeout(A,30));for(var a in y=r,_)if(_.hasOwnProperty(a)){var l=_[a],c=l.minw,u=l.maxw,d=null===c,h=null===u;c&&(c=parseFloat(c)*(-1<c.indexOf("em")?w||N():1)),u&&(u=parseFloat(u)*(-1<u.indexOf("em")?w||N():1)),l.hasquery&&(d&&h||!(d||c<=i)||!(h||i<=u))||(o[l.media]||(o[l.media]=[]),o[l.media].push(E[l.rules]))}for(var f in k)k.hasOwnProperty(f)&&k[f]&&k[f].parentNode===S&&S.removeChild(k[f]);for(var p in k.length=0,o)if(o.hasOwnProperty(p)){var m=C.createElement("style"),g=o[p].join("\n");m.type="text/css",m.media=p,S.insertBefore(m,s.nextSibling),m.styleSheet?m.styleSheet.cssText=g:m.appendChild(C.createTextNode(g)),k.push(m)}},l=function(e,t,n){var i=e.replace(f.regex.comments,"").replace(f.regex.keyframes,"").match(f.regex.media),o=i&&i.length||0,s=function(e){return e.replace(f.regex.urls,"$1"+t+"$2$3")},r=!o&&n;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(o=1);for(var a=0;a<o;a++){var l,c,u,d;r?(l=n,E.push(s(e))):(l=i[a].match(f.regex.findStyles)&&RegExp.$1,E.push(RegExp.$2&&s(RegExp.$2))),d=(u=l.split(",")).length;for(var h=0;h<d;h++)c=u[h],p(c)||_.push({media:c.split("(")[0].match(f.regex.only)&&RegExp.$2||"all",rules:E.length-1,hasquery:-1<c.indexOf("("),minw:c.match(f.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(f.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}A()},c=function(){if(s.length){var t=s.shift();e(t.href,function(e){l(e,t.href,t.media),r[t.href]=!0,v.setTimeout(function(){c()},0)})}},t=function(){for(var e=0;e<T.length;e++){var t=T[e],n=t.href,i=t.media,o=t.rel&&"stylesheet"===t.rel.toLowerCase();n&&o&&!r[n]&&(t.styleSheet&&t.styleSheet.rawCssText?(l(t.styleSheet.rawCssText,n,i),r[n]=!0):(/^([a-zA-Z:]*\/\/)/.test(n)||a)&&n.replace(RegExp.$1,"").split("/")[0]!==v.location.host||("//"===n.substring(0,2)&&(n=v.location.protocol+n),s.push({href:n,media:i})))}c()};t(),f.update=t,f.getEmValue=N,v.addEventListener?v.addEventListener("resize",n,!1):v.attachEvent&&v.attachEvent("onresize",n)}function n(){A(!0)}}(this),window.Modernizr=function(r,u,a){var e,i,o,t,n,l,c={},d=u.documentElement,h="modernizr",s=u.createElement(h),f=s.style,p=u.createElement("input"),m=":)",g={}.toString,v=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",b=y.split(" "),w=y.toLowerCase().split(" "),C="http://www.w3.org/2000/svg",x={},_={},E={},k=[],S=k.slice,T=function(e,t,n,i){var o,s,r,a=u.createElement("div"),l=u.body,c=l||u.createElement("body");if(parseInt(n,10))for(;n--;)(r=u.createElement("div")).id=i?i[n]:h+(n+1),a.appendChild(r);return o=["&#173;","<style>",e,"</style>"].join(""),a.id=h,c.innerHTML+=o,c.appendChild(a),l||(c.style.background="",d.appendChild(c)),s=t(a,e),l?a.parentNode.removeChild(a):c.parentNode.removeChild(c),!!s},N=(i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e,t){t=t||u.createElement(i[e]||"div");var n=(e="on"+e)in t;return n||(t.setAttribute||(t=u.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),n=R(t[e],"function"),R(t[e],"undefined")||(t[e]=a),t.removeAttribute(e))),t=null,n}),A={}.hasOwnProperty;function D(e){f.cssText=e}function R(e,t){return typeof e===t}function P(e,t){return!!~(""+e).indexOf(t)}function I(e,t){for(var n in e)if(f[e[n]]!==a)return"pfx"!=t||e[n];return!1}function $(e,t,n){var i=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+b.join(i+" ")+i).split(" ");return R(t,"string")||R(t,"undefined")?I(o,t):function(e,t,n){for(var i in e){var o=t[e[i]];if(o!==a)return!1===n?e[i]:R(o,"function")?o.bind(n||t):o}return!1}(o=(e+" "+w.join(i+" ")+i).split(" "),t,n)}for(var L in o=R(A,"undefined")||R(A.call,"undefined")?function(e,t){return t in e&&R(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(i){var o=this;if("function"!=typeof o)throw new TypeError;var s=S.call(arguments,1),r=function(){if(this instanceof r){var e=function(){};e.prototype=o.prototype;var t=new e,n=o.apply(t,s.concat(S.call(arguments)));return Object(n)===n?n:t}return o.apply(i,s.concat(S.call(arguments)))};return r}),t=["fontface","touch","csstransforms3d","generatedcontent"],n=['@font-face {font-family:"font";src:url("https://")}',["@media (",v.join("touch-enabled),("),h,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",v.join("transform-3d),("),h,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',m,'";visibility:hidden}'].join("")].join(""),T(n,function(e,t){for(var n=u.styleSheets[u.styleSheets.length-1],i=n?n.cssRules&&n.cssRules[0]?n.cssRules[0].cssText:n.cssText||"":"",o=e.childNodes,s={};l--;)s[o[l].id]=o[l];c.touch="ontouchstart"in r||r.DocumentTouch&&u instanceof DocumentTouch||9===(s.touch&&s.touch.offsetTop),c.csstransforms3d=9===(s.csstransforms3d&&s.csstransforms3d.offsetLeft)&&3===s.csstransforms3d.offsetHeight,c.generatedcontent=1<=(s.generatedcontent&&s.generatedcontent.offsetHeight),c.fontface=/src/i.test(i)&&0===i.indexOf(t.split(" ")[0])},l=t.length,t),x.flexbox=function(){return $("flexOrder")},x["flexbox-legacy"]=function(){return $("boxDirection")},x.canvas=function(){var e=u.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},x.canvastext=function(){return!(!c.canvas||!R(u.createElement("canvas").getContext("2d").fillText,"function"))},x.webgl=function(){try{var e,t=u.createElement("canvas");e=!(!r.WebGLRenderingContext||!t.getContext("experimental-webgl")&&!t.getContext("webgl")),t=a}catch(t){e=!1}return e},x.touch=function(){return c.touch},x.geolocation=function(){return!!navigator.geolocation},x.postmessage=function(){return!!r.postMessage},x.websqldatabase=function(){return!!r.openDatabase},x.indexedDB=function(){return!!$("indexedDB",r)},x.hashchange=function(){return N("hashchange",r)&&(u.documentMode===a||7<u.documentMode)},x.history=function(){return!(!r.history||!history.pushState)},x.draganddrop=function(){var e=u.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},x.websockets=function(){for(var e=-1,t=b.length;++e<t;)if(r[b[e]+"WebSocket"])return!0;return"WebSocket"in r},x.rgba=function(){return D("background-color:rgba(150,255,150,.5)"),P(f.backgroundColor,"rgba")},x.hsla=function(){return D("background-color:hsla(120,40%,100%,.5)"),P(f.backgroundColor,"rgba")||P(f.backgroundColor,"hsla")},x.multiplebgs=function(){return D("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},x.backgroundsize=function(){return $("backgroundSize")},x.borderimage=function(){return $("borderImage")},x.borderradius=function(){return $("borderRadius")},x.boxshadow=function(){return $("boxShadow")},x.textshadow=function(){return""===u.createElement("div").style.textShadow},x.opacity=function(){return"opacity:.55",D(v.join("opacity:.55;")+""),/^0.55$/.test(f.opacity)},x.cssanimations=function(){return $("animationName")},x.csscolumns=function(){return $("columnCount")},x.cssgradients=function(){var e="background-image:";return D((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+v.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),P(f.backgroundImage,"gradient")},x.cssreflections=function(){return $("boxReflect")},x.csstransforms=function(){return!!$("transform")},x.csstransforms3d=function(){var e=!!$("perspective");return e&&"webkitPerspective"in d.style&&(e=c.csstransforms3d),e},x.csstransitions=function(){return $("transition")},x.fontface=function(){return c.fontface},x.generatedcontent=function(){return c.generatedcontent},x.video=function(){var e=u.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return t},x.audio=function(){var e=u.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},x.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(e){return!1}},x.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(e){return!1}},x.webworkers=function(){return!!r.Worker},x.applicationcache=function(){return!!r.applicationCache},x.svg=function(){return!!u.createElementNS&&!!u.createElementNS(C,"svg").createSVGRect},x.inlinesvg=function(){var e=u.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==C},x.smil=function(){return!!u.createElementNS&&/SVGAnimate/.test(g.call(u.createElementNS(C,"animate")))},x.svgclippaths=function(){return!!u.createElementNS&&/SVGClipPath/.test(g.call(u.createElementNS(C,"clipPath")))},x)o(x,L)&&(e=L.toLowerCase(),c[e]=x[L](),k.push((c[e]?"":"no-")+e));return c.input||(c.input=function(e){for(var t=0,n=e.length;t<n;t++)E[e[t]]=!!(e[t]in p);return E.list&&(E.list=!(!u.createElement("datalist")||!r.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),c.inputtypes=function(e){for(var t,n,i,o=0,s=e.length;o<s;o++)p.setAttribute("type",n=e[o]),(t="text"!==p.type)&&(p.value=m,p.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&p.style.WebkitAppearance!==a?(d.appendChild(p),t=(i=u.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(p,null).WebkitAppearance&&0!==p.offsetHeight,d.removeChild(p)):/^(search|tel)$/.test(n)||(/^(url|email)$/.test(n)?t=p.checkValidity&&!1===p.checkValidity():/^color$/.test(n)?(d.appendChild(p),d.offsetWidth,t=p.value!=m,d.removeChild(p)):t=p.value!=m)),_[e[o]]=!!t;return _}("search tel url email datetime date month week time datetime-local number range color".split(" "))),c.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==a)return c;t="function"==typeof t?t():t,d.className+=" "+(t?"":"no-")+e,c[e]=t}return c},D(""),s=p=null,function(e,t){var u,d,n,i=e.html5||{},h=/^<|^(?:button|form|map|select|textarea)$/i;function o(e){var t,n,i,o,s,r,a,l,c;return e.documentShived||(f.shivCSS&&!u&&("article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}",i=(n=e).createElement("p"),o=n.getElementsByTagName("head")[0]||n.documentElement,i.innerHTML="x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}</style>",t=!!o.insertBefore(i.lastChild,o.firstChild)),d||(a={},l=(s=e).createElement,c=(0,s.createDocumentFragment)(),s.createElement=function(e){var t=(a[e]||(a[e]=l(e))).cloneNode();return f.shivMethods&&t.canHaveChildren&&!h.test(e)?c.appendChild(t):t},t=!void(s.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+(r=f.elements,"string"==typeof r?r.split(" "):r).join().replace(/\w+/g,function(e){return a[e]=l(e),c.createElement(e),'c("'+e+'")'})+");return n}")(f,c))),t&&(e.documentShived=t)),e}(n=t.createElement("a")).innerHTML="<xyz></xyz>",u="hidden"in n,d=1==n.childNodes.length||function(){try{t.createElement("a")}catch(e){return!0}var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}();var f={elements:i.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!(!1===i.shivCSS),shivMethods:!(!1===i.shivMethods),type:"default",shivDocument:o};e.html5=f,o(t)}(this,u),c._version="2.5.3",c._prefixes=v,c._domPrefixes=w,c._cssomPrefixes=b,c.mq=function(e){var t,n=r.matchMedia||r.msMatchMedia;return n?n(e).matches:(T("@media "+e+" { #"+h+" { position: absolute; } }",function(e){t="absolute"==(r.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),t)},c.hasEvent=N,c.testProp=function(e){return I([e])},c.testAllProps=$,c.testStyles=T,c.prefixed=function(e,t,n){return t?$(e,t,n):$(e,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+k.join(" "),c}(this,this.document),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,e){var t=[],u=t.slice,m=t.concat,a=t.push,o=t.indexOf,n={},i=n.toString,g=n.hasOwnProperty,v={},y=p.document,_=function(e,t){return new _.fn.init(e,t)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/^-ms-/,l=/-([\da-z])/gi,c=function(e,t){return t.toUpperCase()};function d(e){var t=e.length,n=_.type(e);return"function"!==n&&!_.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}_.fn=_.prototype={jquery:"2.1.1",constructor:_,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return _.each(this,e,t)},map:function(n){return this.pushStack(_.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:t.sort,splice:t.splice},_.extend=_.fn.extend=function(){var e,t,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||_.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],r!==(i=e[t])&&(c&&i&&(_.isPlainObject(i)||(o=_.isArray(i)))?(o?(o=!1,s=n&&_.isArray(n)?n:[]):s=n&&_.isPlainObject(n)?n:{},r[t]=_.extend(c,s,i)):void 0!==i&&(r[t]=i));return r},_.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===_.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!_.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return!("object"!==_.type(e)||e.nodeType||_.isWindow(e)||e.constructor&&!g.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=_.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(r,"ms-").replace(l,c)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,s=d(e);if(n){if(s)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(s)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(s,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,s=e.length,r=!n;o<s;o++)!t(e[o],o)!==r&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,s=e.length,r=[];if(d(e))for(;o<s;o++)null!=(i=t(e[o],o,n))&&r.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&r.push(i);return m.apply([],r)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),_.isFunction(e))return i=u.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||_.guid++,o},now:Date.now,support:v}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,p,w,s,i,m,d,g,C,c,u,v,x,o,y,b,r,a,_,E="sizzle"+-new Date,k=n.document,S=0,h=0,l=oe(),f=oe(),T=oe(),N=function(e,t){return e===t&&(u=!0),0},A="undefined",D={}.hasOwnProperty,t=[],R=t.pop,P=t.push,I=t.push,$=t.slice,L=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=H.replace("w","w#"),z="\\["+M+"*("+H+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+M+"*\\]",B=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",F=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),W=new RegExp("^"+M+"*,"+M+"*"),U=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),q=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+j+"$"),K={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{I.apply(t=$.call(k.childNodes),k.childNodes),t[k.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){P.apply(e,$.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,n,i){var o,s,r,a,l,c,u,d,h,f;if((t?t.ownerDocument||t:k)!==x&&v(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=(t=t||x).nodeType)&&9!==a)return[];if(y&&!i){if(o=J.exec(e))if(r=o[1]){if(9===a){if(!(s=t.getElementById(r))||!s.parentNode)return n;if(s.id===r)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&_(t,s)&&s.id===r)return n.push(s),n}else{if(o[2])return I.apply(n,t.getElementsByTagName(e)),n;if((r=o[3])&&p.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&(!b||!b.test(e))){if(d=u=E,h=t,f=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=m(e),(u=t.getAttribute("id"))?d=u.replace(ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+pe(c[l]);h=Z.test(e)&&he(t.parentNode)||t,f=c.join(",")}if(f)try{return I.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return g(e.replace(F,"$1"),t,n,i)}function oe(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function se(e){return e[E]=!0,e}function re(e){var t=x.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ae(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ue(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(r){return se(function(s){return s=+s,se(function(e,t){for(var n,i=r([],e.length,s),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&typeof e.getElementsByTagName!==A&&e}for(e in p=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=ie.setDocument=function(e){var t,l=e?e.ownerDocument||e:k,n=l.defaultView;return l!==x&&9===l.nodeType&&l.documentElement?(o=(x=l).documentElement,y=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){v()},!1):n.attachEvent&&n.attachEvent("onunload",function(){v()})),p.attributes=re(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=re(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=Q.test(l.getElementsByClassName)&&re(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),p.getById=re(function(e){return o.appendChild(e).id=E,!l.getElementsByName||!l.getElementsByName(E).length}),p.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==A&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=p.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&y)return t.getElementsByClassName(e)},r=[],b=[],(p.qsa=Q.test(l.querySelectorAll))&&(re(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+M+"*(?:value|"+O+")"),e.querySelectorAll(":checked").length||b.push(":checked")}),re(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+M+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(p.matchesSelector=Q.test(a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&re(function(e){p.disconnectedMatch=a.call(e,"div"),a.call(e,"[s!='']:x"),r.push("!=",B)}),b=b.length&&new RegExp(b.join("|")),r=r.length&&new RegExp(r.join("|")),t=Q.test(o.compareDocumentPosition),_=t||Q.test(o.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===k&&_(k,e)?-1:t===l||t.ownerDocument===k&&_(k,t)?1:c?L.call(c,e)-L.call(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!o||!s)return e===l?-1:t===l?1:o?-1:s?1:c?L.call(c,e)-L.call(c,t):0;if(o===s)return le(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?le(r[i],a[i]):r[i]===k?-1:a[i]===k?1:0},l):x},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==x&&v(e),t=t.replace(q,"='$1']"),p.matchesSelector&&y&&(!r||!r.test(t))&&(!b||!b.test(t)))try{var n=a.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ie(t,x,null,[e]).length},ie.contains=function(e,t){return(e.ownerDocument||e)!==x&&v(e),_(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==x&&v(e);var n=w.attrHandle[t.toLowerCase()],i=n&&D.call(w.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:p.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],i=0,o=0;if(u=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(N),u){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},s=ie.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=s(t);return n},(w=ie.selectors={cacheLength:50,createPseudo:se,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(e){var t=ie.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===o:"!="===i?t!==o:"^="===i?o&&0===t.indexOf(o):"*="===i?o&&-1<t.indexOf(o):"$="===i?o&&t.slice(-o.length)===o:"~="===i?-1<(" "+t+" ").indexOf(o):"|="===i&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,s,r,a,l,c=g!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(u){if(g){for(;c;){for(s=e;s=s[c];)if(y?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(a=(i=(o=u[E]||(u[E]={}))[f]||[])[0]===S&&i[1],r=i[0]===S&&i[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(r=a=0)||l.pop();)if(1===s.nodeType&&++r&&s===e){o[f]=[S,a,r];break}}else if(h&&(i=(e[E]||(e[E]={}))[f])&&i[0]===S)r=i[1];else for(;(s=++a&&s&&s[c]||(r=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++r||(h&&((s[E]||(s[E]={}))[f]=[S,r]),s!==e)););return(r-=m)===p||r%p==0&&0<=r/p}}},PSEUDO:function(e,s){var t,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return r[E]?r(s):1<r.length?(t=[e,e,"",s],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=r(e,s),o=i.length;o--;)e[n=L.call(e,i[o])]=!(t[n]=i[o])}):function(e){return r(e,0,t)}):r}},pseudos:{not:se(function(e){var i=[],o=[],a=d(e.replace(F,"$1"));return a[E]?se(function(e,t,n,i){for(var o,s=a(e,null,i,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,t,n){return i[0]=e,a(i,null,n,o),!o.pop()}}),has:se(function(t){return function(e){return 0<ie(t,e).length}}),contains:se(function(t){return function(e){return-1<(e.textContent||e.innerText||s(e)).indexOf(t)}}),lang:se(function(n){return G.test(n||"")||ie.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:de(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=ue(e);function fe(){}function pe(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(r,e,t){var a=e.dir,l=t&&"parentNode"===a,c=h++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||l)return r(e,t,n)}:function(e,t,n){var i,o,s=[S,c];if(n){for(;e=e[a];)if((1===e.nodeType||l)&&r(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||l){if((i=(o=e[E]||(e[E]={}))[a])&&i[0]===S&&i[1]===c)return s[2]=i[2];if((o[a]=s)[2]=r(e,t,n))return!0}}}function ge(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function ve(e,t,n,i,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,i,o)||(r.push(s),c&&t.push(a)));return r}function ye(f,p,m,g,v,e){return g&&!g[E]&&(g=ye(g)),v&&!v[E]&&(v=ye(v,e)),se(function(e,t,n,i){var o,s,r,a=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)ie(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?u:ve(u,a,f,n,i),h=m?v||(e?f:c||g)?[]:t:d;if(m&&m(d,h,n,i),g)for(o=ve(h,l),g(o,[],n,i),s=o.length;s--;)(r=o[s])&&(h[l[s]]=!(d[l[s]]=r));if(e){if(v||f){if(v){for(o=[],s=h.length;s--;)(r=h[s])&&o.push(d[s]=r);v(null,h=[],o,i)}for(s=h.length;s--;)(r=h[s])&&-1<(o=v?L.call(e,r):a[s])&&(e[o]=!(t[o]=r))}}else h=ve(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):I.apply(t,h)})}function be(e){for(var i,t,n,o=e.length,s=w.relative[e[0].type],r=s||w.relative[" "],a=s?1:0,l=me(function(e){return e===i},r,!0),c=me(function(e){return-1<L.call(i,e)},r,!0),u=[function(e,t,n){return!s&&(n||t!==C)||((i=t).nodeType?l(e,t,n):c(e,t,n))}];a<o;a++)if(t=w.relative[e[a].type])u=[me(ge(u),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[E]){for(n=++a;n<o&&!w.relative[e[n].type];n++);return ye(1<a&&ge(u),1<a&&pe(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(F,"$1"),t,a<n&&be(e.slice(a,n)),n<o&&be(e=e.slice(n)),n<o&&pe(e))}u.push(t)}return ge(u)}return fe.prototype=w.filters=w.pseudos,w.setFilters=new fe,m=ie.tokenize=function(e,t){var n,i,o,s,r,a,l,c=f[e+" "];if(c)return t?0:c.slice(0);for(r=e,a=[],l=w.preFilter;r;){for(s in n&&!(i=W.exec(r))||(i&&(r=r.slice(i[0].length)||r),a.push(o=[])),n=!1,(i=U.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(F," ")}),r=r.slice(n.length)),w.filter)!(i=K[s].exec(r))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),r=r.slice(n.length));if(!n)break}return t?r.length:r?ie.error(e):f(e,a).slice(0)},d=ie.compile=function(e,t){var n,g,v,y,b,i,o=[],s=[],r=T[e+" "];if(!r){for(t||(t=m(e)),n=t.length;n--;)(r=be(t[n]))[E]?o.push(r):s.push(r);(r=T(e,(g=s,y=0<(v=o).length,b=0<g.length,i=function(e,t,n,i,o){var s,r,a,l=0,c="0",u=e&&[],d=[],h=C,f=e||b&&w.find.TAG("*",o),p=S+=null==h?1:Math.random()||.1,m=f.length;for(o&&(C=t!==x&&t);c!==m&&null!=(s=f[c]);c++){if(b&&s){for(r=0;a=g[r++];)if(a(s,t,n)){i.push(s);break}o&&(S=p)}y&&((s=!a&&s)&&l--,e&&u.push(s))}if(l+=c,y&&c!==l){for(r=0;a=v[r++];)a(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=R.call(i));d=ve(d)}I.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&ie.uniqueSort(i)}return o&&(S=p,C=h),u},y?se(i):i))).selector=e}return r},g=ie.select=function(e,t,n,i){var o,s,r,a,l,c="function"==typeof e&&e,u=!i&&m(e=c.selector||e);if(n=n||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(r=s[0]).type&&p.getById&&9===t.nodeType&&y&&w.relative[s[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=K.needsContext.test(e)?0:s.length;o--&&(r=s[o],!w.relative[a=r.type]);)if((l=w.find[a])&&(i=l(r.matches[0].replace(te,ne),Z.test(s[0].type)&&he(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&pe(s)))return I.apply(n,i),n;break}}return(c||d(e,u))(i,t,!y,n,Z.test(e)&&he(t.parentNode)||t),n},p.sortStable=E.split("").sort(N).join("")===E,p.detectDuplicates=!!u,v(),p.sortDetached=re(function(e){return 1&e.compareDocumentPosition(x.createElement("div"))}),re(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ae("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&re(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ae("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),re(function(e){return null==e.getAttribute("disabled")})||ae(O,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ie}(p);_.find=h,_.expr=h.selectors,_.expr[":"]=_.expr.pseudos,_.unique=h.uniqueSort,_.text=h.getText,_.isXMLDoc=h.isXML,_.contains=h.contains;var f=_.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function C(e,n,i){if(_.isFunction(n))return _.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return _.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(w.test(n))return _.filter(n,e,i);n=_.filter(n,e)}return _.grep(e,function(e){return 0<=o.call(n,e)!==i})}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<n;t++)if(_.contains(o[t],this))return!0}));for(t=0;t<n;t++)_.find(e,o[t],i);return(i=this.pushStack(1<n?_.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&f.test(e)?_(e):e||[],!1).length}});var x,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(_.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:E.exec(e))||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),b.test(n[1])&&_.isPlainObject(t))for(n in t)_.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):_.isFunction(e)?void 0!==x.ready?x.ready(e):e(_):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),_.makeArray(e,this))}).prototype=_.fn,x=_(y);var k=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.extend({dir:function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&_(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,s=[],r=f.test(e)||"string"!=typeof e?_(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&_.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?_.unique(s):s)},index:function(e){return e?"string"==typeof e?o.call(_(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.unique(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _.dir(e,"parentNode")},parentsUntil:function(e,t,n){return _.dir(e,"parentNode",n)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return _.dir(e,"nextSibling")},prevAll:function(e){return _.dir(e,"previousSibling")},nextUntil:function(e,t,n){return _.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return _.dir(e,"previousSibling",n)},siblings:function(e){return _.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return _.sibling(e.firstChild)},contents:function(e){return e.contentDocument||_.merge([],e.childNodes)}},function(i,o){_.fn[i]=function(e,t){var n=_.map(this,o,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=_.filter(t,n)),1<this.length&&(S[i]||_.unique(n),k.test(i)&&n.reverse()),this.pushStack(n)}});var N,A=/\S+/g,D={};function R(){y.removeEventListener("DOMContentLoaded",R,!1),p.removeEventListener("load",R,!1),_.ready()}_.Callbacks=function(o){var e,n;o="string"==typeof o?D[o]||(n=D[e=o]={},_.each(e.match(A)||[],function(e,t){n[t]=!0}),n):_.extend({},o);var t,i,s,r,a,l,c=[],u=!o.once&&[],d=function(e){for(t=o.memory&&e,i=!0,l=r||0,r=0,a=c.length,s=!0;c&&l<a;l++)if(!1===c[l].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}s=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function i(e){_.each(e,function(e,t){var n=_.type(t);"function"===n?o.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),s?a=c.length:t&&(r=e,d(t))}return this},remove:function(){return c&&_.each(arguments,function(e,t){for(var n;-1<(n=_.inArray(t,c,n));)c.splice(n,1),s&&(n<=a&&a--,n<=l&&l--)}),this},has:function(e){return e?-1<_.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],s?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},_.extend({Deferred:function(e){var s=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var o=arguments;return _.Deferred(function(i){_.each(s,function(e,t){var n=_.isFunction(o[e])&&o[e];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&_.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===r?i.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},a={};return r.pipe=r.then,_.each(s,function(e,t){var n=t[2],i=t[3];r[t[1]]=n.add,i&&n.add(function(){o=i},s[1^e][2].disable,s[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?r:this,arguments),this},a[t[0]+"With"]=n.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var o,t,n,i=0,s=u.call(arguments),r=s.length,a=1!==r||e&&_.isFunction(e.promise)?r:0,l=1===a?e:_.Deferred(),c=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===o?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<r)for(o=new Array(r),t=new Array(r),n=new Array(r);i<r;i++)s[i]&&_.isFunction(s[i].promise)?s[i].promise().done(c(i,n,s)).fail(l.reject).progress(c(i,t,o)):--a;return a||l.resolveWith(n,s),l.promise()}}),_.fn.ready=function(e){return _.ready.promise().done(e),this},_.extend({isReady:!1,readyWait:1,holdReady:function(e){e?_.readyWait++:_.ready(!0)},ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0)!==e&&0<--_.readyWait||(N.resolveWith(y,[_]),_.fn.triggerHandler&&(_(y).triggerHandler("ready"),_(y).off("ready")))}}),_.ready.promise=function(e){return N||(N=_.Deferred(),"complete"===y.readyState?setTimeout(_.ready):(y.addEventListener("DOMContentLoaded",R,!1),p.addEventListener("load",R,!1))),N.promise(e)},_.ready.promise();var P=_.access=function(e,t,n,i,o,s,r){var a=0,l=e.length,c=null==n;if("object"===_.type(n))for(a in o=!0,n)_.access(e,t,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,_.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;a<l;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):s};function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+Math.random()}_.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},I.uid=1,I.accepts=_.acceptData,I.prototype={key:function(t){if(!I.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=I.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,_.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,o=this.key(e),s=this.cache[o];if("string"==typeof t)s[t]=n;else if(_.isEmptyObject(s))_.extend(this.cache[o],t);else for(i in t)s[i]=t[i];return s},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,_.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,o,s=this.key(e),r=this.cache[s];if(void 0===t)this.cache[s]={};else{_.isArray(t)?i=t.concat(t.map(_.camelCase)):(o=_.camelCase(t),i=t in r?[t,o]:(i=o)in r?[i]:i.match(A)||[]),n=i.length;for(;n--;)delete r[i[n]]}},hasData:function(e){return!_.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var $=new I,L=new I,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,M=/([A-Z])/g;function H(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(M,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:O.test(n)?_.parseJSON(n):n)}catch(e){}L.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return L.hasData(e)||$.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),_.fn.extend({data:function(i,e){var t,n,o,s=this[0],r=s&&s.attributes;if(void 0===i){if(this.length&&(o=L.get(s),1===s.nodeType&&!$.get(s,"hasDataAttrs"))){for(t=r.length;t--;)r[t]&&0===(n=r[t].name).indexOf("data-")&&(n=_.camelCase(n.slice(5)),H(s,n,o[n]));$.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof i?this.each(function(){L.set(this,i)}):P(this,function(t){var e,n=_.camelCase(i);if(s&&void 0===t)return void 0!==(e=L.get(s,i))?e:void 0!==(e=L.get(s,n))?e:void 0!==(e=H(s,n,void 0))?e:void 0;this.each(function(){var e=L.get(this,n);L.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&L.set(this,i,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}}),_.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=$.get(e,t),n&&(!i||_.isArray(n)?i=$.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,o=n.shift(),s=_._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,function(){_.dequeue(e,t)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:_.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",n])})})}}),_.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?_.queue(this[0],t):void 0===n?this:this.each(function(){var e=_.queue(this,t,n);_._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&_.dequeue(this,t)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=_.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=$.get(s[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var j,z,B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,F=["Top","Right","Bottom","Left"],W=function(e,t){return e=t||e,"none"===_.css(e,"display")||!_.contains(e.ownerDocument,e)},U=/^(?:checkbox|radio)$/i;j=y.createDocumentFragment().appendChild(y.createElement("div")),(z=y.createElement("input")).setAttribute("type","radio"),z.setAttribute("checked","checked"),z.setAttribute("name","t"),j.appendChild(z),v.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,j.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!j.cloneNode(!0).lastChild.defaultValue;var q="undefined";v.focusinBubbles="onfocusin"in p;var V=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function X(){return!0}function Q(){return!1}function J(){try{return y.activeElement}catch(e){}}_.event={global:{},add:function(t,e,n,i,o){var s,r,a,l,c,u,d,h,f,p,m,g=$.get(t);if(g)for(n.handler&&(n=(s=n).handler,o=s.selector),n.guid||(n.guid=_.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(e){return typeof _!==q&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(A)||[""]).length;c--;)f=m=(a=Y.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=_.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=_.event.special[f]||{},u=_.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&_.expr.match.needsContext.test(o),namespace:p.join(".")},s),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,r)||t.addEventListener&&t.addEventListener(f,r,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),_.event.global[f]=!0)},remove:function(e,t,n,i,o){var s,r,a,l,c,u,d,h,f,p,m,g=$.hasData(e)&&$.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(A)||[""]).length;c--;)if(f=m=(a=Y.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=_.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||_.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)_.event.remove(e,f+t[c],n,i,!0);_.isEmptyObject(l)&&(delete g.handle,$.remove(e,"events"))}},trigger:function(e,t,n,i){var o,s,r,a,l,c,u,d=[n||y],h=g.call(e,"type")?e.type:e,f=g.call(e,"namespace")?e.namespace.split("."):[];if(s=r=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!K.test(h+_.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[_.expando]?e:new _.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:_.makeArray(t,[e]),u=_.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!_.isWindow(n)){for(a=u.delegateType||h,K.test(a+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),r=s;r===(n.ownerDocument||y)&&d.push(r.defaultView||r.parentWindow||p)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=1<o?a:u.bindType||h,(c=($.get(s,"events")||{})[e.type]&&$.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&_.acceptData(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!_.acceptData(n)||l&&_.isFunction(n[h])&&!_.isWindow(n)&&((r=n[l])&&(n[l]=null),n[_.event.triggered=h](),_.event.triggered=void 0,r&&(n[l]=r)),e.result}},dispatch:function(e){e=_.event.fix(e);var t,n,i,o,s,r,a=u.call(arguments),l=($.get(this,"events")||{})[e.type]||[],c=_.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=_.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(i=((_.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,s,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<a;n++)void 0===i[o=(s=t[n]).selector+" "]&&(i[o]=s.needsContext?0<=_(o,this).index(l):_.find(o,this,null,[l]).length),i[o]&&i.push(s);i.length&&r.push({elem:l,handlers:i})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||y).documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[_.expando])return e;var t,n,i,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=G.test(o)?this.mouseHooks:V.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new _.Event(s),t=i.length;t--;)e[n=i[t]]=s[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_.nodeName(this,"input"))return this.click(),!1},_default:function(e){return _.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=_.extend(new _.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?_.event.trigger(o,null,t):_.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?X:Q):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||_.now(),this[_.expando]=!0},_.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=X,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=X,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=X,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){_.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||_.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),v.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(e){_.event.simulate(i,e.target,_.event.fix(e),!0)};_.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=$.access(e,i);t||e.addEventListener(n,o,!0),$.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=$.access(e,i)-1;t?$.access(e,i,t):(e.removeEventListener(n,o,!0),$.remove(e,i))}}}),_.fn.extend({on:function(e,t,n,i,o){var s,r;if("object"==typeof e){for(r in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=Q;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),this.each(function(){_.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){_.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}});var Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ee=/<([\w:]+)/,te=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,se=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){return _.nodeName(e,"table")&&_.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ue(e){var t=se.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function de(e,t){for(var n=0,i=e.length;n<i;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}function he(e,t){var n,i,o,s,r,a,l,c;if(1===t.nodeType){if($.hasData(e)&&(s=$.access(e),r=$.set(t,s),c=s.events))for(o in delete r.handle,r.events={},c)for(n=0,i=c[o].length;n<i;n++)_.event.add(t,o,c[o][n]);L.hasData(e)&&(a=L.access(e),l=_.extend({},a),L.set(t,l))}}function fe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&_.nodeName(e,t)?_.merge([e],n):n}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,_.extend({clone:function(e,t,n){var i,o,s,r,a,l,c,u=e.cloneNode(!0),d=_.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(r=fe(u),i=0,o=(s=fe(e)).length;i<o;i++)a=s[i],"input"===(c=(l=r[i]).nodeName.toLowerCase())&&U.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(s=s||fe(e),r=r||fe(u),i=0,o=s.length;i<o;i++)he(s[i],r[i]);else he(e,u);return 0<(r=fe(u,"script")).length&&de(r,!d&&fe(e,"script")),u},buildFragment:function(e,t,n,i){for(var o,s,r,a,l,c,u=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===_.type(o))_.merge(d,o.nodeType?[o]:o);else if(te.test(o)){for(s=s||u.appendChild(t.createElement("div")),r=(ee.exec(o)||["",""])[1].toLowerCase(),a=ae[r]||ae._default,s.innerHTML=a[1]+o.replace(Z,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;_.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",h=0;o=d[h++];)if((!i||-1===_.inArray(o,i))&&(l=_.contains(o.ownerDocument,o),s=fe(u.appendChild(o),"script"),l&&de(s),n))for(c=0;o=s[c++];)oe.test(o.type||"")&&n.push(o);return u},cleanData:function(e){for(var t,n,i,o,s=_.event.special,r=0;void 0!==(n=e[r]);r++){if(_.acceptData(n)&&(o=n[$.expando])&&(t=$.cache[o])){if(t.events)for(i in t.events)s[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);$.cache[o]&&delete $.cache[o]}delete L.cache[n[L.expando]]}}}),_.fn.extend({text:function(e){return P(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||le(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?_.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||_.cleanData(fe(n)),n.parentNode&&(t&&_.contains(n.ownerDocument,n)&&de(fe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return P(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!ae[(ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Z,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,_.cleanData(fe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=m.apply([],n);var e,t,o,s,r,a,l=0,c=this.length,u=this,d=c-1,h=n[0],f=_.isFunction(h);if(f||1<c&&"string"==typeof h&&!v.checkClone&&ie.test(h))return this.each(function(e){var t=u.eq(e);f&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=_.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(s=(o=_.map(fe(e,"script"),ce)).length;l<c;l++)r=e,l!==d&&(r=_.clone(r,!0,!0),s&&_.merge(o,fe(r,"script"))),i.call(this[l],r,l);if(s)for(a=o[o.length-1].ownerDocument,_.map(o,ue),l=0;l<s;l++)r=o[l],oe.test(r.type||"")&&!$.access(r,"globalEval")&&_.contains(a,r)&&(r.src?_._evalUrl&&_._evalUrl(r.src):_.globalEval(r.textContent.replace(re,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){_.fn[e]=function(e){for(var t,n=[],i=_(e),o=i.length-1,s=0;s<=o;s++)t=s===o?this:this.clone(!0),_(i[s])[r](t),a.apply(n,t.get());return this.pushStack(n)}});var pe,me={};function ge(e,t){var n,i=_(t.createElement(e)).appendTo(t.body),o=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:_.css(i[0],"display");return i.detach(),o}function ve(e){var t=y,n=me[e];return n||("none"!==(n=ge(e,t))&&n||((t=(pe=(pe||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ge(e,t),pe.detach()),me[e]=n),n}var ye=/^margin/,be=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),we=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function Ce(e,t,n){var i,o,s,r,a=e.style;return(n=n||we(e))&&(r=n.getPropertyValue(t)||n[t]),n&&(""!==r||_.contains(e.ownerDocument,e)||(r=_.style(e,t)),be.test(r)&&ye.test(t)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,i=y.documentElement,o=y.createElement("div"),s=y.createElement("div");function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=p.getComputedStyle(s,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),p.getComputedStyle&&_.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=s.appendChild(y.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(p.getComputedStyle(t,null).marginRight),i.removeChild(o),e}}))}(),_.swap=function(e,t,n,i){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in o=n.apply(e,i||[]),t)e.style[s]=r[s];return o};var _e=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+B+")(.*)$","i"),ke=new RegExp("^([+-])=("+B+")","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},Ne=["Webkit","O","Moz","ms"];function Ae(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Ne.length;o--;)if((t=Ne[o]+n)in e)return t;return i}function De(e,t,n){var i=Ee.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Re(e,t,n,i,o){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,r=0;s<4;s+=2)"margin"===n&&(r+=_.css(e,n+F[s],!0,o)),i?("content"===n&&(r-=_.css(e,"padding"+F[s],!0,o)),"margin"!==n&&(r-=_.css(e,"border"+F[s]+"Width",!0,o))):(r+=_.css(e,"padding"+F[s],!0,o),"padding"!==n&&(r+=_.css(e,"border"+F[s]+"Width",!0,o)));return r}function Pe(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=we(e),r="border-box"===_.css(e,"boxSizing",!1,s);if(o<=0||null==o){if(((o=Ce(e,t,s))<0||null==o)&&(o=e.style[t]),be.test(o))return o;i=r&&(v.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+Re(e,t,n||(r?"border":"content"),i,s)+"px"}function Ie(e,t){for(var n,i,o,s=[],r=0,a=e.length;r<a;r++)(i=e[r]).style&&(s[r]=$.get(i,"olddisplay"),n=i.style.display,t?(s[r]||"none"!==n||(i.style.display=""),""===i.style.display&&W(i)&&(s[r]=$.access(i,"olddisplay",ve(i.nodeName)))):(o=W(i),"none"===n&&o||$.set(i,"olddisplay",o?n:_.css(i,"display"))));for(r=0;r<a;r++)(i=e[r]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[r]||"":"none"));return e}function $e(e,t,n,i,o){return new $e.prototype.init(e,t,n,i,o)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=_.camelCase(t),l=e.style;if(t=_.cssProps[a]||(_.cssProps[a]=Ae(l,a)),r=_.cssHooks[t]||_.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t];"string"==(s=typeof n)&&(o=ke.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(_.css(e,t)),s="number"),null!=n&&n==n&&("number"!==s||_.cssNumber[a]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var o,s,r,a=_.camelCase(t);return t=_.cssProps[a]||(_.cssProps[a]=Ae(e.style,a)),(r=_.cssHooks[t]||_.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=Ce(e,t,i)),"normal"===o&&t in Te&&(o=Te[t]),""===n||n?(s=parseFloat(o),!0===n||_.isNumeric(s)?s||0:o):o}}),_.each(["height","width"],function(e,o){_.cssHooks[o]={get:function(e,t,n){if(t)return _e.test(_.css(e,"display"))&&0===e.offsetWidth?_.swap(e,Se,function(){return Pe(e,o,n)}):Pe(e,o,n)},set:function(e,t,n){var i=n&&we(e);return De(0,t,n?Re(e,o,n,"border-box"===_.css(e,"boxSizing",!1,i),i):0)}}}),_.cssHooks.marginRight=xe(v.reliableMarginRight,function(e,t){if(t)return _.swap(e,{display:"inline-block"},Ce,[e,"marginRight"])}),_.each({margin:"",padding:"",border:"Width"},function(o,s){_.cssHooks[o+s]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+F[t]+s]=i[t]||i[t-2]||i[0];return n}},ye.test(o)||(_.cssHooks[o+s].set=De)}),_.fn.extend({css:function(e,t){return P(this,function(e,t,n){var i,o,s={},r=0;if(_.isArray(t)){for(i=we(e),o=t.length;r<o;r++)s[t[r]]=_.css(e,t[r],!1,i);return s}return void 0!==n?_.style(e,t,n):_.css(e,t)},e,t,1<arguments.length)},show:function(){return Ie(this,!0)},hide:function(){return Ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){W(this)?_(this).show():_(this).hide()})}}),((_.Tween=$e).prototype={constructor:$e,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(_.cssNumber[n]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,n=$e.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$e.propHooks._default.set(this),this}}).init.prototype=$e.prototype,($e.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[_.cssProps[e.prop]]||_.cssHooks[e.prop])?_.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},_.fx=$e.prototype.init,_.fx.step={};var Le,Oe,Me,He,je,ze=/^(?:toggle|show|hide)$/,Be=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),Fe=/queueHooks$/,We=[function(t,e,n){var i,o,s,r,a,l,c,u=this,d={},h=t.style,f=t.nodeType&&W(t),p=$.get(t,"fxshow");for(i in n.queue||(null==(a=_._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,_.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=_.css(t,"display"))?$.get(t,"olddisplay")||ve(t.nodeName):c)&&"none"===_.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(o=e[i],ze.exec(o)){if(delete e[i],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||_.style(t,i)}else c=void 0;if(_.isEmptyObject(d))"inline"===("none"===c?ve(t.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=$.access(t,"fxshow",{}),s&&(p.hidden=!f),f?_(t).show():u.done(function(){_(t).hide()}),u.done(function(){var e;for(e in $.remove(t,"fxshow"),d)_.style(t,e,d[e])}),d)r=Ge(f?p[i]:0,i,u),i in p||(p[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}],Ue={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=Be.exec(t),s=o&&o[3]||(_.cssNumber[e]?"":"px"),r=(_.cssNumber[e]||"px"!==s&&+i)&&Be.exec(_.css(n.elem,e)),a=1,l=20;if(r&&r[3]!==s)for(s=s||r[3],o=o||[],r=+i||1;r/=a=a||".5",_.style(n.elem,e,r+s),a!==(a=n.cur()/i)&&1!==a&&--l;);return o&&(r=n.start=+r||+i||0,n.unit=s,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};function qe(){return setTimeout(function(){Le=void 0}),Le=_.now()}function Ve(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=F[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Ge(e,t,n){for(var i,o=(Ue[t]||[]).concat(Ue["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function Ke(s,e,t){var n,r,i=0,o=We.length,a=_.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Le||qe(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return a.notifyWith(s,[c,n,t]),n<1&&o?t:(a.resolveWith(s,[c]),!1)},c=a.promise({elem:s,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Le||qe(),duration:t.duration,tweens:[],createTween:function(e,t){var n=_.Tween(s,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?a.resolveWith(s,[c,e]):a.rejectWith(s,[c,e]),this}}),u=c.props;for(function(e,t){var n,i,o,s,r;for(n in e)if(o=t[i=_.camelCase(n)],s=e[n],_.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=_.cssHooks[i])&&"expand"in r)for(n in s=r.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);i<o;i++)if(n=We[i].call(c,s,u,c.opts))return n;return _.map(u,Ge,c),_.isFunction(c.opts.start)&&c.opts.start.call(s,c),_.fx.timer(_.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}_.Animation=_.extend(Ke,{tweener:function(e,t){_.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;i<o;i++)n=e[i],Ue[n]=Ue[n]||[],Ue[n].unshift(t)},prefilter:function(e,t){t?We.unshift(e):We.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||_.isFunction(e)&&e,duration:e,easing:n&&t||t&&!_.isFunction(t)&&t};return i.duration=_.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_.isFunction(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=_.isEmptyObject(t),s=_.speed(e,n,i),r=function(){var e=Ke(this,_.extend({},t),s);(o||$.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(o,e,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=_.timers,i=$.get(this);if(t)i[t]&&i[t].stop&&r(i[t]);else for(t in i)i[t]&&i[t].stop&&Fe.test(t)&&r(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||_.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=$.get(this),n=t[r+"queue"],i=t[r+"queueHooks"],o=_.timers,s=n?n.length:0;for(t.finish=!0,_.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),_.each(["toggle","show","hide"],function(e,i){var o=_.fn[i];_.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Ve(i,!0),e,t,n)}}),_.each({slideDown:Ve("show"),slideUp:Ve("hide"),slideToggle:Ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){_.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(Le=_.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),Le=void 0},_.fx.timer=function(e){_.timers.push(e),e()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Oe||(Oe=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Oe),Oe=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(i,e){return i=_.fx&&_.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},Me=y.createElement("input"),je=(He=y.createElement("select")).appendChild(y.createElement("option")),Me.type="checkbox",v.checkOn=""!==Me.value,v.optSelected=je.selected,He.disabled=!0,v.optDisabled=!je.disabled,(Me=y.createElement("input")).value="t",Me.type="radio",v.radioValue="t"===Me.value;var Ye,Xe=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return P(this,_.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===q?_.prop(e,t,n):(1===s&&_.isXMLDoc(e)||(t=t.toLowerCase(),i=_.attrHooks[t]||(_.expr.match.bool.test(t)?Ye:void 0)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=_.find.attr(e,t))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void _.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,s=t&&t.match(A);if(s&&1===e.nodeType)for(;n=s[o++];)i=_.propFix[n]||n,_.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&_.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ye={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var s=Xe[t]||_.find.attr;Xe[t]=function(e,t,n){var i,o;return n||(o=Xe[t],Xe[t]=i,i=null!=s(e,t,n)?t.toLowerCase():null,Xe[t]=o),i}});var Qe=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(e,t){return P(this,_.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!_.isXMLDoc(e))&&(t=_.propFix[t]||t,o=_.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var Je=/[\t\r\n\f]/g;_.fn.extend({addClass:function(t){var e,n,i,o,s,r,a="string"==typeof t&&t,l=0,c=this.length;if(_.isFunction(t))return this.each(function(e){_(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(A)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):" ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=_.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(t){var e,n,i,o,s,r,a=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(_.isFunction(t))return this.each(function(e){_(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(A)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):"")){for(s=0;o=e[s++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r=t?_.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(o,t){var s=typeof o;return"boolean"==typeof t&&"string"===s?t?this.addClass(o):this.removeClass(o):_.isFunction(o)?this.each(function(e){_(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"===s)for(var e,t=0,n=_(this),i=o.match(A)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else s!==q&&"boolean"!==s||(this.className&&$.set(this,"__className__",this.className),this.className=this.className||!1===o?"":$.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Je," ").indexOf(t))return!0;return!1}});var Ze=/\r/g;_.fn.extend({val:function(n){var i,e,o,t=this[0];return arguments.length?(o=_.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,_(this).val()):n)?t="":"number"==typeof t?t+="":_.isArray(t)&&(t=_.map(t,function(e){return null==e?"":e+""})),(i=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=_.valHooks[t.type]||_.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Ze,""):null==e?"":e:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:_.trim(_.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,s="select-one"===e.type||o<0,r=s?null:[],a=s?o+1:i.length,l=o<0?a:s?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!_.nodeName(n.parentNode,"optgroup"))){if(t=_(n).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,s=_.makeArray(t),r=o.length;r--;)((i=o[r]).selected=0<=_.inArray(i.value,s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(_.isArray(t))return e.checked=0<=_.inArray(_(e).val(),t)}},v.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){_.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var et=_.now(),tt=/\?/;_.parseJSON=function(e){return JSON.parse(e+"")},_.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+e),t};var nt,it,ot=/#.*$/,st=/([?&])_=[^&]*/,rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,lt=/^\/\//,ct=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ut={},dt={},ht="*/".concat("*");try{it=location.href}catch(e){(it=y.createElement("a")).href="",it=it.href}function ft(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(A)||[];if(_.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(t)):(s[n]=s[n]||[]).push(t)}}function pt(t,o,s,r){var a={},l=t===dt;function c(e){var i;return a[e]=!0,_.each(t[e]||[],function(e,t){var n=t(o,s,r);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),c(n),!1)}),i}return c(o.dataTypes[0])||!a["*"]&&c("*")}function mt(e,t){var n,i,o=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}nt=ct.exec(it.toLowerCase())||[],_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:it,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,_.ajaxSettings),t):mt(_.ajaxSettings,e)},ajaxPrefilter:ft(ut),ajaxTransport:ft(dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,h,n,f,i,p,o,m=_.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?_(g):_.event,y=_.Deferred(),b=_.Callbacks("once memory"),w=m.statusCode||{},s={},r={},C=0,a="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!n)for(n={};t=rt.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=r[n]=r[n]||e,s[e]=t),this},overrideMimeType:function(e){return C||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(C<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||a;return u&&u.abort(t),l(0,t),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||it)+"").replace(ot,"").replace(lt,nt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=_.trim(m.dataType||"*").toLowerCase().match(A)||[""],null==m.crossDomain&&(i=ct.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===nt[1]&&i[2]===nt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=_.param(m.data,m.traditional)),pt(ut,m,t,x),2===C)return x;for(o in(p=m.global)&&0==_.active++&&_.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!at.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(tt.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=st.test(d)?d.replace(st,"$1_="+et++):d+(tt.test(d)?"&":"?")+"_="+et++)),m.ifModified&&(_.lastModified[d]&&x.setRequestHeader("If-Modified-Since",_.lastModified[d]),_.etag[d]&&x.setRequestHeader("If-None-Match",_.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ht+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===C))return x.abort();for(o in a="abort",{success:1,error:1,complete:1})x[o](m[o]);if(u=pt(dt,m,t,x)){x.readyState=1,p&&v.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(f=setTimeout(function(){x.abort("timeout")},m.timeout));try{C=1,u.send(s,l)}catch(e){if(!(C<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var o,s,r,a,l,c=t;2!==C&&(C=2,f&&clearTimeout(f),u=void 0,h=i||"",x.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}(m,x,n)),a=function(e,t,n,i){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(m,a,x,o),o?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(_.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(_.etag[d]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,s=a.data,o=!(r=a.error))):(r=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",o?y.resolveWith(g,[s,c,x]):y.rejectWith(g,[x,c,r]),x.statusCode(w),w=void 0,p&&v.trigger(o?"ajaxSuccess":"ajaxError",[x,m,o?s:r]),b.fireWith(g,[x,c]),p&&(v.trigger("ajaxComplete",[x,m]),--_.active||_.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,o){_[o]=function(e,t,n,i){return _.isFunction(t)&&(i=i||n,n=t,t=void 0),_.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(t){var e;return _.isFunction(t)?this.each(function(e){_(this).wrapAll(t.call(this,e))}):(this[0]&&(e=_(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return _.isFunction(n)?this.each(function(e){_(this).wrapInner(n.call(this,e))}):this.each(function(){var e=_(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=_.isFunction(t);return this.each(function(e){_(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},_.expr.filters.visible=function(e){return!_.expr.filters.hidden(e)};var gt=/%20/g,vt=/\[\]$/,yt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function Ct(n,e,i,o){var t;if(_.isArray(e))_.each(e,function(e,t){i||vt.test(n)?o(n,t):Ct(n+"["+("object"==typeof t?e:"")+"]",t,i,o)});else if(i||"object"!==_.type(e))o(n,e);else for(t in e)Ct(n+"["+t+"]",e[t],i,o)}_.param=function(e,t){var n,i=[],o=function(e,t){t=_.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){o(this.name,this.value)});else for(n in e)Ct(n,e[n],t,o);return i.join("&").replace(gt,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&wt.test(this.nodeName)&&!bt.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=_(this).val();return null==n?null:_.isArray(n)?_.map(n,function(e){return{name:t.name,value:e.replace(yt,"\r\n")}}):{name:t.name,value:n.replace(yt,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xt=0,_t={},Et={0:200,1223:204},kt=_.ajaxSettings.xhr();p.ActiveXObject&&_(p).on("unload",function(){for(var e in _t)_t[e]()}),v.cors=!!kt&&"withCredentials"in kt,v.ajax=kt=!!kt,_.ajaxTransport(function(s){var r;if(v.cors||kt&&!s.crossDomain)return{send:function(e,t){var n,i=s.xhr(),o=++xt;if(i.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(n in s.xhrFields)i[n]=s.xhrFields[n];for(n in s.mimeType&&i.overrideMimeType&&i.overrideMimeType(s.mimeType),s.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(delete _t[o],r=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(Et[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=r(),i.onerror=r("error"),r=_t[o]=r("abort");try{i.send(s.hasContent&&s.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=_("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(i[0])},abort:function(){o&&o()}}});var St=[],Tt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||_.expando+"_"+et++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,r=!1!==e.jsonp&&(Tt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tt.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=_.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Tt,"$1"+i):!1!==e.jsonp&&(e.url+=(tt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||_.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=p[i],p[i]=function(){s=arguments},n.always(function(){p[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,St.push(i)),s&&_.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),_.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var i=b.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=_.buildFragment([e],t,o),o&&o.length&&_(o).remove(),_.merge([],i.childNodes))};var Nt=_.fn.load;_.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var i,o,s,r=this,a=e.indexOf(" ");return 0<=a&&(i=_.trim(e.slice(a)),e=e.slice(0,a)),_.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<r.length&&_.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,r.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){r.each(n,s||[e.responseText,t,e])}),this},_.expr.filters.animated=function(t){return _.grep(_.timers,function(e){return t===e.elem}).length};var At=p.document.documentElement;function Dt(e){return _.isWindow(e)?e:9===e.nodeType&&e.defaultView}_.offset={setOffset:function(e,t,n){var i,o,s,r,a,l,c=_.css(e,"position"),u=_(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(r=(i=u.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),_.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;return s?(e=s.documentElement,_.contains(e,i)?(typeof i.getBoundingClientRect!==q&&(o=i.getBoundingClientRect()),n=Dt(s),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===_.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),_.nodeName(e[0],"html")||(i=e.offset()),i.top+=_.css(e[0],"borderTopWidth",!0),i.left+=_.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-_.css(n,"marginTop",!0),left:t.left-i.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||At;e&&!_.nodeName(e,"html")&&"static"===_.css(e,"position");)e=e.offsetParent;return e||At})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var s="pageYOffset"===o;_.fn[t]=function(e){return P(this,function(e,t,n){var i=Dt(e);if(void 0===n)return i?i[o]:e[t];i?i.scrollTo(s?p.pageXOffset:n,s?n:p.pageYOffset):e[t]=n},t,e,arguments.length,null)}}),_.each(["top","left"],function(e,n){_.cssHooks[n]=xe(v.pixelPosition,function(e,t){if(t)return t=Ce(e,n),be.test(t)?_(e).position()[n]+"px":t})}),_.each({Height:"height",Width:"width"},function(s,r){_.each({padding:"inner"+s,content:r,"":"outer"+s},function(i,e){_.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return P(this,function(e,t,n){var i;return _.isWindow(e)?e.document.documentElement["client"+s]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+s],i["scroll"+s],e.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?_.css(e,t,o):_.style(e,t,n,o)},r,n?e:void 0,n,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Rt=p.jQuery,Pt=p.$;return _.noConflict=function(e){return p.$===_&&(p.$=Pt),e&&p.jQuery===_&&(p.jQuery=Rt),_},typeof e===q&&(p.jQuery=p.$=_),_}),function(a,e){var i,t,n=0,o=/^ui-id-\d+$/;function s(e,t){var n,i,o,s=e.nodeName.toLowerCase();return"area"===s?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&!!(o=a("img[usemap=#"+i+"]")[0])&&r(o)):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s&&e.href||t)&&r(e)}function r(e){return a.expr.filters.visible(e)&&!a(e).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:(i=a.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){a(e).focus(),n&&n.call(e)},t)}):i.apply(this,arguments)}),scrollParent:function(){var e;return e=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n,i=a(this[0]);i.length&&i[0]!==document;){if(("absolute"===(t=i.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(t){return function(e){return!!a.data(e,t)}}):function(e,t,n){return!!a.data(e,n[3])},focusable:function(e){return s(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var t=a.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&s(e,!n)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(e,n){var o="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),s={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function r(e,t,n,i){return a.each(o,function(){t-=parseFloat(a.css(e,"padding"+this))||0,n&&(t-=parseFloat(a.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(a.css(e,"margin"+this))||0)}),t}a.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){a(this).css(i,r(this,e)+"px")})},a.fn["outer"+n]=function(e,t){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){a(this).css(i,r(this,e,!0,t)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(t=a.fn.removeData,function(e){return arguments.length?t.call(this,a.camelCase(e)):t.call(this)})),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(e,t,n){var i,o=a.ui[e].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([t,n[i]])},call:function(e,t,n){var i,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},hasScroll:function(e,t){if("hidden"===a(e).css("overflow"))return!1;var n,i=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)}})}(jQuery),function(u,a){var n=0,l=Array.prototype.slice,i=u.cleanData;u.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)try{u(t).triggerHandler("remove")}catch(e){}i(e)},u.widget=function(e,n,t){var i,o,s,r,a={},l=e.split(".")[0];e=e.split(".")[1],i=l+"-"+e,t||(t=n,n=u.Widget),u.expr[":"][i.toLowerCase()]=function(e){return!!u.data(e,i)},u[l]=u[l]||{},o=u[l][e],s=u[l][e]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},u.extend(s,o,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(r=new n).options=u.widget.extend({},r.options),u.each(t,function(t,i){var o,s;u.isFunction(i)?a[t]=(o=function(){return n.prototype[t].apply(this,arguments)},s=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=o,this._superApply=s,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):a[t]=i}),s.prototype=u.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:i}),o?(u.each(o._childConstructors,function(e,t){var n=t.prototype;u.widget(n.namespace+"."+n.widgetName,s,t._proto)}),delete o._childConstructors):n._childConstructors.push(s),u.widget.bridge(e,s)},u.widget.extend=function(e){for(var t,n,i=l.call(arguments,1),o=0,s=i.length;o<s;o++)for(t in i[o])n=i[o][t],i[o].hasOwnProperty(t)&&n!==a&&(u.isPlainObject(n)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],n):u.widget.extend({},n):e[t]=n);return e},u.widget.bridge=function(s,t){var r=t.prototype.widgetFullName||s;u.fn[s]=function(n){var e="string"==typeof n,i=l.call(arguments,1),o=this;return n=!e&&i.length?u.widget.extend.apply(null,[n].concat(i)):n,e?this.each(function(){var e,t=u.data(this,r);return t?u.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&e!==a?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+n+"' for "+s+" widget instance"):u.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var e=u.data(this,r);e?e.option(n||{})._init():u.data(this,r,new t(n,this))}),o}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=u(),this.hoverable=u(),this.focusable=u(),t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var n,i,o,s=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(n=e.split(".")).shift(),n.length){for(i=s[e]=u.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(e=n.pop(),t===a)return i[e]===a?null:i[e];i[e]=t}else{if(t===a)return this.options[e]===a?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(r,a,e){var l,c=this;"boolean"!=typeof r&&(e=a,a=r,r=!1),e?(a=l=u(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),u.each(e,function(e,t){function n(){if(r||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||u.guid++);var i=e.match(/^(\w+)\s*(.*)$/),o=i[1]+c.eventNamespace,s=i[2];s?l.delegate(s,o,n):a.bind(o,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){u(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){u(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){u(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){u(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var i,o,s=this.options[e];if(n=n||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(i in o)i in t||(t[i]=o[i]);return this.element.trigger(t,n),!(u.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(s,r){u.Widget.prototype["_"+s]=function(t,e,n){"string"==typeof e&&(e={effect:e});var i,o=e?!0===e||"number"==typeof e?r:e.effect||r:s;"number"==typeof(e=e||{})&&(e={duration:e}),i=!u.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&u.effects&&u.effects.effect[o]?t[s](e):o!==s&&t[o]?t[o](e.duration,e.easing,n):t.queue(function(e){u(this)[s](),n&&n.call(t[0]),e()})}})}(jQuery),function(o,e){var s=!1;o(document).mouseup(function(){s=!1}),o.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===o.data(e.target,t.widgetName+".preventClickEvent"))return o.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&o(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&o(e.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===o.data(e.target,this.widgetName+".preventClickEvent")&&o.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},o(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0))}},_mouseMove:function(e){return o.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return o(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&o.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(x,e){x.ui=x.ui||{};var o,_=Math.max,E=Math.abs,k=Math.round,i=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=x.fn.position;function S(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function T(e,t){return parseInt(x.css(e,t),10)||0}x.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t,n=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return x("body").append(n),e=i.offsetWidth,n.css("overflow","scroll"),e===(t=i.offsetWidth)&&(t=n[0].clientWidth),n.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?x.position.scrollbarWidth():0,height:i?x.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=x(e||window),n=x.isWindow(t[0]);return{element:t,isWindow:n,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:n?t.width():t.outerWidth(),height:n?t.height():t.outerHeight()}}},x.fn.position=function(d){if(!d||!d.of)return c.apply(this,arguments);d=x.extend({},d);var h,f,p,m,g,e,t,n,v=x(d.of),y=x.position.getWithinInfo(d.within),b=x.position.getScrollInfo(y),w=(d.collision||"flip").split(" "),C={};return e=9===(n=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:x.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(d.at="left top"),f=e.width,p=e.height,m=e.offset,g=x.extend({},m),x.each(["my","at"],function(){var e,t,n=(d[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",e=r.exec(n[0]),t=r.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],d[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?g.left+=f:"center"===d.at[0]&&(g.left+=f/2),"bottom"===d.at[1]?g.top+=p:"center"===d.at[1]&&(g.top+=p/2),h=S(C.at,f,p),g.left+=h[0],g.top+=h[1],this.each(function(){var n,e,r=x(this),a=r.outerWidth(),l=r.outerHeight(),t=T(this,"marginLeft"),i=T(this,"marginTop"),o=a+t+T(this,"marginRight")+b.width,s=l+i+T(this,"marginBottom")+b.height,c=x.extend({},g),u=S(C.my,r.outerWidth(),r.outerHeight());"right"===d.my[0]?c.left-=a:"center"===d.my[0]&&(c.left-=a/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],x.support.offsetFractions||(c.left=k(c.left),c.top=k(c.top)),n={marginLeft:t,marginTop:i},x.each(["left","top"],function(e,t){x.ui.position[w[e]]&&x.ui.position[w[e]][t](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:s,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:r})}),d.using&&(e=function(e){var t=m.left-c.left,n=t+f-a,i=m.top-c.top,o=i+p-l,s={target:{element:v,left:m.left,top:m.top,width:f,height:p},element:{element:r,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};f<a&&E(t+n)<f&&(s.horizontal="center"),p<l&&E(i+o)<p&&(s.vertical="middle"),_(E(t),E(n))>_(E(i),E(o))?s.important="horizontal":s.important="vertical",d.using.call(this,e,s)}),r.offset(x.extend(c,{using:e}))})},x.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,r=e.left-t.collisionPosition.marginLeft,a=o-r,l=r+t.collisionWidth-s-o;t.collisionWidth>s?0<a&&l<=0?(n=e.left+a+t.collisionWidth-s-o,e.left+=a-n):e.left=0<l&&a<=0?o:l<a?o+s-t.collisionWidth:o:0<a?e.left+=a:0<l?e.left-=l:e.left=_(e.left-r,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,a=o-r,l=r+t.collisionHeight-s-o;t.collisionHeight>s?0<a&&l<=0?(n=e.top+a+t.collisionHeight-s-o,e.top+=a-n):e.top=0<l&&a<=0?o:l<a?o+s-t.collisionHeight:o:0<a?e.top+=a:0<l?e.top-=l:e.top=_(e.top-r,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-a,u=l+t.collisionWidth-r-a,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((n=e.left+d+h+f+t.collisionWidth-r-s)<0||n<E(c))&&(e.left+=d+h+f):0<u&&(0<(i=e.left-t.collisionPosition.marginLeft+d+h+f-a)||E(i)<u)&&(e.left+=d+h+f)},top:function(e,t){var n,i,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-a,u=l+t.collisionHeight-r-a,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?(i=e.top+d+h+f+t.collisionHeight-r-s,e.top+d+h+f>c&&(i<0||i<E(c))&&(e.top+=d+h+f)):0<u&&(n=e.top-t.collisionPosition.marginTop+d+h+f-a,e.top+d+h+f>u&&(0<n||E(n)<u)&&(e.top+=d+h+f))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,n,i,o,s=document.getElementsByTagName("body")[0],r=document.createElement("div");for(o in e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&x.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)e.style[o]=n[o];e.appendChild(r),(t=s||document.documentElement).insertBefore(e,t.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",i=x(r).offset().left,x.support.offsetFractions=10<i&&i<11,e.innerHTML="",t.removeChild(e)}()}(jQuery),function(b,e){b.widget("ui.draggable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<b(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(b(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){b("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),0)))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,b.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!t.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(n=b.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),("original"!==this.options.helper||b.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,e),b.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!b(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var t=this.options,n=b.isFunction(t.helper)?b(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),b.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=b(i.containment))[0])&&(e="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t)):this.containment=i.containment:this.containment=[0,0,b(document).width()-this.helperProportions.width-this.margins.left,(b(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var t,n,i,o,s=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),t=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):t=this.containment,e.pageX-this.offset.click.left<t[0]&&(a=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(l=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(a=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(l=t[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=t?i-this.offset.click.top>=t[1]||i-this.offset.click.top>t[3]?i:i-this.offset.click.top>=t[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,a=t?o-this.offset.click.left>=t[0]||o-this.offset.click.left>t[2]?o:o-this.offset.click.left>=t[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,n){return n=n||this._uiHash(),b.ui.plugin.call(this,e,[t,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var n=b(this).data("ui-draggable"),i=n.options,o=b.extend({},e,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var e=b.data(this,"ui-sortable");e&&!e.options.disabled&&(n.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,o))})},stop:function(e,t){var n=b(this).data("ui-draggable"),i=b.extend({},t,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,i))})},drag:function(n,i){var o=b(this).data("ui-draggable"),s=this;b.each(o.sortables,function(){var e=!1,t=this;this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(o.sortables,function(){return this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this!==t&&this.instance._intersectsWith(this.instance.containerCache)&&b.contains(t.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},n.target=this.instance.currentItem[0],this.instance._mouseCapture(n,!0),this.instance._mouseStart(n,!0,!0),this.instance.offset.click.top=o.offset.click.top,this.instance.offset.click.left=o.offset.click.left,this.instance.offset.parent.left-=o.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=o.offset.parent.top-this.instance.offset.parent.top,o._trigger("toSortable",n),o.dropped=this.instance.element,o.currentItem=o.element,this.instance.fromOutside=o),this.instance.currentItem&&this.instance._mouseDrag(n)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",n,this.instance._uiHash(this.instance)),this.instance._mouseStop(n,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),o._trigger("fromSortable",n),o.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(){var e=b("body"),t=b(this).data("ui-draggable").options;e.css("cursor")&&(t._cursor=e.css("cursor")),e.css("cursor",t.cursor)},stop:function(){var e=b(this).data("ui-draggable").options;e._cursor&&b("body").css("cursor",e._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(e,t){var n=b(t.helper),i=b(this).data("ui-draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(e,t){var n=b(this).data("ui-draggable").options;n._opacity&&b(t.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(){var e=b(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var t=b(this).data("ui-draggable"),n=t.options,i=!1;t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(t.overflowOffset.top+t.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?t.scrollParent[0].scrollTop=i=t.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-t.overflowOffset.top<n.scrollSensitivity&&(t.scrollParent[0].scrollTop=i=t.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(t.overflowOffset.left+t.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?t.scrollParent[0].scrollLeft=i=t.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-t.overflowOffset.left<n.scrollSensitivity&&(t.scrollParent[0].scrollLeft=i=t.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-b(document).scrollTop()<n.scrollSensitivity?i=b(document).scrollTop(b(document).scrollTop()-n.scrollSpeed):b(window).height()-(e.pageY-b(document).scrollTop())<n.scrollSensitivity&&(i=b(document).scrollTop(b(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-b(document).scrollLeft()<n.scrollSensitivity?i=b(document).scrollLeft(b(document).scrollLeft()-n.scrollSpeed):b(window).width()-(e.pageX-b(document).scrollLeft())<n.scrollSensitivity&&(i=b(document).scrollLeft(b(document).scrollLeft()+n.scrollSpeed)))),!1!==i&&b.ui.ddmanager&&!n.dropBehaviour&&b.ui.ddmanager.prepareOffsets(t,e)}}),b.ui.plugin.add("draggable","snap",{start:function(){var n=b(this).data("ui-draggable"),e=n.options;n.snapElements=[],b(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=b(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){var n,i,o,s,r,a,l,c,u,d,h=b(this).data("ui-draggable"),f=h.options,p=f.snapTolerance,m=t.offset.left,g=m+h.helperProportions.width,v=t.offset.top,y=v+h.helperProportions.height;for(u=h.snapElements.length-1;0<=u;u--)a=(r=h.snapElements[u].left)+h.snapElements[u].width,c=(l=h.snapElements[u].top)+h.snapElements[u].height,g<r-p||a+p<m||y<l-p||c+p<v||!b.contains(h.snapElements[u].item.ownerDocument,h.snapElements[u].item)?(h.snapElements[u].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,e,b.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(l-y)<=p,i=Math.abs(c-v)<=p,o=Math.abs(r-g)<=p,s=Math.abs(a-m)<=p,n&&(t.position.top=h._convertPositionTo("relative",{top:l-h.helperProportions.height,left:0}).top-h.margins.top),i&&(t.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),o&&(t.position.left=h._convertPositionTo("relative",{top:0,left:r-h.helperProportions.width}).left-h.margins.left),s&&(t.position.left=h._convertPositionTo("relative",{top:0,left:a}).left-h.margins.left)),d=n||i||o||s,"outer"!==f.snapMode&&(n=Math.abs(l-v)<=p,i=Math.abs(c-y)<=p,o=Math.abs(r-m)<=p,s=Math.abs(a-g)<=p,n&&(t.position.top=h._convertPositionTo("relative",{top:l,left:0}).top-h.margins.top),i&&(t.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),o&&(t.position.left=h._convertPositionTo("relative",{top:0,left:r}).left-h.margins.left),s&&(t.position.left=h._convertPositionTo("relative",{top:0,left:a-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[u].snapping&&(n||i||o||s||d)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,e,b.extend(h._uiHash(),{snapItem:h.snapElements[u].item})),h.snapElements[u].snapping=n||i||o||s||d)}}),b.ui.plugin.add("draggable","stack",{start:function(){var t,e=this.data("ui-draggable").options,n=b.makeArray(b(e.stack)).sort(function(e,t){return(parseInt(b(e).css("zIndex"),10)||0)-(parseInt(b(t).css("zIndex"),10)||0)});n.length&&(t=parseInt(b(n[0]).css("zIndex"),10)||0,b(n).each(function(e){b(this).css("zIndex",t+e)}),this.css("zIndex",t+n.length))}}),b.ui.plugin.add("draggable","zIndex",{start:function(e,t){var n=b(t.helper),i=b(this).data("ui-draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(e,t){var n=b(this).data("ui-draggable").options;n._zIndex&&b(t.helper).css("zIndex",n._zIndex)}})}(jQuery),function(a,e){function h(e,t,n){return t<e&&e<t+n}a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,t=e.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[e.scope]=a.ui.ddmanager.droppables[e.scope]||[],a.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,t=a.ui.ddmanager.droppables[this.options.scope];e<t.length;e++)t[e]===this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){"accept"===e&&(this.accept=a.isFunction(t)?t:function(e){return e.is(t)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=a.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=a.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var n=t||a.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=a.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&a.ui.intersect(n,a.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(i=!0)}),!i&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),a.ui.intersect=function(e,t,n){if(!t.offset)return!1;var i,o=(e.positionAbs||e.position.absolute).left,s=o+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,a=r+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,u=t.offset.top,d=u+t.proportions.height;switch(n){case"fit":return l<=o&&s<=c&&u<=r&&a<=d;case"intersect":return l<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<c&&u<r+e.helperProportions.height/2&&a-e.helperProportions.height/2<d;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,h((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,u,t.proportions.height)&&h(i,l,t.proportions.width);case"touch":return(u<=r&&r<=d||u<=a&&a<=d||r<u&&d<a)&&(l<=o&&o<=c||l<=s&&s<=c||o<l&&c<s);default:return!1}},a.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,o=a.ui.ddmanager.droppables[e.options.scope]||[],s=t?t.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(i=0;i<r.length;i++)if(r[i]===o[n].element[0]){o[n].proportions.height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],t),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(e,t){var n=!1;return a.each((a.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,t)})},drag:function(s,r){s.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(s,r),a.each(a.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,n,i=a.ui.intersect(s,this,this.options.tolerance),o=!i&&this.isover?"isout":i&&!this.isover?"isover":null;o&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===t})).length&&((e=a.data(n[0],"ui-droppable")).greedyChild="isover"===o)),e&&"isover"===o&&(e.isover=!1,e.isout=!0,e._out.call(e,r)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,r),e&&"isout"===o&&(e.isout=!1,e.isover=!0,e._over.call(e,r)))}})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,t)}}}(jQuery),function(v,e){function h(e){return parseInt(e,10)||0}function d(e){return!isNaN(parseInt(e,10))}v.widget("ui.resizable",v.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,t,n,i,o=this,s=this.options;if(this.element.addClass("ui-resizable"),v.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(v("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(v(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)n=v.trim(e[t]),(i=v("<div class='ui-resizable-handle ui-resizable-"+n+"'></div>")).css({zIndex:s.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(e){var t,n,i,o;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String&&(this.handles[t]=v(this.handles[t],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=v(this.handles[t],this.element),o=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,o),this._proportionallyResize()),v(this.handles[t]).length},this._renderAxis(this.element),this._handles=v(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),s.autoHide&&(this._handles.hide(),v(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(v(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(v(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){v(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)((n=v(this.handles[t])[0])===e.target||v.contains(n,e.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,o=this.options,s=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),t=h(this.helper.css("left")),n=h(this.helper.css("top")),o.containment&&(t+=v(o.containment).scrollLeft()||0,n+=v(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:t,top:n},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=v(".ui-resizable-"+this.axis).css("cursor"),v("body").css("cursor","auto"===i?this.axis+"-resize":i),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,n=this.helper,i={},o=this.originalMousePosition,s=this.axis,r=this.position.top,a=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,h=this._change[s];return h&&(t=h.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this.position.top!==r&&(i.top=this.position.top+"px"),this.position.left!==a&&(i.left=this.position.left+"px"),this.size.width!==l&&(i.width=this.size.width+"px"),this.size.height!==c&&(i.height=this.size.height+"px"),n.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),v.isEmptyObject(i)||this._trigger("resize",e,this.ui())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,o,s,r,a,l=this.options,c=this;return this._helper&&(i=(n=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&v.ui.hasScroll(t[0],"left")?0:c.sizeDiff.height,o=n?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-i},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(v.extend(s,{top:a,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),v("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i,o,s,r=this.options;s={minWidth:d(r.minWidth)?r.minWidth:0,maxWidth:d(r.maxWidth)?r.maxWidth:1/0,minHeight:d(r.minHeight)?r.minHeight:0,maxHeight:d(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),d(e.left)&&(this.position.left=e.left),d(e.top)&&(this.position.top=e.top),d(e.height)&&(this.size.height=e.height),d(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return d(e.height)?e.width=e.height*this.aspectRatio:d(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=d(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=d(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=d(e.width)&&t.minWidth&&t.minWidth>e.width,r=d(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,i,o,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],i=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(i[t],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||v("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return v.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return v.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return v.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return v.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){v.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),v.ui.plugin.add("resizable","animate",{stop:function(t){var n=v(this).data("ui-resizable"),e=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&v.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,r=o?0:n.sizeDiff.width,a={width:n.size.width-r,height:n.size.height-s},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(v.extend(a,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&v(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),v.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,o,s,r,a=v(this).data("ui-resizable"),l=a.options,c=a.element,u=l.containment,d=u instanceof v?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(a.containerElement=v(d),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:v(document),left:0,top:0,width:v(document).width(),height:v(document).height()||document.body.parentNode.scrollHeight}):(n=v(d),i=[],v(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=h(n.css("padding"+t))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},e=a.containerOffset,t=a.containerSize.height,o=a.containerSize.width,s=v.ui.hasScroll(d,"left")?d.scrollWidth:o,r=v.ui.hasScroll(d)?d.scrollHeight:t,a.parentData={element:d,left:e.left,top:e.top,width:s,height:r}))},resize:function(e){var t,n,i,o,s=v(this).data("ui-resizable"),r=s.options,a=s.containerOffset,l=s.position,c=s._aspectRatio||e.shiftKey,u={top:0,left:0},d=s.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=a),l.left<(s._helper?a.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-a.left:s.position.left-u.left),c&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=r.helper?a.left:0),l.top<(s._helper?a.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-a.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?a.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,t=Math.abs((s._helper,s.offset.left-u.left+s.sizeDiff.width)),n=Math.abs((s._helper?s.offset.top-u.top:s.offset.top-a.top)+s.sizeDiff.height),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o&&(t-=s.parentData.left),t+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-t,c&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,c&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var e=v(this).data("ui-resizable"),t=e.options,n=e.containerOffset,i=e.containerPosition,o=e.containerElement,s=v(e.helper),r=s.offset(),a=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(o.css("position"))&&v(this).css({left:r.left-i.left-n.left,width:a,height:l}),e._helper&&!t.animate&&/static/.test(o.css("position"))&&v(this).css({left:r.left-i.left-n.left,width:a,height:l})}}),v.ui.plugin.add("resizable","alsoResize",{start:function(){var e=v(this).data("ui-resizable").options,t=function(e){v(e).each(function(){var e=v(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):v.each(e.alsoResize,function(e){t(e)})},resize:function(e,s){var t=v(this).data("ui-resizable"),n=t.options,i=t.originalSize,o=t.originalPosition,r={height:t.size.height-i.height||0,width:t.size.width-i.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0},a=function(e,n){v(e).each(function(){var e=v(this),i=v(this).data("ui-resizable-alsoresize"),o={},t=n&&n.length?n:e.parents(s.originalElement[0]).length?["width","height"]:["width","height","top","left"];v.each(t,function(e,t){var n=(i[t]||0)+(r[t]||0);n&&0<=n&&(o[t]=n||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?a(n.alsoResize):v.each(n.alsoResize,function(e,t){a(e,t)})},stop:function(){v(this).removeData("resizable-alsoresize")}}),v.ui.plugin.add("resizable","ghost",{start:function(){var e=v(this).data("ui-resizable"),t=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=v(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=v(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),v.ui.plugin.add("resizable","grid",{resize:function(){var e=v(this).data("ui-resizable"),t=e.options,n=e.size,i=e.originalSize,o=e.originalPosition,s=e.axis,r="number"==typeof t.grid?[t.grid,t.grid]:t.grid,a=r[0]||1,l=r[1]||1,c=Math.round((n.width-i.width)/a)*a,u=Math.round((n.height-i.height)/l)*l,d=i.width+c,h=i.height+u,f=t.maxWidth&&t.maxWidth<d,p=t.maxHeight&&t.maxHeight<h,m=t.minWidth&&t.minWidth>d,g=t.minHeight&&t.minHeight>h;t.grid=r,m&&(d+=a),g&&(h+=l),f&&(d-=a),p&&(h-=l),/^(se|s|e)$/.test(s)?(e.size.width=d,e.size.height=h):/^(ne)$/.test(s)?(e.size.width=d,e.size.height=h,e.position.top=o.top-u):(/^(sw)$/.test(s)?(e.size.width=d,e.size.height=h):(e.size.width=d,e.size.height=h,e.position.top=o.top-u),e.position.left=o.left-c)}})}(jQuery),function(c,e){c.widget("ui.selectable",c.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=c(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=c(this),t=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=c(e.filter,this.element[0]),this._trigger("start",n),c(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=c.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),c(n.target).parents().addBack().each(function(){var e,t=c.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var e,i=this,o=this.options,s=this.opos[0],r=this.opos[1],a=n.pageX,l=n.pageY;return a<s&&(e=a,a=s,s=e),l<r&&(e=l,l=r,r=e),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var e=c.data(this,"selectable-item"),t=!1;e&&e.element!==i.element[0]&&("touch"===o.tolerance?t=!(e.left>a||e.right<s||e.top>l||e.bottom<r):"fit"===o.tolerance&&(t=e.left>s&&e.right<a&&e.top>r&&e.bottom<l),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,i._trigger("selecting",n,{selecting:e.element}))):(e.selecting&&((n.metaKey||n.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),i._trigger("unselecting",n,{unselecting:e.element}))),e.selected&&(n.metaKey||n.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),c(".ui-selecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(f,e){function p(e,t,n){return t<e&&e<t+n}function m(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}f.widget("ui.sortable",f.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||m(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget().toggleClass("ui-sortable-disabled",!!t)):f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var n=null,i=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),f(e.target).parents().each(function(){if(f.data(this,o.widgetName+"-item")===o)return n=f(this),!1}),f.data(e.target,o.widgetName+"-item")===o&&(n=f(e.target)),!n||this.options.handle&&!t&&(f(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,t,n){var i,o,s=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=f("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!s.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,o,s=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-f(document).scrollTop()<s.scrollSensitivity?r=f(document).scrollTop(f(document).scrollTop()-s.scrollSpeed):f(window).height()-(e.pageY-f(document).scrollTop())<s.scrollSensitivity&&(r=f(document).scrollTop(f(document).scrollTop()+s.scrollSpeed)),e.pageX-f(document).scrollLeft()<s.scrollSensitivity?r=f(document).scrollLeft(f(document).scrollLeft()-s.scrollSpeed):f(window).width()-(e.pageX-f(document).scrollLeft())<s.scrollSensitivity&&(r=f(document).scrollLeft(f(document).scrollLeft()+s.scrollSpeed))),!1!==r&&f.ui.ddmanager&&!s.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||f.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&f.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),f.ui.ddmanager&&f.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,e),this.options.revert){var n=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},f(e).each(function(){var e=(f(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(f(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||a<i+c&&i+c<l,h="y"===this.options.axis||s<t+u&&t+u<r,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<r&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||p(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||p(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=p(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=p(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,o,s=[],r=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(n=(i=f(a[t])).length-1;0<=n;n--)(o=f.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([f.isFunction(o.options.items)?o.options.items.call(o.element):f(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;0<=t;t--)r[t][0].each(function(){s.push(this)});return f(s)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,o,s,r,a,l,c=this.items,u=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):f(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(n=(i=f(d[t])).length-1;0<=n;n--)(o=f.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([f.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):f(o.options.items,o.element),o]),this.containers.push(o));for(t=u.length-1;0<=t;t--)for(s=u[t][1],n=0,l=(r=u[t][0]).length;n<l;n++)(a=f(r[n])).data(this.widgetName+"-item",s),c.push({item:a,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?f(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),o=i.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)o=this.containers[t].element.offset(),this.containers[t].containerCache.left=o.left,this.containers[t].containerCache.top=o.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,o=(n=n||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,o.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=f("<"+e+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?n.currentItem.children().each(function(){f("<td>&#160;</td>",n.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!o.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=f(o.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),o.placeholder.update(n,n.placeholder)},_contactContainers:function(e){var t,n,i,o,s,r,a,l,c,u,d=null,h=null;for(t=this.containers.length-1;0<=t;t--)if(!f.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(d&&f.contains(this.containers[t].element[0],d.element[0]))continue;d=this.containers[t],h=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,o=null,s=(u=d.floating||m(this.currentItem))?"left":"top",r=u?"width":"height",a=this.positionAbs[s]+this.offset.click[s],n=this.items.length-1;0<=n;n--)f.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(u&&!p(this.positionAbs.top+this.offset.click.top,this.items[n].top,this.items[n].height)||(l=this.items[n].item.offset()[s],c=!1,Math.abs(l-a)>Math.abs(l+this.items[n][r]-a)&&(c=!0,l+=this.items[n][r]),Math.abs(l-a)<i&&(i=Math.abs(l-a),o=this.items[n],this.direction=c?"up":"down")));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=f.isFunction(t.helper)?f(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||f("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!t.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!t.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),f.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(f("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=f(i.containment)[0],t=f(i.containment).offset(),n="hidden"!==f(e).css("overflow"),this.containment=[t.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,o=e.pageX,s=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1]:t,n=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||f([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}(jQuery),function(r,e){var i=0;r.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var n,i,o,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,s="input"===e;this.isMultiLine=!!t||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=o=n=!0;else{i=o=n=!1;var t=r.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:case t.NUMPAD_ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!i){var t=r.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(o)return o=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=r("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];r(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===n||r.contains(n,e.target)||t.close()})})},menufocus:function(e,t){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){r(e.target).trigger(e.originalEvent)});var n=t.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=r("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var n,i,o=this;r.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(r.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){o.xhr&&o.xhr.abort(),o.xhr=r.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=this,n=++i;return function(e){n===i&&t.__response(e),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:r.map(e,function(e){return"string"==typeof e?{label:e,value:e}:r.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(r.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;r.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return r("<li>").append(r("<a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),r.extend(r.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(r.ui.autocomplete.escapeRegex(t),"i");return r.grep(e,function(e){return n.test(e.label||e.value||e)})}}),r.widget("ui.autocomplete",r.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(l,e){l.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(e){var t=l(e.target).closest(".ui-menu-item");!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),t.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t=l(e.currentTarget);t.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(e){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){l(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=l(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var t,n,i,o,s,r=!0;function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(e);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case l.ui.keyCode.HOME:this._move("first","first",e);break;case l.ui.keyCode.END:this._move("last","last",e);break;case l.ui.keyCode.UP:this.previous(e);break;case l.ui.keyCode.DOWN:this.next(e);break;case l.ui.keyCode.LEFT:this.collapse(e);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(e);break;case l.ui.keyCode.ESCAPE:this.collapse(e);break;default:r=!1,n=this.previousFilter||"",i=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),i===n?o=!0:i=n+i,s=new RegExp("^"+a(i),"i"),t=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(l(this).children("a").text())}),(t=o&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),s=new RegExp("^"+a(i),"i"),t=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(l(this).children("a").text())})),t.length?(this.focus(e,t),1<t.length?(this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}r&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i=this.options.icons.submenu,t=this.element.find(this.options.menus);t.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=l(this),t=e.prev("a"),n=l("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),(e=t.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=l(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i,o,s,r;this._hasScroll()&&(t=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,i=e.offset().top-this.activeMenu.offset().top-t-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),r=e.height(),i<0?this.activeMenu.scrollTop(o+i):s<i+r&&this.activeMenu.scrollTop(o+i-s+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:l(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=l(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=l(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||l(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)}})}(jQuery),function(u,e){var n,a="ui-effects-";u.effects={effect:{}},function(u,d){var c,h=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=u.Color=function(e,t,n,i){return new u.Color.fn.parse(e,t,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},r=f.support={},t=u("<p>")[0],g=u.each;function v(e,t,n){var i=m[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function a(r){var a=f(),l=a._rgba=[];return r=r.toLowerCase(),g(e,function(e,t){var n,i=t.re.exec(r),o=i&&t.parse(i),s=t.space||"rgba";if(o)return n=a[s](o),a[p[s].cache]=n[p[s].cache],l=a._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&u.extend(l,c.transparent),a):c[r]}function l(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}t.style.cssText="background-color:rgba(1,1,1,.5)",r.rgba=-1<t.style.backgroundColor.indexOf("rgba"),g(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=u.extend(f.prototype,{parse:function(o,e,t,n){if(o===d)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=u(o).css(e),e=d);var s=this,i=u.type(o),r=this._rgba=[];return e!==d&&(o=[o,e,t,n],i="array"),"string"===i?this.parse(a(o)||c._default):"array"===i?(g(p.rgba.props,function(e,t){r[t.idx]=v(o[t.idx],t)}),this):"object"===i?(g(p,o instanceof f?function(e,t){o[t.cache]&&(s[t.cache]=o[t.cache].slice())}:function(e,n){var i=n.cache;g(n.props,function(e,t){if(!s[i]&&n.to){if("alpha"===e||null==o[e])return;s[i]=n.to(s._rgba)}s[i][t.idx]=v(o[e],t,!0)}),s[i]&&u.inArray(null,s[i].slice(0,3))<0&&(s[i][3]=1,n.from&&(s._rgba=n.from(s[i])))}),this):void 0},is:function(e){var o=f(e),s=!0,r=this;return g(p,function(e,t){var n,i=o[t.cache];return i&&(n=r[t.cache]||t.to&&t.to(r._rgba)||[],g(t.props,function(e,t){if(null!=i[t.idx])return s=i[t.idx]===n[t.idx]})),s}),s},_space:function(){var n=[],i=this;return g(p,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,r){var a=f(e),t=a._space(),n=p[t],i=0===this.alpha()?f("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return a=a[n.cache],g(n.props,function(e,t){var n=t.idx,i=l[n],o=a[n],s=m[t.type]||{};null!==o&&(null===i?c[n]=o:(s.mod&&(o-i>s.mod/2?i+=s.mod:i-o>s.mod/2&&(i-=s.mod)),c[n]=v((o-i)*r+i,t)))}),this[t](c)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=f(e)._rgba;return f(u.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+u.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,s=e[2]/255,r=e[3],a=Math.max(i,o,s),l=Math.min(i,o,s),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(o-s)/c+360:o===a?60*(s-i)/c+120:60*(i-o)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],s=i<=.5?i*(1+n):i+n-i*n,r=2*i-s;return[Math.round(255*l(r,s,t+1/3)),Math.round(255*l(r,s,t)),Math.round(255*l(r,s,t-1/3)),o]},g(p,function(l,e){var n=e.props,r=e.cache,a=e.to,c=e.from;f.fn[l]=function(e){if(a&&!this[r]&&(this[r]=a(this._rgba)),e===d)return this[r].slice();var t,i=u.type(e),o="array"===i||"object"===i?e:arguments,s=this[r].slice();return g(n,function(e,t){var n=o["object"===i?e:t.idx];null==n&&(n=s[t.idx]),s[t.idx]=v(n,t)}),c?((t=f(c(s)))[r]=s,t):f(s)},g(n,function(r,a){f.fn[r]||(f.fn[r]=function(e){var t,n=u.type(e),i="alpha"===r?this._hsla?"hsla":"rgba":l,o=this[i](),s=o[a.idx];return"undefined"===n?s:("function"===n&&(e=e.call(this,s),n=u.type(e)),null==e&&a.empty?this:("string"===n&&(t=h.exec(e))&&(e=s+parseFloat(t[2])*("+"===t[1]?1:-1)),o[a.idx]=e,this[i](o)))})})}),f.hook=function(e){var t=e.split(" ");g(t,function(e,s){u.cssHooks[s]={set:function(e,t){var n,i,o="";if("transparent"!==t&&("string"!==u.type(t)||(n=a(t)))){if(t=f(n||t),!r.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===s?e.parentNode:e;(""===o||"transparent"===o)&&i&&i.style;)try{o=u.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(o&&"transparent"!==o?o:"_default")}t=t.toRgbaString()}try{e.style[s]=t}catch(e){}}},u.fx.step[s]=function(e){e.colorInit||(e.start=f(e.elem,s),e.end=f(e.end),e.colorInit=!0),u.cssHooks[s].set(e.elem,e.start.transition(e.end,e.pos))}})},f.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(n){var i={};return g(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){var s,o,r,a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function c(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(o[u.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}u.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){u.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,t,e.end),e.setAttr=!0)}}),u.fn.addBack||(u.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),u.effects.animateClass=function(o,e,t,n){var s=u.speed(e,t,n);return this.queue(function(){var e,n=u(this),t=n.attr("class")||"",i=s.children?n.find("*").addBack():n;i=i.map(function(){return{el:u(this),start:c(this)}}),(e=function(){u.each(a,function(e,t){o[t]&&n[t+"Class"](o[t])})})(),i=i.map(function(){return this.end=c(this.el[0]),this.diff=function(e,t){var n,i,o={};for(n in t)i=t[n],e[n]!==i&&(l[n]||!u.fx.step[n]&&isNaN(parseFloat(i))||(o[n]=i));return o}(this.start,this.end),this}),n.attr("class",t),i=i.map(function(){var e=this,t=u.Deferred(),n=u.extend({},s,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),u.when.apply(u,i.get()).done(function(){e(),u.each(arguments,function(){var t=this.el;u.each(this.diff,function(e){t.css(e,"")})}),s.complete.call(n[0])})})},u.fn.extend({addClass:(r=u.fn.addClass,function(e,t,n,i){return t?u.effects.animateClass.call(this,{add:e},t,n,i):r.apply(this,arguments)}),removeClass:(o=u.fn.removeClass,function(e,t,n,i){return 1<arguments.length?u.effects.animateClass.call(this,{remove:e},t,n,i):o.apply(this,arguments)}),toggleClass:(s=u.fn.toggleClass,function(e,t,n,i,o){return"boolean"==typeof t||void 0===t?n?u.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,o):s.apply(this,arguments):u.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,o){return u.effects.animateClass.call(this,{add:t,remove:e},n,i,o)}})}(),function(){function i(e,t,n,i){return u.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),u.isFunction(t)&&(i=t,n=null,t={}),("number"==typeof t||u.fx.speeds[t])&&(i=n,n=t,t={}),u.isFunction(n)&&(i=n,n=null),t&&u.extend(e,t),n=n||t.duration,e.duration=u.fx.off?0:"number"==typeof n?n:n in u.fx.speeds?u.fx.speeds[n]:u.fx.speeds._default,e.complete=i||t.complete,e}function n(e){return!(e&&"number"!=typeof e&&!u.fx.speeds[e])||"string"==typeof e&&!u.effects.effect[e]||!!u.isFunction(e)||"object"==typeof e&&!e.effect}var o,s,r;u.extend(u.effects,{version:"1.10.3",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(a+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;i<t.length;i++)null!==t[i]&&(void 0===(n=e.data(a+t[i]))&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=u("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return n.wrap(e),(n[0]===o||u.contains(n[0],o))&&u(o).focus(),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(u.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),u.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||u.contains(e[0],t))&&u(t).focus()),e},setTransition:function(i,e,o,s){return s=s||{},u.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(s[t]=n[0]*o+n[1])}),s}}),u.fn.extend({effect:function(){var s=i.apply(this,arguments),e=s.mode,t=s.queue,r=u.effects.effect[s.effect];if(u.fx.off||!r)return e?this[e](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)});function n(e){var t=u(this),n=s.complete,i=s.mode;function o(){u.isFunction(n)&&n.call(t[0]),u.isFunction(e)&&e()}(t.is(":hidden")?"hide"===i:"show"===i)?(t[i](),o()):r.call(t[0],s,o)}return!1===t?this.each(n):this.queue(t||"fx",n)},show:(r=u.fn.show,function(e){if(n(e))return r.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(s=u.fn.hide,function(e){if(n(e))return s.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(o=u.fn.toggle,function(e){if(n(e)||"boolean"==typeof e)return o.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var n=this.css(e),i=[];return u.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i}})}(),n={},u.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){n[e]=function(e){return Math.pow(e,t+2)}}),u.extend(n,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),u.each(n,function(e,t){u.easing["easeIn"+e]=t,u.easing["easeOut"+e]=function(e){return 1-t(1-e)},u.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}})}(jQuery),function(m,e){var g=/up|down|vertical/,v=/up|left|vertical|horizontal/;m.effects.effect.blind=function(e,t){var n,i,o,s=m(this),r=["position","top","bottom","left","right","height","width"],a=m.effects.setMode(s,e.mode||"hide"),l=e.direction||"up",c=g.test(l),u=c?"height":"width",d=c?"top":"left",h=v.test(l),f={},p="show"===a;s.parent().is(".ui-effects-wrapper")?m.effects.save(s.parent(),r):m.effects.save(s,r),s.show(),i=(n=m.effects.createWrapper(s).css({overflow:"hidden"}))[u](),o=parseFloat(n.css(d))||0,f[u]=p?i:0,h||(s.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[d]=p?o:i+o),p&&(n.css(u,0),h||n.css(d,o+i)),n.animate(f,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===a&&s.hide(),m.effects.restore(s,r),m.effects.removeWrapper(s),t()}})}}(jQuery),function(w,e){w.effects.effect.bounce=function(e,t){var n,i,o,s=w(this),r=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(s,e.mode||"effect"),l="hide"===a,c="show"===a,u=e.direction||"up",d=e.distance,h=e.times||5,f=2*h+(c||l?1:0),p=e.duration/f,m=e.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=s.queue(),b=y.length;for((c||l)&&r.push("opacity"),w.effects.save(s,r),s.show(),w.effects.createWrapper(s),d||(d=s["top"===g?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[g]=0,s.css("opacity",0).css(g,v?2*-d:2*d).animate(o,p,m)),l&&(d/=Math.pow(2,h-1)),n=(o={})[g]=0;n<h;n++)(i={})[g]=(v?"-=":"+=")+d,s.animate(i,p,m).animate(o,p,m),d=l?2*d:d/2;l&&((i={opacity:0})[g]=(v?"-=":"+=")+d,s.animate(i,p,m)),s.queue(function(){l&&s.hide(),w.effects.restore(s,r),w.effects.removeWrapper(s),t()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,f+1))),s.dequeue()}}(jQuery),function(h,e){h.effects.effect.clip=function(e,t){var n,i,o,s=h(this),r=["position","top","bottom","left","right","height","width"],a="show"===h.effects.setMode(s,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",d={};h.effects.save(s,r),s.show(),n=h.effects.createWrapper(s).css({overflow:"hidden"}),o=(i="IMG"===s[0].tagName?n:s)[c](),a&&(i.css(c,0),i.css(u,o/2)),d[c]=a?o:0,d[u]=a?0:o/2,i.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){a||s.hide(),h.effects.restore(s,r),h.effects.removeWrapper(s),t()}})}}(jQuery),function(d,e){d.effects.effect.drop=function(e,t){var n,i=d(this),o=["position","top","bottom","left","right","opacity","height","width"],s=d.effects.setMode(i,e.mode||"hide"),r="show"===s,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",u={opacity:r?1:0};d.effects.save(i,o),i.show(),d.effects.createWrapper(i),n=e.distance||i["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&i.css("opacity",0).css(l,"pos"===c?-n:n),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&i.hide(),d.effects.restore(i,o),d.effects.removeWrapper(i),t()}})}}(jQuery),function(v,e){v.effects.effect.explode=function(e,t){var n,i,o,s,r,a,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,u=v(this),d="show"===v.effects.setMode(u,e.mode||"hide"),h=u.show().css("visibility","hidden").offset(),f=Math.ceil(u.outerWidth()/c),p=Math.ceil(u.outerHeight()/l),m=[];function g(){m.push(this),m.length===l*c&&(u.css({visibility:"visible"}),v(m).remove(),d||u.hide(),t())}for(n=0;n<l;n++)for(s=h.top+n*p,a=n-(l-1)/2,i=0;i<c;i++)o=h.left+i*f,r=i-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*f,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:p,left:o+(d?r*f:0),top:s+(d?a*p:0),opacity:d?0:1}).animate({left:o+(d?0:r*f),top:s+(d?0:a*p),opacity:d?1:0},e.duration||500,e.easing,g)}}(jQuery),function(o,e){o.effects.effect.fade=function(e,t){var n=o(this),i=o.effects.setMode(n,e.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}}(jQuery),function(v,e){v.effects.effect.fold=function(e,t){var n,i,o=v(this),s=["position","top","bottom","left","right","height","width"],r=v.effects.setMode(o,e.mode||"hide"),a="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,h=a!==d,f=h?["width","height"]:["height","width"],p=e.duration/2,m={},g={};v.effects.save(o,s),o.show(),n=v.effects.createWrapper(o).css({overflow:"hidden"}),i=h?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*i[l?0:1]),a&&n.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=a?i[0]:c,g[f[1]]=a?i[1]:0,n.animate(m,p,e.easing).animate(g,p,e.easing,function(){l&&o.hide(),v.effects.restore(o,s),v.effects.removeWrapper(o),t()})}}(jQuery),function(r,e){r.effects.effect.highlight=function(e,t){var n=r(this),i=["backgroundImage","backgroundColor","opacity"],o=r.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),r.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),r.effects.restore(n,i),t()}})}}(jQuery),function(f,e){f.effects.effect.pulsate=function(e,t){var n,i=f(this),o=f.effects.setMode(i,e.mode||"show"),s="show"===o,r="hide"===o,a=s||"hide"===o,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,d=i.queue(),h=d.length;for(!s&&i.is(":visible")||(i.css("opacity",0).show(),u=1),n=1;n<l;n++)i.animate({opacity:u},c,e.easing),u=1-u;i.animate({opacity:u},c,e.easing),i.queue(function(){r&&i.hide(),t()}),1<h&&d.splice.apply(d,[1,0].concat(d.splice(h,l+1))),i.dequeue()}}(jQuery),function(y,e){y.effects.effect.puff=function(e,t){var n=y(this),i=y.effects.setMode(n,e.mode||"hide"),o="hide"===i,s=parseInt(e.percent,10)||150,r=s/100,a={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};y.extend(e,{effect:"scale",queue:!1,fade:!0,mode:i,complete:t,percent:o?s:100,from:o?a:{height:a.height*r,width:a.width*r,outerHeight:a.outerHeight*r,outerWidth:a.outerWidth*r}}),n.effect(e)},y.effects.effect.scale=function(e,t){var n=y(this),i=y.extend(!0,{},e),o=y.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",a=e.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==r?s/100:1,u="vertical"!==r?s/100:1;i.effect="size",i.queue=!1,i.complete=t,"effect"!==o&&(i.origin=a||["middle","center"],i.restore=!0),i.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*c,width:l.width*u,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*u},i.fade&&("show"===o&&(i.from.opacity=0,i.to.opacity=1),"hide"===o&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},y.effects.effect.size=function(s,e){var t,n,r,a=y(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],o=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=y.effects.setMode(a,s.mode||"effect"),h=s.restore||"effect"!==d,f=s.scale||"both",p=s.origin||["middle","center"],m=a.css("position"),g=h?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),t={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===s.mode&&"show"===d?(a.from=s.to||v,a.to=s.from||t):(a.from=s.from||("show"===d?v:t),a.to=s.to||("hide"===d?v:t)),r={from:{y:a.from.height/t.height,x:a.from.width/t.width},to:{y:a.to.height/t.height,x:a.to.width/t.width}},"box"!==f&&"both"!==f||(r.from.y!==r.to.y&&(g=g.concat(c),a.from=y.effects.setTransition(a,c,r.from.y,a.from),a.to=y.effects.setTransition(a,c,r.to.y,a.to)),r.from.x!==r.to.x&&(g=g.concat(u),a.from=y.effects.setTransition(a,u,r.from.x,a.from),a.to=y.effects.setTransition(a,u,r.to.x,a.to))),"content"!==f&&"both"!==f||r.from.y!==r.to.y&&(g=g.concat(o).concat(l),a.from=y.effects.setTransition(a,o,r.from.y,a.from),a.to=y.effects.setTransition(a,o,r.to.y,a.to)),y.effects.save(a,g),a.show(),y.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),p&&(n=y.effects.getBaseline(p,t),a.from.top=(t.outerHeight-a.outerHeight())*n.y,a.from.left=(t.outerWidth-a.outerWidth())*n.x,a.to.top=(t.outerHeight-a.to.outerHeight)*n.y,a.to.left=(t.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(o),u=u.concat(["marginLeft","marginRight"]),l=i.concat(c).concat(u),a.find("*[width]").each(function(){var e=y(this),t=e.height(),n=e.width(),i=e.outerHeight(),o=e.outerWidth();h&&y.effects.save(e,l),e.from={height:t*r.from.y,width:n*r.from.x,outerHeight:i*r.from.y,outerWidth:o*r.from.x},e.to={height:t*r.to.y,width:n*r.to.x,outerHeight:t*r.to.y,outerWidth:n*r.to.x},r.from.y!==r.to.y&&(e.from=y.effects.setTransition(e,c,r.from.y,e.from),e.to=y.effects.setTransition(e,c,r.to.y,e.to)),r.from.x!==r.to.x&&(e.from=y.effects.setTransition(e,u,r.from.x,e.from),e.to=y.effects.setTransition(e,u,r.to.x,e.to)),e.css(e.from),e.animate(e.to,s.duration,s.easing,function(){h&&y.effects.restore(e,l)})})),a.animate(a.to,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),y.effects.restore(a,g),h||("static"===m?a.css({position:"relative",top:a.to.top,left:a.to.left}):y.each(["top","left"],function(o,e){a.css(e,function(e,t){var n=parseInt(t,10),i=o?a.to.left:a.to.top;return"auto"===t?i+"px":n+i+"px"})})),y.effects.removeWrapper(a),e()}})}}(jQuery),function(y,e){y.effects.effect.shake=function(e,t){var n,i=y(this),o=["position","top","bottom","left","right","height","width"],s=y.effects.setMode(i,e.mode||"effect"),r=e.direction||"left",a=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,f={},p={},m={},g=i.queue(),v=g.length;for(y.effects.save(i,o),i.show(),y.effects.createWrapper(i),f[d]=(h?"-=":"+=")+a,p[d]=(h?"+=":"-=")+2*a,m[d]=(h?"-=":"+=")+2*a,i.animate(f,u,e.easing),n=1;n<l;n++)i.animate(p,u,e.easing).animate(m,u,e.easing);i.animate(p,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===s&&i.hide(),y.effects.restore(i,o),y.effects.removeWrapper(i),t()}),1<v&&g.splice.apply(g,[1,0].concat(g.splice(v,c+1))),i.dequeue()}}(jQuery),function(d,e){d.effects.effect.slide=function(e,t){var n,i=d(this),o=["position","top","bottom","left","right","width","height"],s=d.effects.setMode(i,e.mode||"show"),r="show"===s,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u={};d.effects.save(i,o),i.show(),n=e.distance||i["top"===l?"outerHeight":"outerWidth"](!0),d.effects.createWrapper(i).css({overflow:"hidden"}),r&&i.css(l,c?isNaN(n)?"-"+n:-n:n),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&i.hide(),d.effects.restore(i,o),d.effects.removeWrapper(i),t()}})}}(jQuery),function(h,e){h.effects.effect.transfer=function(e,t){var n=h(this),i=h(e.to),o="fixed"===i.css("position"),s=h("body"),r=o?s.scrollTop():0,a=o?s.scrollLeft():0,l=i.offset(),c={top:l.top-r,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),d=h("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-a,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t()})}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");!function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;return i(this).one(i.support.transition.end,function(){t=!0}),setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()})}(jQuery),function(s){"use strict";var t='[data-dismiss="alert"]',i=function(e){s(e).on("click",t,this.close)};i.prototype.close=function(e){var t=s(this),n=t.attr("data-target");n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var i=s(n);function o(){i.trigger("closed.bs.alert").remove()}e&&e.preventDefault(),i.length||(i=t.hasClass("alert")?t:t.parent()),i.trigger(e=s.Event("close.bs.alert")),e.isDefaultPrevented()||(i.removeClass("in"),s.support.transition&&i.hasClass("fade")?i.one(s.support.transition.end,o).emulateTransitionEnd(150):o())};var e=s.fn.alert;s.fn.alert=function(n){return this.each(function(){var e=s(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new i(this)),"string"==typeof n&&t[n].call(e)})},s.fn.alert.Constructor=i,s.fn.alert.noConflict=function(){return s.fn.alert=e,this},s(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(o){"use strict";var s=function(e,t){this.$element=o(e),this.options=o.extend({},s.DEFAULTS,t)};s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},s.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]'),t=!0;if(e.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=function(i){return this.each(function(){var e=o(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new s(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})},o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var t=o(e.target);t.hasClass("btn")||(t=t.closest(".btn")),t.button("toggle"),e.preventDefault()})}(jQuery),function(c){"use strict";var s=function(e,t){this.$element=c(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",c.proxy(this.pause,this)).on("mouseleave",c.proxy(this.cycle,this))};s.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},s.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},s.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},s.prototype.to=function(e){var t=this,n=this.getActiveIndex();if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",c(this.$items[e]))},s.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition.end&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},s.prototype.next=function(){if(!this.sliding)return this.slide("next")},s.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},s.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||n[e](),o=this.interval,s="next"==e?"left":"right",r="next"==e?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[r]()}this.sliding=!0,o&&this.pause();var l=c.Event("slide.bs.carousel",{relatedTarget:i[0],direction:s});if(!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=c(a.$indicators.children()[a.getActiveIndex()]);e&&e.addClass("active")})),c.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,n.addClass(s),i.addClass(s),n.one(c.support.transition.end,function(){i.removeClass([e,s].join(" ")).addClass("active"),n.removeClass(["active",s].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return o&&this.cycle(),this}};var e=c.fn.carousel;c.fn.carousel=function(o){return this.each(function(){var e=c(this),t=e.data("bs.carousel"),n=c.extend({},s.DEFAULTS,e.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;t||e.data("bs.carousel",t=new s(this,n)),"number"==typeof o?t.to(o):i?t[i]():n.interval&&t.pause().cycle()})},c.fn.carousel.Constructor=s,c.fn.carousel.noConflict=function(){return c.fn.carousel=e,this},c(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var t,n=c(this),i=c(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),o=c.extend({},i.data(),n.data()),s=n.attr("data-slide-to");s&&(o.interval=!1),i.carousel(o),(s=n.attr("data-slide-to"))&&i.data("bs.carousel").to(s),e.preventDefault()}),c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var e=c(this);e.carousel(e.data())})})}(jQuery),function(c){"use strict";var o=function(e,t){this.$element=c(e),this.options=c.extend({},o.DEFAULTS,t),this.transitioning=null,this.options.parent&&(this.$parent=c(this.options.parent)),this.options.toggle&&this.toggle()};o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=c.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.$parent&&this.$parent.find("> .panel > .in");if(t&&t.length){var n=t.data("bs.collapse");if(n&&n.transitioning)return;t.collapse("hide"),n||t.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!c.support.transition)return o.call(this);var s=c.camelCase(["scroll",i].join("-"));this.$element.one(c.support.transition.end,c.proxy(o,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=c.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!c.support.transition)return n.call(this);this.$element[t](0).one(c.support.transition.end,c.proxy(n,this)).emulateTransitionEnd(350)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var e=c.fn.collapse;c.fn.collapse=function(i){return this.each(function(){var e=c(this),t=e.data("bs.collapse"),n=c.extend({},o.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.collapse",t=new o(this,n)),"string"==typeof i&&t[i]()})},c.fn.collapse.Constructor=o,c.fn.collapse.noConflict=function(){return c.fn.collapse=e,this},c(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var t,n=c(this),i=n.attr("data-target")||e.preventDefault()||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""),o=c(i),s=o.data("bs.collapse"),r=s?"toggle":n.data(),a=n.attr("data-parent"),l=a&&c(a);s&&s.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+a+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(r)})}(jQuery),function(r){"use strict";var a="[data-toggle=dropdown]",i=function(e){r(e).on("click.bs.dropdown",this.toggle)};function o(){r(".dropdown-backdrop").remove(),r(a).each(function(e){var t=l(r(this));t.hasClass("open")&&(t.trigger(e=r.Event("hide.bs.dropdown")),e.isDefaultPrevented()||t.removeClass("open").trigger("hidden.bs.dropdown"))})}function l(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&r(t);return n&&n.length?n:e.parent()}i.prototype.toggle=function(e){var t=r(this);if(!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(o(),!i){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&r('<div class="dropdown-backdrop"/>').insertAfter(r(this)).on("click",o),n.trigger(e=r.Event("show.bs.dropdown")),e.isDefaultPrevented())return;n.toggleClass("open").trigger("shown.bs.dropdown"),t.focus()}return!1}},i.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var t=r(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(!i||i&&27==e.keyCode)return 27==e.which&&n.find(a).focus(),t.click();var o=r("[role=menu] li:not(.divider):visible a",n);if(o.length){var s=o.index(o.filter(":focus"));38==e.keyCode&&0<s&&s--,40==e.keyCode&&s<o.length-1&&s++,~s||(s=0),o.eq(s).focus()}}}};var e=r.fn.dropdown;r.fn.dropdown=function(n){return this.each(function(){var e=r(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})},r.fn.dropdown.Constructor=i,r.fn.dropdown.noConflict=function(){return r.fn.dropdown=e,this},r(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,i.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu]",i.prototype.keydown)}(jQuery),function(s){"use strict";var r=function(e,t){this.options=t,this.$element=s(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},r.prototype.show=function(n){var i=this,e=s.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.backdrop(function(){var e=s.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),e&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var t=s.Event("shown.bs.modal",{relatedTarget:n});e?i.$element.find(".modal-dialog").one(s.support.transition.end,function(){i.$element.focus().trigger(t)}).emulateTransitionEnd(300):i.$element.focus().trigger(t)}))},r.prototype.hide=function(e){e&&e.preventDefault(),e=s.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one(s.support.transition.end,s.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},r.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",s.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},r.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(e){var t=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=s.support.transition&&t;if(this.$backdrop=s('<div class="modal-backdrop '+t+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",s.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(s.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var e=s.fn.modal;s.fn.modal=function(i,o){return this.each(function(){var e=s(this),t=e.data("bs.modal"),n=s.extend({},r.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new r(this,n)),"string"==typeof i?t[i](o):n.show&&t.show(o)})},s.fn.modal.Constructor=r,s.fn.modal.noConflict=function(){return s.fn.modal=e,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=s(this),n=t.attr("href"),i=s(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":s.extend({remote:!/#/.test(n)&&n},i.data(),t.data());e.preventDefault(),i.modal(o,this).one("hide",function(){t.is(":visible")&&t.focus()})}),s(document).on("show.bs.modal",".modal",function(){s(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){s(document.body).removeClass("modal-open")})}(jQuery),function(m){"use strict";var o=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};o.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},o.prototype.init=function(e,t,n){this.enabled=!0,this.type=e,this.$element=m(t),this.options=this.getOptions(n);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focus",a="hover"==s?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},o.prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.getOptions=function(e){return(e=m.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},o.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},o.prototype.enter=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},o.prototype.leave=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},o.prototype.show=function(){var e=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var t=this.tip();this.setContent(),this.options.animation&&t.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,o=i.test(n);o&&(n=n.replace(i,"")||"top"),t.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);var s=this.getPosition(),r=t[0].offsetWidth,a=t[0].offsetHeight;if(o){var l=this.$element.parent(),c=n,u=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:l.outerWidth(),h="body"==this.options.container?window.innerHeight:l.outerHeight(),f="body"==this.options.container?0:l.offset().left;n="bottom"==n&&s.top+s.height+a-u>h?"top":"top"==n&&s.top-u-a<0?"bottom":"right"==n&&s.right+r>d?"left":"left"==n&&s.left-r<f?"right":n,t.removeClass(c).addClass(n)}var p=this.getCalculatedOffset(n,s,r,a);this.applyPlacement(p,n),this.$element.trigger("shown.bs."+this.type)}},o.prototype.applyPlacement=function(e,t){var n,i=this.tip(),o=i[0].offsetWidth,s=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=s&&(n=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var u=0;e.left<0&&(u=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(u-o+l,l,"left")}else this.replaceArrow(c-s,c,"top");n&&i.offset(e)},o.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},o.prototype.hide=function(){var e=this,t=this.tip(),n=m.Event("hide.bs."+this.type);function i(){"in"!=e.hoverState&&t.detach()}if(this.$element.trigger(n),!n.isDefaultPrevented())return t.removeClass("in"),m.support.transition&&this.$tip.hasClass("fade")?t.one(m.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},o.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},o.prototype.hasContent=function(){return this.getTitle()},o.prototype.getPosition=function(){var e=this.$element[0];return m.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},o.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},o.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},o.prototype.tip=function(){return this.$tip=this.$tip||m(this.options.template)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},o.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},o.prototype.enable=function(){this.enabled=!0},o.prototype.disable=function(){this.enabled=!1},o.prototype.toggleEnabled=function(){this.enabled=!this.enabled},o.prototype.toggle=function(e){var t=e?m(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;t.tip().hasClass("in")?t.leave(t):t.enter(t)},o.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var e=m.fn.tooltip;m.fn.tooltip=function(i){return this.each(function(){var e=m(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;t||e.data("bs.tooltip",t=new o(this,n)),"string"==typeof i&&t[i]()})},m.fn.tooltip.Constructor=o,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(o){"use strict";var s=function(e,t){this.init("popover",e,t)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");s.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((s.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},s.prototype.tip=function(){return this.$tip||(this.$tip=o(this.options.template)),this.$tip};var e=o.fn.popover;o.fn.popover=function(i){return this.each(function(){var e=o(this),t=e.data("bs.popover"),n="object"==typeof i&&i;t||e.data("bs.popover",t=new s(this,n)),"string"==typeof i&&t[i]()})},o.fn.popover.Constructor=s,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),function(s){"use strict";function o(e,t){var n,i=s.proxy(this.process,this);this.$element=s(e).is("body")?s(window):s(e),this.$body=s("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",i),this.options=s.extend({},o.DEFAULTS,t),this.selector=(this.options.target||(n=s(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=s([]),this.targets=s([]),this.activeTarget=null,this.refresh(),this.process()}o.DEFAULTS={offset:10},o.prototype.refresh=function(){var i=this.$element[0]==window?"offset":"position";this.offsets=s([]),this.targets=s([]);var o=this;this.$body.find(this.selector).map(function(){var e=s(this),t=e.data("target")||e.attr("href"),n=/^#\w/.test(t)&&s(t);return n&&n.length&&[[n[i]().top+(!s.isWindow(o.$scrollElement.get(0))&&o.$scrollElement.scrollTop()),t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},o.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(n<=t)return s!=(e=o.last()[0])&&this.activate(e);for(e=i.length;e--;)s!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},o.prototype.activate=function(e){this.activeTarget=e,s(this.selector).parents(".active").removeClass("active");var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=s(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var e=s.fn.scrollspy;s.fn.scrollspy=function(i){return this.each(function(){var e=s(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new o(this,n)),"string"==typeof i&&t[i]()})},s.fn.scrollspy.Constructor=o,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=e,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var e=s(this);e.scrollspy(e.data())})})}(jQuery),function(r){"use strict";var i=function(e){this.element=r(e)};i.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a")[0],o=r.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var s=r(n);this.activate(e.parent("li"),t),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},i.prototype.activate=function(e,t,n){var i=t.find("> .active"),o=n&&r.support.transition&&i.hasClass("fade");function s(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}o?i.one(r.support.transition.end,s).emulateTransitionEnd(150):s(),i.removeClass("in")};var e=r.fn.tab;r.fn.tab=function(n){return this.each(function(){var e=r(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new i(this)),"string"==typeof n&&t[n]()})},r.fn.tab.Constructor=i,r.fn.tab.noConflict=function(){return r.fn.tab=e,this},r(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),r(this).tab("show")})}(jQuery),function(a){"use strict";var l=function(e,t){this.options=a.extend({},l.DEFAULTS,t),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(e),this.affixed=this.unpin=null,this.checkPosition()};l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0},l.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=a(document).height(),t=this.$window.scrollTop(),n=this.$element.offset(),i=this.options.offset,o=i.top,s=i.bottom;"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top()),"function"==typeof s&&(s=i.bottom());var r=!(null!=this.unpin&&t+this.unpin<=n.top)&&(null!=s&&n.top+this.$element.height()>=e-s?"bottom":null!=o&&t<=o&&"top");this.affixed!==r&&(this.unpin&&this.$element.css("top",""),this.affixed=r,this.unpin="bottom"==r?n.top-t:null,this.$element.removeClass(l.RESET).addClass("affix"+(r?"-"+r:"")),"bottom"==r&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var e=a.fn.affix;a.fn.affix=function(i){return this.each(function(){var e=a(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new l(this,n)),"string"==typeof i&&t[i]()})},a.fn.affix.Constructor=l,a.fn.affix.noConflict=function(){return a.fn.affix=e,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var e=a(this),t=e.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),e.affix(t)})})}(jQuery);var left_side_width=220;function fix_sidebar(){$("body").hasClass("fixed")&&$(".sidebar").slimscroll({height:$(window).height()-$(".header").height()+"px",color:"rgba(0,0,0,0.2)"})}$(function(){"use strict";function e(){var e=$(window).height()-$("body > .header").height()-($("body > .footer").outerHeight()||0);$(".wrapper").css("min-height",e+"px");var t=$(".wrapper").height();e<t?$(".left-side, html, body").css("min-height",t+"px"):$(".left-side, html, body").css("min-height",e+"px")}$("[data-toggle='offcanvas']").click(function(e){e.preventDefault(),$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))}),$(".btn").bind("touchstart",function(){$(this).addClass("hover")}).bind("touchend",function(){$(this).removeClass("hover")}),$("[data-toggle='tooltip']").tooltip(),$("[data-widget='collapse']").click(function(){var e=$(this).parents(".box").first(),t=e.find(".box-body, .box-footer");e.hasClass("collapsed-box")?(e.removeClass("collapsed-box"),$(this).children(".fa-plus").removeClass("fa-plus").addClass("fa-minus"),t.slideDown()):(e.addClass("collapsed-box"),$(this).children(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),t.slideUp())}),$(".navbar .menu").slimscroll({height:"200px",alwaysVisible:!1,size:"3px"}).css("width","100%"),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var t=$(this);$(this).find(".btn").click(function(e){t.find(".btn.active").removeClass("active"),$(this).addClass("active"),e.preventDefault()})}),$("[data-widget='remove']").click(function(){$(this).parents(".box").first().slideUp()}),$(".sidebar .treeview").tree(),e(),$(".wrapper").resize(function(){e(),fix_sidebar()}),fix_sidebar(),$("input[type='checkbox']:not(.simple), input[type='radio']:not(.simple)").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal"})}),$(window).load(function(){(function(){var l,c,e,t,s,n,i,o,r,a,u,y,d,h,f,p,b,w,m,g,v,C,x,_,E,k,S,T,N,A,D,R,P,I,$,L,O,M,H,j,z,B,F,W,U,q,V=[].slice,G={}.hasOwnProperty,K=function(e,t){function n(){this.constructor=e}for(var i in t)G.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Y=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};for(g={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},T=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(e){return setTimeout(e,50)},m=function(e){return clearTimeout(e)}),R=function(t){var n,i;return n=T(),(i=function(){var e;return 33<=(e=T()-n)?(n=T(),t(e,function(){return A(i)})):setTimeout(i,33-e)})()},D=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?V.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},v=function(){var e,t,n,i,o,s,r;for(t=arguments[0],s=0,r=(i=2<=arguments.length?V.call(arguments,1):[]).length;s<r;s++)if(n=i[s])for(e in n)G.call(n,e)&&(o=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=o&&"object"==typeof o?v(t[e],o):t[e]=o);return t},p=function(e){var t,n,i,o,s;for(n=t=0,o=0,s=e.length;o<s;o++)i=e[o],n+=Math.abs(i),t++;return n/t},x=function(e,t){var n,i,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(n=o.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(e){return i=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},i=function(){function e(){}return e.prototype.on=function(e,t,n,i){var o;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[e]&&(o[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,i,o;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,o=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?o.push(this.bindings[e].splice(n,1)):o.push(n++);return o}},e.prototype.trigger=function(){var e,t,n,i,o,s,r,a,l;if(n=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],null!=(r=this.bindings)?r[n]:void 0){for(o=0,l=[];o<this.bindings[n].length;)i=(a=this.bindings[n][o]).handler,t=a.ctx,s=a.once,i.apply(null!=t?t:this,e),s?l.push(this.bindings[n].splice(o,1)):l.push(o++);return l}},e}(),null==window.Pace&&(window.Pace={}),v(Pace,i.prototype),N=Pace.options=v({},g,window.paceOptions,x()),z=0,F=(U=["ajax","document","eventLag","elements"]).length;z<F;z++)!0===N[$=U[z]]&&(N[$]=g[$]);r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return K(t,e),t}(Error),c=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(N.target)))throw new r;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){r=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null!=document.querySelector(N.target)&&((e=this.getElement()).children[0].style.width=this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return 100<=this.progress},e}(),o=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,i,o,s,r;if(null!=this.bindings[e]){for(r=[],i=0,o=(s=this.bindings[e]).length;i<o;i++)n=s[i],r.push(n.call(this,t));return r}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),j=window.XMLHttpRequest,H=window.XDomainRequest,M=window.WebSocket,C=function(e,t){var n,i,o;for(n in o=[],t.prototype)try{i=t.prototype[n],null==e[n]&&"function"!=typeof i?o.push(e[n]=i):o.push(void 0)}catch(e){}return o},k=[],Pace.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],k.unshift("ignore"),n=t.apply(null,e),k.shift(),n},Pace.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],k.unshift("track"),n=t.apply(null,e),k.shift(),n},I=function(e){var t;if(null==e&&(e="GET"),"track"===k[0])return"force";if(!k.length&&N.ajax){if("socket"===e&&N.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),0<=Y.call(N.ajax.trackMethods,t))return!0}return!1},a=function(e){function t(){var n,o=this;t.__super__.constructor.apply(this,arguments),n=function(n){var i;return i=n.open,n.open=function(e,t){return I(e)&&o.trigger("request",{type:e,url:t,request:n}),i.apply(n,arguments)}},window.XMLHttpRequest=function(e){var t;return t=new j(e),n(t),t},C(window.XMLHttpRequest,j),null!=H&&(window.XDomainRequest=function(){var e;return e=new H,n(e),e},C(window.XDomainRequest,H)),null!=M&&N.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var n;return n=new M(e,t),I("socket")&&o.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n},C(window.WebSocket,M))}return K(t,o),t}(),B=null,(_=function(){return null==B&&(B=new a),B})().on("request",function(e){var t,s,r,a;return a=e.type,r=e.request,Pace.running||!1===N.restartOnRequestAfter&&"force"!==I(a)?void 0:(s=arguments,"boolean"==typeof(t=N.restartOnRequestAfter||0)&&(t=0),setTimeout(function(){var e,t,n,i,o;if("socket"===a?r.readyState<2:0<(n=r.readyState)&&n<4){for(Pace.restart(),o=[],e=0,t=(i=Pace.sources).length;e<t;e++){if(($=i[e])instanceof l){$.watch.apply($,s);break}o.push(void 0)}return o}},t))}),l=function(){function e(){var e=this;this.elements=[],_().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,n,i;return i=e.type,t=e.request,n="socket"===i?new d(t):new h(t),this.elements.push(n)},e}(),h=function(t){var e,n,i,o,s,r=this;if(this.progress=0,null!=window.ProgressEvent)for(t.addEventListener("progress",function(e){return r.progress=e.lengthComputable?100*e.loaded/e.total:r.progress+(100-r.progress)/2}),n=0,i=(s=["load","abort","timeout","error"]).length;n<i;n++)e=s[n],t.addEventListener(e,function(){return r.progress=100});else o=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?r.progress=100:3===t.readyState&&(r.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}},d=function(e){var t,n,i,o,s=this;for(n=this.progress=0,i=(o=["error","open"]).length;n<i;n++)t=o[n],e.addEventListener(t,function(){return s.progress=100})},t=function(e){var t,n,i,o;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),n=0,i=(o=e.selectors).length;n<i;n++)t=o[n],this.elements.push(new s(t))},s=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},N.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),e=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),n=function(){var t,n,i,o,s,r=this;this.progress=0,s=[],o=t=0,i=T(),n=setInterval(function(){var e;return e=T()-i-50,i=T(),s.push(e),s.length>N.eventLag.sampleCount&&s.shift(),t=p(s),++o>=N.eventLag.minSamples&&t<N.eventLag.lagThreshold?(r.progress=100,clearInterval(n)):r.progress=3/(t+3)*100},50)},y=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=N.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=D(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=D(this.source,"progress")),100<=t&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/N.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,N.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+N.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),w=f=O=b=P=L=null,Pace.running=!1,E=function(){return N.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(W=window.history.pushState,window.history.pushState=function(){return E(),W.apply(window.history,arguments)}),null!=window.history.replaceState&&(q=window.history.replaceState,window.history.replaceState=function(){return E(),q.apply(window.history,arguments)}),u={ajax:l,elements:t,document:e,eventLag:n},(S=function(){var e,t,n,i,o,s,r,a;for(Pace.sources=L=[],t=0,i=(s=["ajax","elements","document","eventLag"]).length;t<i;t++)!1!==N[e=s[t]]&&L.push(new u[e](N[e]));for(n=0,o=(a=null!=(r=N.extraSources)?r:[]).length;n<o;n++)$=a[n],L.push(new $(N));return Pace.bar=b=new c,P=[],O=new y})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,b.destroy(),w=!0,null!=f&&("function"==typeof m&&m(f),f=null),S()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){return Pace.running=!0,b.render(),w=!1,f=R(function(e,t){var n,i,o,s,r,a,l,c,u,d,h,f,p,m,g,v;for(b.progress,i=h=0,o=!0,a=f=0,m=L.length;f<m;a=++f)for($=L[a],u=null!=P[a]?P[a]:P[a]=[],l=p=0,g=(r=null!=(v=$.elements)?v:[$]).length;p<g;l=++p)s=r[l],o&=(c=null!=u[l]?u[l]:u[l]=new y(s)).done,c.done||(i++,h+=c.tick(e));return n=h/i,b.update(O.tick(e,n)),d=T(),b.done()||o||w?(b.update(100),Pace.trigger("done"),setTimeout(function(){return b.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(N.ghostTime,Math.min(N.minTime,T()-d)))):t()})},Pace.start=function(e){v(N,e),Pace.running=!0;try{b.render()}catch(e){r=e}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define("theme-app",[],function(){return Pace}):"object"==typeof exports?module.exports=Pace:N.startOnPageLoad&&Pace.start()}).call(this)}),function(t){"use strict";t.fn.boxRefresh=function(e){var i=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(e){},onLoadDone:function(e){}},e),o=t('<div class="overlay"></div><div class="loading-img"></div>');return this.each(function(){if(""!==i.source){var n=t(this);n.find(i.trigger).first().click(function(e){var t;e.preventDefault(),(t=n).append(o),i.onLoadStart.call(t),n.find(".box-body").load(i.source,function(){var e;(e=n).find(o).remove(),i.onLoadDone.call(e)})})}else console&&console.log("Please specify a source first - boxRefresh()")})}}(jQuery),function(o){"use strict";o.fn.tree=function(){return this.each(function(){var t=o(this).children("a").first(),n=o(this).children(".treeview-menu").first(),i=o(this).hasClass("active");i&&(n.show(),t.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down")),t.click(function(e){e.preventDefault(),i?(n.slideUp(),i=!1,t.children(".fa-angle-down").first().removeClass("fa-angle-down").addClass("fa-angle-left"),t.parent("li").removeClass("active")):(n.slideDown(),i=!0,t.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down"),t.parent("li").addClass("active"))}),n.find("li > a").each(function(){var e=parseInt(o(this).css("margin-left"))+10;o(this).css({"margin-left":e+"px"})})})}}(jQuery),function(i){"use strict";i.fn.todolist=function(e){var n=i.extend({onCheck:function(e){},onUncheck:function(e){}},e);return this.each(function(){i("input",this).on("ifChecked",function(e){var t=i(this).parents("li").first();t.toggleClass("done"),n.onCheck.call(t)}),i("input",this).on("ifUnchecked",function(e){var t=i(this).parents("li").first();t.toggleClass("done"),n.onUncheck.call(t)})})}}(jQuery),function(t){"use strict";jQuery.fn.center=function(e){return e=e?this.parent():window,this.css({position:"absolute",top:(t(e).height()-this.outerHeight())/2+t(e).scrollTop()+"px",left:(t(e).width()-this.outerWidth())/2+t(e).scrollLeft()+"px"}),this}}(jQuery),function(r,t,e){var n,i=r([]),o=r.resize=r.extend(r.resize,{}),a="setTimeout",s="resize",l=s+"-special-event",c="throttleWindow";o.delay=250,o[c]=!0,r.event.special[s]={setup:function(){if(!o[c]&&this[a])return!1;var e=r(this);i=i.add(e),r.data(this,l,{w:e.width(),h:e.height()}),1===i.length&&function e(){n=t[a](function(){i.each(function(){var e=r(this),t=e.width(),n=e.height(),i=r.data(this,l);t===i.w&&n===i.h||e.trigger(s,[i.w=t,i.h=n])}),e()},o.delay)}()},teardown:function(){if(!o[c]&&this[a])return!1;var e=r(this);i=i.not(e),e.removeData(l),i.length||clearTimeout(n)},add:function(e){if(!o[c]&&this[a])return!1;var s;function t(e,t,n){var i=r(this),o=r.data(this,l);o.w=void 0!==t?t:i.width(),o.h=void 0!==n?n:i.height(),s.apply(this,arguments)}if(r.isFunction(e))return s=e,t;s=e.handler,e.handler=t}}}(jQuery,this),function(_){jQuery.fn.extend({slimScroll:function(C){var x=_.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0px",railBorderRadius:"0px"},C);return this.each(function(){function e(e){if(o){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),_(e.target||e.srcTarget||e.srcElement).closest("."+x.wrapperClass).is(g.parent())&&i(t,!0),e.preventDefault&&!m&&e.preventDefault(),m||(e.returnValue=!1)}}function i(e,t,n){m=!1;var i=e,o=g.outerHeight()-y.outerHeight();t&&(i=parseInt(y.css("top"))+e*parseInt(x.wheelStep)/100*y.outerHeight(),i=Math.min(Math.max(i,0),o),i=0<e?Math.ceil(i):Math.floor(i),y.css({top:i+"px"})),i=(h=parseInt(y.css("top"))/(g.outerHeight()-y.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),n&&(e=(i=e)/g[0].scrollHeight*g.outerHeight(),e=Math.min(Math.max(e,0),o),y.css({top:e+"px"})),g.scrollTop(i),g.trigger("slimscrolling",~~i),s(),r()}function n(){d=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),p),y.css({height:d+"px"});var e=d==g.outerHeight()?"none":"block";y.css({display:e})}function s(){n(),clearTimeout(c),h==~~h?(m=x.allowPageScroll,f!=h&&g.trigger("slimscroll",0==~~h?"top":"bottom")):m=!1,f=h,d>=g.outerHeight()?m=!0:(y.stop(!0,!0).fadeIn("fast"),x.railVisible&&b.stop(!0,!0).fadeIn("fast"))}function r(){x.alwaysVisible||(c=setTimeout(function(){x.disableFadeOut&&o||a||l||(y.fadeOut("slow"),b.fadeOut("slow"))},1e3))}var o,a,l,c,u,d,h,f,p=30,m=!1,g=_(this);if(g.parent().hasClass(x.wrapperClass)){var v=g.scrollTop(),y=g.parent().find("."+x.barClass),b=g.parent().find("."+x.railClass);if(n(),_.isPlainObject(C)){if("height"in C&&"auto"==C.height){g.parent().css("height","auto"),g.css("height","auto");var w=g.parent().parent().height();g.parent().css("height",w),g.css("height",w)}if("scrollTo"in C)v=parseInt(x.scrollTo);else if("scrollBy"in C)v+=parseInt(x.scrollBy);else if("destroy"in C)return y.remove(),b.remove(),void g.unwrap();i(v,!1,!0)}}else x.height="auto"==x.height?g.parent().height():x.height,v=_("<div></div>").addClass(x.wrapperClass).css({position:"relative",overflow:"hidden",width:x.width,height:x.height}),g.css({overflow:"hidden",width:x.width,height:x.height}),b=_("<div></div>").addClass(x.railClass).css({width:x.size,height:"100%",position:"absolute",top:0,display:x.alwaysVisible&&x.railVisible?"block":"none","border-radius":x.railBorderRadius,background:x.railColor,opacity:x.railOpacity,zIndex:90}),y=_("<div></div>").addClass(x.barClass).css({background:x.color,width:x.size,position:"absolute",top:0,opacity:x.opacity,display:x.alwaysVisible?"block":"none","border-radius":x.borderRadius,BorderRadius:x.borderRadius,MozBorderRadius:x.borderRadius,WebkitBorderRadius:x.borderRadius,zIndex:99}),w="right"==x.position?{right:x.distance}:{left:x.distance},b.css(w),y.css(w),g.wrap(v),g.parent().append(y),g.parent().append(b),x.railDraggable&&y.bind("mousedown",function(e){var n=_(document);return l=!0,t=parseFloat(y.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,y.css("top",currTop),i(0,y.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){l=!1,r(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),b.hover(function(){s()},function(){r()}),y.hover(function(){a=!0},function(){a=!1}),g.hover(function(){o=!0,s(),r()},function(){o=!1,r()}),g.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(u=e.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(e){m||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(i((u-e.originalEvent.touches[0].pageY)/x.touchScrollStep,!0),u=e.originalEvent.touches[0].pageY)}),n(),"bottom"===x.start?(y.css({top:g.outerHeight()-y.outerHeight()}),i(0,!0)):"top"!==x.start&&(i(_(x.start).position().top,null,!0),x.alwaysVisible||y.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",e,!1),this.addEventListener("mousewheel",e,!1),this.addEventListener("MozMousePixelScroll",e,!1)):document.attachEvent("onmousewheel",e)}()}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(v){function y(e,t,n){var i=e[0],o=/er/.test(n)?N:/bl/.test(n)?S:k,s=n==A?{checked:i[k],disabled:i[S],indeterminate:"true"==e.attr(N)||"false"==e.attr(T)}:i[o];if(/^(ch|di|in)/.test(n)&&!s)b(e,o);else if(/^(un|en|de)/.test(n)&&s)w(e,o);else if(n==A)for(o in s)s[o]?b(e,o,!0):w(e,o,!0);else t&&"toggle"!=n||(t||e[I]("ifClicked"),s?i[D]!==E&&w(e,o):b(e,o))}function b(e,t,n){var i=e[0],o=e.parent(),s=t==k,r=t==N,a=t==S,l=r?T:s?g:"enabled",c=f(e,l+p(i[D])),u=f(e,t+p(i[D]));if(!0!==i[t]){if(!n&&t==k&&i[D]==E&&i.name){var d=e.closest("form"),h='input[name="'+i.name+'"]';(h=d.length?d.find(h):v(h)).each(function(){this!==i&&v(this).data(x)&&w(v(this),t)})}r?(i[t]=!0,i[k]&&w(e,k,"force")):(n||(i[t]=!0),s&&i[N]&&w(e,N,!1)),m(e,s,t,n)}i[S]&&f(e,L,!0)&&o.find("."+_).css(L,"default"),o[R](u||f(e,t)||""),a?o.attr("aria-disabled","true"):o.attr("aria-checked",r?"mixed":"true"),o[P](c||f(e,l)||"")}function w(e,t,n){var i=e[0],o=e.parent(),s=t==k,r=t==N,a=t==S,l=r?T:s?g:"enabled",c=f(e,l+p(i[D])),u=f(e,t+p(i[D]));!1!==i[t]&&(!r&&n&&"force"!=n||(i[t]=!1),m(e,s,l,n)),!i[S]&&f(e,L,!0)&&o.find("."+_).css(L,"pointer"),o[P](u||f(e,t)||""),a?o.attr("aria-disabled","false"):o.attr("aria-checked","false"),o[R](c||f(e,l)||"")}function C(e,t){e.data(x)&&(e.parent().html(e.attr("style",e.data(x).s||"")),t&&e[I](t),e.off(".i").unwrap(),v($+'[for="'+e[0].id+'"]').add(e.closest($)).off(".i"))}function f(e,t,n){if(e.data(x))return e.data(x).o[t+(n?"":"Class")]}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e,t,n,i){i||(t&&e[I]("ifToggled"),e[I]("ifChanged")[I]("if"+p(n)))}var x="iCheck",_=x+"-helper",E="radio",k="checked",g="un"+k,S="disabled",T="determinate",N="in"+T,A="update",D="type",R="addClass",P="removeClass",I="trigger",$="label",L="cursor",O=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);v.fn[x]=function(t,n){var i='input[type="checkbox"], input[type="'+E+'"]',o=v(),e=function(e){e.each(function(){var e=v(this);o=e.is(i)?o.add(e):o.add(e.find(i))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(t))return t=t.toLowerCase(),e(this),o.each(function(){var e=v(this);"destroy"==t?C(e,"ifDestroyed"):y(e,!0,t),v.isFunction(n)&&n()});if("object"!=typeof t&&t)return this;var u=v.extend({checkedClass:k,disabledClass:S,indeterminateClass:N,labelHover:!0,aria:!1},t),s=u.handle,d=u.hoverClass||"hover",h=u.focusClass||"focus",f=u.activeClass||"active",p=!!u.labelHover,m=u.labelHoverClass||"hover",g=0|(""+u.increaseArea).replace("%","");return"checkbox"!=s&&s!=E||(i='input[type="'+s+'"]'),g<-50&&(g=-50),e(this),o.each(function(){var i=v(this);C(i);var o=this,e=o.id,t={position:"absolute",top:n=-g+"%",left:n,display:"block",width:t=100+2*g+"%",height:t,margin:0,padding:0,background:"#fff",border:0,opacity:0},n=O?{position:"absolute",visibility:"hidden"}:g?t:{position:"absolute",opacity:0},s="checkbox"==o[D]?u.checkboxClass||"icheckbox":u.radioClass||"i"+E,r=v($+'[for="'+e+'"]').add(i.closest($)),a=!!u.aria,l=x+"-"+Math.random().toString(36).replace("0.",""),c='<div class="'+s+'" '+(a?'role="'+o[D]+'" ':"");r.length&&a&&r.each(function(){c+='aria-labelledby="',this.id?c+=this.id:(this.id=l,c+=l),c+='"'}),c=i.wrap(c+"/>")[I]("ifCreated").parent().append(u.insert),t=v('<ins class="'+_+'"/>').css(t).appendTo(c),i.data(x,{o:u,s:i.attr("style")}).css(n),u.inheritClass&&c[R](o.className||""),u.inheritID&&e&&c.attr("id",x+"-"+e),"static"==c.css("position")&&c.css("position","relative"),y(i,!0,A),r.length&&r.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(e){var t=e[D],n=v(this);if(!o[S]){if("click"==t){if(v(e.target).is("a"))return;y(i,!1,!0)}else p&&(/ut|nd/.test(t)?(c[P](d),n[P](m)):(c[R](d),n[R](m)));if(!O)return!1;e.stopPropagation()}}),i.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[D];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(o[D]==E&&o[k]||(o[k]?w(i,k):b(i,k)),!1):void("keyup"==t&&o[D]==E?!o[k]&&b(i,k):/us|ur/.test(t)&&c["blur"==t?P:R](h)))}),t.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var t=e[D],n=/wn|up/.test(t)?f:d;if(!o[S]){if("click"==t?y(i,!1,!0):(/wn|er|in/.test(t)?c[R](n):c[P](n+" "+f),r.length&&p&&n==d&&r[/ut|nd/.test(t)?P:R](m)),!O)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var wysihtml5={version:"0.4.15",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}(function(){var i="object",o="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],t=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],s=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(e,t){var n=typeof e[t];return n==o||!(n!=i||!e[t])||"unknown"==n}function r(e,t){return!(typeof e[t]!=i||!e[t])}function e(e,t){return typeof e[t]!=n}function a(i){return function(e,t){for(var n=t.length;n--;)if(!i(e,t[n]))return!1;return!0}}var d=a(u),h=a(r),f=a(e);function p(e){return e&&d(e,s)&&f(e,t)}function m(e){return r(e,"body")?e.body:e.getElementsByTagName("body")[0]}var g,v={},y={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:u,isHostObject:r,isHostProperty:e,areHostMethods:d,areHostObjects:h,areHostProperties:f,isTextRange:p,getBody:m},features:{},modules:v,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function b(e){r(window,"console")&&u(window.console,"log")&&window.console.log(e)}function w(e,t){t?window.alert(e):b(e)}function C(e){y.initialized=!0,y.supported=!1,w("Rangy is not supported on this page in your browser. Reason: "+e,y.config.alertOnFail)}y.fail=C,y.warn=function(e){w("Rangy warning: "+e,y.config.alertOnWarn)},{}.hasOwnProperty?y.util.extend=function(e,t,n){var i,o;for(var s in t)t.hasOwnProperty(s)&&(i=e[s],o=t[s],n&&null!==i&&"object"==typeof i&&null!==o&&"object"==typeof o&&y.util.extend(i,o,!0),e[s]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:C("hasOwnProperty not supported"),function(){var e=document.createElement("div");e.appendChild(document.createElement("span"));var t,n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(e){return n.call(e,0)})}catch(e){}t||(t=function(e){for(var t=[],n=0,i=e.length;n<i;++n)t[n]=e[n];return t}),y.util.toArray=t}(),u(document,"addEventListener")?g=function(e,t,n){e.addEventListener(t,n,!1)}:u(document,"attachEvent")?g=function(e,t,n){e.attachEvent("on"+t,n)}:C("Document does not have required addEventListener or attachEvent method"),y.util.addListener=g;var x=[];function _(e){return e.message||e.description||String(e)}function E(){if(!y.initialized){var e,t=!1,n=!1;u(document,"createRange")&&(e=document.createRange(),d(e,c)&&f(e,l)&&(t=!0));var i=m(document);if(i&&"body"==i.nodeName.toLowerCase())if(i&&u(i,"createTextRange")&&p(e=i.createTextRange())&&(n=!0),t||n){var o;for(var s in y.initialized=!0,y.features={implementsDomRange:t,implementsTextRange:n},v)(o=v[s])instanceof S&&o.init(o,y);for(var r=0,a=x.length;r<a;++r)try{x[r](y)}catch(e){b("Rangy init listener threw an exception. Continuing. Detail: "+_(e))}}else C("Neither Range nor TextRange are available");else C("No body element found")}}y.init=E,y.addInitListener=function(e){y.initialized?e(y):x.push(e)};var k=[];function S(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function T(e,t,n,i){var o=new S(t,n,function(e){if(!e.initialized){e.initialized=!0;try{i(y,e),e.supported=!0}catch(e){b("Module '"+t+"' failed to load: "+_(e))}}});v[t]=o}function N(){}y.addShimListener=function(e){k.push(e)},y.shim=y.createMissingNativeApi=function(e){e=e||window,E();for(var t=0,n=k.length;t<n;++t)k[t](e)},S.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,o=n.length;i<o;++i){if(t=n[i],!((e=v[t])&&e instanceof S))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){y.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){y.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},y.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=T(0,e,n,t);y.initialized&&i.init()},y.createCoreModule=function(e,t,n){T(0,e,t,n)},y.RangePrototype=N,y.rangePrototype=new N,y.selectionPrototype=new function(){};var A=!1,D=function(e){A||(A=!0,!y.initialized&&y.config.autoInitialize&&E())};if(typeof window!=n){if(typeof document!=n)return u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",D,!1),g(window,"load",D),y.createCoreModule("DomUtil",[],function(n,c){var i="undefined",o=n.util;o.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||c.fail("document missing a Node creation method"),o.isHostMethod(document,"getElementsByTagName")||c.fail("document missing getElementsByTagName method");var e=document.createElement("div");o.areHostMethods(e,["insertBefore","appendChild","cloneNode"])||c.fail("Incomplete Element implementation"),o.isHostProperty(e,"innerHTML")||c.fail("Element is missing innerHTML property");var t=document.createTextNode("test");o.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"])||c.fail("Incomplete Text Node implementation");var s=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function u(e){for(var t=0;e=e.previousSibling;)++t;return t}function d(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(s(i,n))return n;return null}function r(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function h(e,t,n){for(var i,o=n?e:e.parentNode;o;){if((i=o.parentNode)===t)return o;o=i}return null}function a(e){var t=e.nodeType;return 3==t||4==t||8==t}function l(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function f(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=i)return e.ownerDocument;if(typeof e.document!=i)return e.document;if(e.parentNode)return f(e.parentNode);throw c.createError("getDocument: no document found for node")}function p(e){var t=f(e);if(typeof t.defaultView!=i)return t.defaultView;if(typeof t.parentWindow!=i)return t.parentWindow;throw c.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=i)return e.contentDocument;if(typeof e.contentWindow!=i)return e.contentWindow.document;throw c.createError("getIframeDocument: No Document object found for iframe element")}function g(e){return e&&o.isHostMethod(e,"setTimeout")&&o.isHostObject(e,"document")}var v,y=!1;function b(e){try{return e.parentNode,!1}catch(e){return!0}}function w(e){if(!e)return"[No node]";if(y&&b(e))return"[Broken node]";if(a(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+u(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function C(e){this.root=e,this._next=e}function x(e,t){this.node=e,this.offset=t}function _(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var e=document.createElement("b");e.innerHTML="1";var t=e.firstChild;e.innerHTML="<br>",y=b(t),n.features.crashyTextNodes=y}(),typeof window.getComputedStyle!=i?v=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=i?v=function(e,t){return e.currentStyle[t]}:c.fail("No means of obtaining computed style properties found"),C.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},n.dom={arrayContains:s,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==i||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:u,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:d,isAncestorOf:r,isOrIsAncestorOf:function(e,t){return r(e,t,!0)},getClosestAncestorIn:h,isCharacterDataNode:a,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:l,splitDataNode:function(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),l(i,e),n)for(var o,s=0;o=n[s++];)o.node==e&&o.offset>t?(o.node=i,o.offset-=t):o.node==e.parentNode&&o.offset>u(e)&&++o.offset;return i},getDocument:f,getWindow:p,getIframeWindow:function(e){if(typeof e.contentWindow!=i)return e.contentWindow;if(typeof e.contentDocument!=i)return e.contentDocument.defaultView;throw c.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:m,getBody:o.getBody,isWindow:g,getContentDocument:function(e,t,n){var i;if(e?o.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):f(e):g(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,n,i){var o,s,r,a,l;if(e==n)return t===i?0:t<i?-1:1;if(o=h(n,e,!0))return t<=u(o)?-1:1;if(o=h(e,n,!0))return u(o)<i?-1:1;if(!(s=d(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((r=e===s?s:h(e,s,!0))===(a=n===s?s:h(n,s,!0)))throw c.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=s.firstChild;l;){if(l===r)return-1;if(l===a)return 1;l=l.nextSibling}},isBrokenNode:b,inspectNode:w,getComputedStyleProperty:v,fragmentFromNodeChildren:function(e){for(var t,n=f(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new C(e)},DomPosition:x},n.DOMException=_}),y.createCoreModule("DomRange",["DomUtil"],function(r,e){var a=r.dom,i=r.util,t=a.DomPosition,l=r.DOMException,u=a.isCharacterDataNode,d=a.getNodeIndex,c=a.isOrIsAncestorOf,h=a.getDocument,f=a.comparePoints,p=a.splitDataNode,m=a.getClosestAncestorIn,g=a.getNodeLength,s=a.arrayContains,v=a.getRootContainer,n=r.features.crashyTextNodes;function y(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function b(e){return e.document||h(e.startContainer)}function w(e){return new t(e.parentNode,d(e))}function C(e){return new t(e.parentNode,d(e)+1)}function o(e,t,n){var i=11==e.nodeType?e.firstChild:e;return u(t)?n==t.length?a.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:p(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function x(e,t,n){if(q(e),q(t),b(t)!=b(e))throw new l("WRONG_DOCUMENT_ERR");var i=f(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=f(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?i<=0&&0<=o:i<0&&0<o}function _(e,t,n){var i,o,s,r;for(n=n||{stop:!1};s=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(s))return void(n.stop=!0);if(_(r=e.getSubtreeIterator(),t,n),r.detach(),n.stop)return}else for(i=a.createIterator(s);o=i.next();)if(!1===t(o))return void(n.stop=!0)}function E(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(E(t=e.getSubtreeIterator()),t.detach()):e.remove()}function k(e){for(var t,n,i=b(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(k(n)),n.detach()):e.remove(),10==t.nodeType)throw new l("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function S(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+a.inspectNode(e.startContainer)+":"+e.startOffset+", "+a.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function T(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&u(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||u(this.sc)?m(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||u(this.ec)?m(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}T.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,u(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!u(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new he(b(this.range));var t=this._current,n=t,i=0,o=t,s=g(t);c(t,this.sc)&&(n=this.sc,i=this.so),c(t,this.ec)&&(o=this.ec,s=this.eo),de(e,n,i,o,s)}return new T(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var N=[1,3,4,5,7,8,10],A=[2,9,11],D=[1,3,4,5,7,8,10,11],R=[1,3,4,5,7,8];function P(o){return function(e,t){for(var n,i=t?e:e.parentNode;i;){if(n=i.nodeType,s(o,n))return i;i=i.parentNode}return null}}var I=P([9,11]),$=P([5,6,10,12]),L=P([6,10,12]);function O(e,t){if(L(e,t))throw new l("INVALID_NODE_TYPE_ERR")}function M(e,t){if(!s(t,e.nodeType))throw new l("INVALID_NODE_TYPE_ERR")}function H(e,t){if(t<0||t>(u(e)?e.length:e.childNodes.length))throw new l("INDEX_SIZE_ERR")}function j(e,t){if(I(e,!0)!==I(t,!0))throw new l("WRONG_DOCUMENT_ERR")}function z(e){if($(e,!0))throw new l("NO_MODIFICATION_ALLOWED_ERR")}function B(e,t){if(!e)throw new l(t)}function F(e){return n&&a.isBrokenNode(e)||!s(A,e.nodeType)&&!I(e,!0)}function W(e,t){return t<=(u(e)?e.length:e.childNodes.length)}function U(e){return!!e.startContainer&&!!e.endContainer&&!F(e.startContainer)&&!F(e.endContainer)&&W(e.startContainer,e.startOffset)&&W(e.endContainer,e.endOffset)}function q(e){if(!U(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}var V=document.createElement("style"),G=!1;try{V.innerHTML="<b>x</b>",G=3==V.firstChild.nodeType}catch(e){}var K=(r.features.htmlParsingConforms=G)?function(e){var t=this.startContainer,n=h(t);if(!t)throw new l("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:u(t)&&(i=a.parentElement(t)),(i=null===i||"HTML"==i.nodeName&&a.isHtmlNamespace(h(i).documentElement)&&a.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1)).innerHTML=e,a.fragmentFromNodeChildren(i)}:function(e){var t=b(this).createElement("body");return t.innerHTML=e,a.fragmentFromNodeChildren(t)};function Y(e,t){q(e);var n=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,r=n===o;u(o)&&0<s&&s<o.length&&p(o,s,t),u(n)&&0<i&&i<n.length&&(n=p(n,i,t),r?(s-=i,o=n):o==n.parentNode&&s>=d(n)&&s++,i=0),e.setStartAndEnd(n,i,o,s)}function X(e){q(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var Q=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],J=0,Z=1,ee=2,te=3,ne=0,ie=1,oe=2,se=3;function re(e){e.START_TO_START=J,e.START_TO_END=Z,e.END_TO_END=ee,e.END_TO_START=te,e.NODE_BEFORE=ne,e.NODE_AFTER=ie,e.NODE_BEFORE_AND_AFTER=oe,e.NODE_INSIDE=se}function ae(e){re(e),re(e.prototype)}function le(r,a){return function(){q(this);var e,t=this.startContainer,n=this.startOffset,i=this.commonAncestorContainer,o=new T(this,!0);t!==i&&(t=(e=C(m(t,i,!0))).node,n=e.offset),_(o,z),o.reset();var s=r(o);return o.detach(),a(this,t,n,t,n),s}}function ce(e,c){function t(n,i){return function(e){M(e,N),M(v(e),A);var t=(n?w:C)(e);(i?o:s)(this,t.node,t.offset)}}function o(e,t,n){var i=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(v(t)==v(i)&&1!=f(t,n,i,o)||(i=t,o=n),c(e,t,n,i,o))}function s(e,t,n){var i=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(v(t)==v(i)&&-1!=f(t,n,i,o)||(i=t,o=n),c(e,i,o,t,n))}var n=function(){};n.prototype=r.rangePrototype,e.prototype=new n,i.extend(e.prototype,{setStart:function(e,t){O(e,!0),H(e,t),o(this,e,t)},setEnd:function(e,t){O(e,!0),H(e,t),s(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}c(this,t,n,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){q(this),e?c(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):c(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){O(e,!0),c(this,e,0,e,g(e))},selectNode:function(e){O(e,!1),M(e,N);var t=w(e),n=C(e);c(this,t.node,t.offset,n.node,n.offset)},extractContents:le(k,c),deleteContents:le(E,c),canSurroundContents:function(){q(this),z(this.startContainer),z(this.endContainer);var e=new T(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){Y(this)},splitBoundariesPreservingPositions:function(e){Y(this,e)},normalizeBoundaries:function(){q(this);var o=this.startContainer,s=this.startOffset,r=this.endContainer,a=this.endOffset,e=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(a=(r=e).length,e.appendData(t.data),t.parentNode.removeChild(t))},t=function(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var n=(o=e).length;if(s=t.length,e.insertData(0,t.data),t.parentNode.removeChild(t),o==r)a+=s,r=o;else if(r==e.parentNode){var i=d(e);a==i?(r=e,a=n):i<a&&a--}}},n=!0;if(u(r))r.length==a&&e(r);else{if(0<a){var i=r.childNodes[a-1];i&&u(i)&&e(i)}n=!this.collapsed}if(n){if(u(o))0==s&&t(o);else if(s<o.childNodes.length){var l=o.childNodes[s];l&&u(l)&&t(l)}}else o=r,s=a;c(this,o,s,r,a)},collapseToPoint:function(e,t){O(e,!0),H(e,t),this.setStartAndEnd(e,t)}}),ae(e)}function ue(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:a.getCommonAncestor(e.startContainer,e.endContainer)}function de(e,t,n,i,o){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=o,e.document=a.getDocument(t),ue(e)}function he(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ue(this)}i.extend(r.rangePrototype,{compareBoundaryPoints:function(e,t){var n,i,o,s;q(this),j(this.startContainer,t.startContainer);var r=e==te||e==J?"start":"end",a=e==Z||e==J?"start":"end";return n=this[r+"Container"],i=this[r+"Offset"],o=t[a+"Container"],s=t[a+"Offset"],f(n,i,o,s)},insertNode:function(e){if(q(this),M(e,D),z(this.startContainer),c(e,this.startContainer))throw new l("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(q(this),this.collapsed)return b(this).createDocumentFragment();if(this.startContainer===this.endContainer&&u(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=b(this).createDocumentFragment()).appendChild(e),t;var n=new T(this,!0);return e=function e(t){for(var n,i,o,s=b(t.range).createDocumentFragment();i=t.next();){if(n=t.isPartiallySelectedSubtree(),i=i.cloneNode(!n),n&&(o=t.getSubtreeIterator(),i.appendChild(e(o)),o.detach()),10==i.nodeType)throw new l("HIERARCHY_REQUEST_ERR");s.appendChild(i)}return s}(n),n.detach(),e},canSurroundContents:function(){q(this),z(this.startContainer),z(this.endContainer);var e=new T(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(M(e,R),!this.canSurroundContents())throw new l("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){q(this);for(var e,t=new he(b(this)),n=Q.length;n--;)t[e=Q[n]]=this[e];return t},toString:function(){q(this);var e=this.startContainer;if(e===this.endContainer&&u(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new T(this,!0);return _(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){q(this);var t=e.parentNode,n=d(e);if(!t)throw new l("NOT_FOUND_ERR");var i=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return i<0?0<o?oe:ne:0<o?ie:se},comparePoint:function(e,t){return q(this),B(e,"HIERARCHY_REQUEST_ERR"),j(e,this.startContainer),f(e,t,this.startContainer,this.startOffset)<0?-1:0<f(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:K,toHtml:function(){return X(this)},intersectsNode:function(e,t){if(q(this),B(e,"NOT_FOUND_ERR"),h(e)!==b(this))return!1;var n=e.parentNode,i=d(e);B(n,"NOT_FOUND_ERR");var o=f(n,i,this.endContainer,this.endOffset),s=f(n,i+1,this.startContainer,this.startOffset);return t?o<=0&&0<=s:o<0&&0<s},isPointInRange:function(e,t){return q(this),B(e,"HIERARCHY_REQUEST_ERR"),j(e,this.startContainer),0<=f(e,t,this.startContainer,this.startOffset)&&f(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return x(this,e,!1)},intersectsOrTouchesRange:function(e){return x(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=f(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=f(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==f(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==f(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new l("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==se},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,g(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(0<n.length){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return q(this),function(i,e,o){var s,r=!(!e||!e.length),a=!!o;r&&(s=new RegExp("^("+e.join("|")+")$"));var l=[];return _(new T(i,!1),function(e){if((!r||s.test(e.nodeType))&&(!a||o(e))){var t=i.startContainer;if(e!=t||!u(t)||i.startOffset!=t.length){var n=i.endContainer;e==n&&u(n)&&0==i.endOffset||l.push(e)}}}),l}(this,e,t)},getDocument:function(){return b(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(e){var t=b(this),n=r.createRange(t);e=e||a.getBody(t),n.selectNodeContents(e);var i=this.intersection(n),o=0,s=0;return i&&(n.setEnd(i.startContainer,i.startOffset),s=(o=n.toString().length)+i.toString().length),{start:o,end:s,containerNode:e}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,o,s,r,a=[t],l=!1,c=!1;!c&&(i=a.pop());)if(3==i.nodeType)o=n+i.length,!l&&e.start>=n&&e.start<=o&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=o&&(this.setEnd(i,e.end-n),c=!0),n=o;else for(s=(r=i.childNodes).length;s--;)a.push(r[s])},getName:function(){return"DomRange"},equals:function(e){return he.rangesEqual(this,e)},isValid:function(){return U(this)},inspect:function(){return S(this)},detach:function(){}}),ce(he,de),i.extend(he,{rangeProperties:Q,RangeIterator:T,copyComparisonConstants:ae,createPrototypeRange:ce,inspect:S,toHtml:X,getRangeDocument:b,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),r.DomRange=he}),y.createCoreModule("WrappedRange",["DomRange"],function(u,d){var h,e,x=u.dom,f=u.util,_=x.DomPosition,p=u.DomRange,m=x.getBody,g=x.getContentDocument,E=x.isCharacterDataNode;if(u.features.implementsDomRange&&function(){var e,t,i=p.rangeProperties;function o(e){for(var t,n=i.length;n--;)e[t=i[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}h=function(e){if(!e)throw d.createError("WrappedRange: Range must be specified");this.nativeRange=e,o(this)},p.createPrototypeRange(h,function(e,t,n,i,o){var s=e.startContainer!==t||e.startOffset!=n,r=e.endContainer!==i||e.endOffset!=o,a=!e.equals(e.nativeRange);(s||r||a)&&(e.setEnd(i,o),e.setStart(t,n))}),(e=h.prototype).selectNode=function(e){this.nativeRange.selectNode(e),o(this)},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(e){this.nativeRange.surroundContents(e),o(this)},e.collapse=function(e){this.nativeRange.collapse(e),o(this)},e.cloneRange=function(){return new h(this.nativeRange.cloneRange())},e.refresh=function(){o(this)},e.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");m(document).appendChild(n);var s=document.createRange();s.setStart(n,0),s.setEnd(n,0);try{s.setStart(n,1),e.setStart=function(e,t){this.nativeRange.setStart(e,t),o(this)},e.setEnd=function(e,t){this.nativeRange.setEnd(e,t),o(this)},t=function(t){return function(e){this.nativeRange[t](e),o(this)}}}catch(n){e.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}o(this)},e.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}o(this)},t=function(n,i){return function(t){try{this.nativeRange[n](t)}catch(e){this.nativeRange[i](t),this.nativeRange[n](t)}o(this)}}}e.setStartBefore=t("setStartBefore","setEndBefore"),e.setStartAfter=t("setStartAfter","setEndAfter"),e.setEndBefore=t("setEndBefore","setStartBefore"),e.setEndAfter=t("setEndAfter","setStartAfter"),e.selectNodeContents=function(e){this.setStartAndEnd(e,0,x.getNodeLength(e))},s.selectNodeContents(n),s.setEnd(n,3);var r=document.createRange();r.selectNodeContents(n),r.setEnd(n,4),r.setStart(n,2),-1==s.compareBoundaryPoints(s.START_TO_END,r)&&1==s.compareBoundaryPoints(s.END_TO_START,r)?e.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:e.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var a=document.createElement("div");a.innerHTML="123";var l=a.firstChild,c=m(document);c.appendChild(a),s.setStart(l,1),s.setEnd(l,2),s.deleteContents(),"13"==l.data&&(e.deleteContents=function(){this.nativeRange.deleteContents(),o(this)},e.extractContents=function(){var e=this.nativeRange.extractContents();return o(this),e}),c.removeChild(a),c=null,f.isHostMethod(s,"createContextualFragment")&&(e.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),m(document).removeChild(n),e.getName=function(){return"WrappedRange"},u.WrappedRange=h,u.createNativeRange=function(e){return(e=g(e,d,"createNativeRange")).createRange()}}(),u.features.implementsTextRange){var s=function(e,t,n,i,o){var s=e.duplicate();s.collapse(n);var r=s.parentElement();if(x.isOrIsAncestorOf(t,r)||(r=t),!r.canHaveHTML){var a=new _(r.parentNode,x.getNodeIndex(r));return{boundaryPosition:a,nodeInfo:{nodeIndex:a.offset,containerElement:a.node}}}var l=x.getDocument(r).createElement("span");l.parentNode&&l.parentNode.removeChild(l);for(var c,u,d,h,f,p=n?"StartToStart":"StartToEnd",m=o&&o.containerElement==r?o.nodeIndex:0,g=r.childNodes.length,v=g,y=v;y==g?r.appendChild(l):r.insertBefore(l,r.childNodes[y]),s.moveToElementText(l),0!=(c=s.compareEndPoints(p,e))&&m!=v;){if(-1==c){if(v==m+1)break;m=y}else v=v==m+1?m:y;y=Math.floor((m+v)/2),r.removeChild(l)}if(f=l.nextSibling,-1==c&&f&&E(f)){var b;if(s.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(f.data)){var w=s.duplicate(),C=w.text.replace(/\r\n/g,"\r").length;for(b=w.moveStart("character",C);-1==(c=w.compareEndPoints("StartToEnd",w));)b++,w.moveStart("character",1)}else b=s.text.length;h=new _(f,b)}else u=(i||!n)&&l.previousSibling,h=(d=(i||n)&&l.nextSibling)&&E(d)?new _(d,0):u&&E(u)?new _(u,u.data.length):new _(r,x.getNodeIndex(l));return l.parentNode.removeChild(l),{boundaryPosition:h,nodeInfo:{nodeIndex:y,containerElement:r}}},o=function(e,t){var n,i,o,s,r=e.offset,a=x.getDocument(e.node),l=m(a).createTextRange(),c=E(e.node);return c?i=(n=e.node).parentNode:(n=r<(s=e.node.childNodes).length?s[r]:null,i=e.node),(o=a.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),l.moveToElementText(o),l.collapse(!t),i.removeChild(o),c&&l[t?"moveStart":"moveEnd"]("character",r),l};((e=function(e){this.textRange=e,this.refresh()}).prototype=new p(document)).refresh=function(){var e,t,n,i,o=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();(n=e.duplicate()).collapse(!1);var o=n.parentElement(),s=i==o?i:x.getCommonAncestor(i,o);return s==t?s:x.getCommonAncestor(t,s)}(this.textRange);0==(i=this.textRange).compareEndPoints("StartToEnd",i)?t=e=s(this.textRange,o,!0,!0).boundaryPosition:(e=(n=s(this.textRange,o,!0,!1)).boundaryPosition,t=s(this.textRange,o,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},e.prototype.getName=function(){return"WrappedTextRange"},p.copyComparisonConstants(e);var t=function(e){if(e.collapsed)return o(new _(e.startContainer,e.startOffset),!0);var t=o(new _(e.startContainer,e.startOffset),!0),n=o(new _(e.endContainer,e.endOffset),!1),i=m(p.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(e.rangeToTextRange=t,e.prototype.toTextRange=function(){return t(this)},u.WrappedTextRange=e,!u.features.implementsDomRange||u.config.preferTextRange){var n=function(){return this}();void 0===n.Range&&(n.Range=e),u.createNativeRange=function(e){return e=g(e,d,"createNativeRange"),m(e).createTextRange()},u.WrappedRange=e}}u.createRange=function(e){return e=g(e,d,"createRange"),new u.WrappedRange(u.createNativeRange(e))},u.createRangyRange=function(e){return e=g(e,d,"createRangyRange"),new p(e)},u.createIframeRange=function(e){return d.deprecationNotice("createIframeRange()","createRange(iframeEl)"),u.createRange(e)},u.createIframeRangyRange=function(e){return d.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),u.createRangyRange(e)},u.addShimListener(function(e){var t=e.document;void 0===t.createRange&&(t.createRange=function(){return u.createRange(t)}),t=e=null})}),y.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(h,l){h.config.checkSelectionRanges=!0;var o,s,e="number",i=h.dom,t=h.util,n=t.isHostMethod,a=h.DomRange,r=h.WrappedRange,c=h.DOMException,u=i.DomPosition,d=h.features,f="Control",p=i.getDocument,m=i.getBody,g=a.rangesEqual;function v(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function y(e,t){if(e){if(i.isWindow(e))return e;if(e instanceof U)return e.win;var n=i.getContentDocument(e,l,t);return i.getWindow(n)}return window}function b(e){return y(e,"getDocSelection").document.selection}function w(e){var t=!1;return e.anchorNode&&(t=1==i.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var C=n(window,"getSelection"),x=t.isHostObject(document,"selection");d.implementsWinGetSelection=C;var _=(d.implementsDocSelection=x)&&(!C||h.config.preferTextRange);_?(o=b,h.isSelectionValid=function(e){var t=y(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||p(n.createRange().parentElement())==t}):C?(o=function(e){return y(e,"getWinSelection").getSelection()},h.isSelectionValid=function(){return!0}):l.fail("Neither document.selection or window.getSelection() detected.");var E=(h.getNativeSelection=o)(),k=h.createNativeRange(document),S=m(document),T=t.areHostProperties(E,["anchorNode","focusNode","anchorOffset","focusOffset"]);d.selectionHasAnchorAndFocus=T;var N=n(E,"extend");d.selectionHasExtend=N;var A=typeof E.rangeCount==e;d.selectionHasRangeCount=A;var D=!1,R=!0,P=N?function(e,t){var n=a.getRangeDocument(t),i=h.createRange(n);i.collapseToPoint(t.endContainer,t.endOffset),e.addRange(H(i)),e.extend(t.startContainer,t.startOffset)}:null;t.areHostMethods(E,["addRange","getRangeAt","removeAllRanges"])&&typeof E.rangeCount==e&&d.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var t=e.rangeCount,n=1<t,i=[],o=w(e),s=0;s<t;++s)i[s]=e.getRangeAt(s);var r=m(document),a=r.appendChild(document.createElement("div"));a.contentEditable="false";var l=a.appendChild(document.createTextNode("   ")),c=document.createRange();if(c.setStart(l,1),c.collapse(!0),e.addRange(c),R=1==e.rangeCount,e.removeAllRanges(),!n){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&36<=parseInt(u[1]))D=!1;else{var d=c.cloneRange();c.setStart(l,0),d.setEnd(l,3),d.setStart(l,2),e.addRange(c),e.addRange(d),D=2==e.rangeCount}}for(r.removeChild(a),e.removeAllRanges(),s=0;s<t;++s)0==s&&o?P?P(e,i[s]):(h.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(i[s])):e.addRange(i[s])}}(),d.selectionSupportsMultipleRanges=D,d.collapsedNonEditableSelectionsSupported=R;var I,$,L=!1;function O(e,t,n){var i=n?"end":"start",o=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function M(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function H(e){var t;return e instanceof a?((t=h.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof r?t=e.nativeRange:d.implementsDomRange&&e instanceof i.getWindow(e.startContainer).Range&&(t=e),t}function j(e){var t=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!i.isAncestorOf(e[0],e[t]))return!1;return!0}(t))throw l.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function z(e){return!!e&&void 0!==e.text}function B(e,t){var n=new r(t);e._ranges=[n],O(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function F(e){if(e._ranges.length=0,"None"==e.docSelection.type)M(e);else{var t=e.docSelection.createRange();if(z(t))B(e,t);else{e.rangeCount=t.length;for(var n,i=p(t.item(0)),o=0;o<e.rangeCount;++o)(n=h.createRange(i)).selectNode(t.item(o)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,O(e,e._ranges[e.rangeCount-1],!1)}}}function W(e,t){for(var n=e.docSelection.createRange(),i=j(t),o=p(n.item(0)),s=m(o).createControlRange(),r=0,a=n.length;r<a;++r)s.add(n.item(r));try{s.add(i)}catch(e){throw l.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),F(e)}function U(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function q(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}S&&n(S,"createControlRange")&&(I=S.createControlRange(),t.areHostProperties(I,["item","add"])&&(L=!0)),d.implementsControlRange=L,s=T?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},n(E,"getRangeAt")?$=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:T&&($=function(e){var t=p(e.anchorNode),n=h.createRange(t);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),U.prototype=h.selectionPrototype;var V=[];function G(e,t){for(var n,i,o=V.length;o--;)if(i=(n=V[o]).selection,"deleteAll"==t)q(i);else if(n.win==e)return"delete"==t?(V.splice(o,1),!0):i;return"deleteAll"==t&&(V.length=0),null}var K=function(e){if(e&&e instanceof U)return e.refresh(),e;var t=G(e=y(e,"getNativeSelection")),n=o(e),i=x?b(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new U(n,i,e),V.push({win:e,selection:t})),t};h.getSelection=K,h.getIframeSelection=function(e){return l.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),h.getSelection(i.getIframeWindow(e))};var Y,X=U.prototype;function Q(e,t){for(var n,i=p(t[0].startContainer),o=m(i).createControlRange(),s=0,r=t.length;s<r;++s){n=j(t[s]);try{o.add(n)}catch(e){throw l.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),F(e)}if(!_&&T&&t.areHostMethods(E,["removeAllRanges","addRange"])){X.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),M(this)};var J=function(e,t){P(e.nativeSelection,t),e.refresh()};X.addRange=A?function(e,t){var n;if(L&&x&&this.docSelection.type==f)W(this,e);else if(v(t)&&N)J(this,e);else if(D?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(H(e).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(h.config.checkSelectionRanges){var i=$(this.nativeSelection,this.rangeCount-1);i&&!g(i,e)&&(e=new r(i))}this._ranges[this.rangeCount-1]=e,O(this,e,Z(this.nativeSelection)),this.isCollapsed=s(this)}else this.refresh()}:function(e,t){v(t)&&N?J(this,e):(this.nativeSelection.addRange(H(e)),this.refresh())},X.setRanges=function(e){if(L&&x&&1<e.length)Q(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(n(E,"empty")&&n(k,"select")&&L&&_))return l.fail("No means of selecting a Range or TextRange was found"),!1;X.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=p(this.anchorNode);else if(this.docSelection.type==f){var t=this.docSelection.createRange();t.length&&(e=p(t.item(0)))}e&&(m(e).createTextRange().select(),this.docSelection.empty())}}catch(e){}M(this)},X.addRange=function(e){this.docSelection.type==f?W(this,e):(h.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,O(this,e,!1))},X.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?Q(this,e):t&&this.addRange(e[0])}}if(X.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new c("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},_)Y=function(e){var t;h.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=m(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==f?F(e):z(t)?B(e,t):M(e)};else if(n(E,"getRangeAt")&&typeof E.rangeCount==e)Y=function(e){if(L&&x&&e.docSelection.type==f)F(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t)e._ranges[t]=new h.WrappedRange(e.nativeSelection.getRangeAt(t));O(e,e._ranges[e.rangeCount-1],Z(e.nativeSelection)),e.isCollapsed=s(e)}else M(e)};else{if(!T||"boolean"!=typeof E.isCollapsed||"boolean"!=typeof k.collapsed||!d.implementsDomRange)return l.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Y=function(e){var t,n,i,o=e.nativeSelection;o.anchorNode?(t=$(o,0),e._ranges=[t],e.rangeCount=1,i=(n=e).nativeSelection,n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset,e.isCollapsed=s(e)):M(e)}}X.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(Y(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;o--;)if(!g(t[o],this._ranges[o]))return!0;return!1}};var Z,ee=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,o=n.length;i<o;++i)g(t,n[i])||e.addRange(n[i]);e.rangeCount||M(e)};function te(e,t){if(e.win.document!=p(t))throw new c("WRONG_DOCUMENT_ERR")}function ne(i){return function(e,t){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(i?"Start":"End")](e,t):(n=h.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(n,this.isBackward())}}function ie(e){var t=[],n=new u(e.anchorNode,e.anchorOffset),i=new u(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var s=0,r=e.rangeCount;s<r;++s)t[s]=a.inspect(e.getRangeAt(s));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}X.removeRange=L&&x?function(e){if(this.docSelection.type==f){for(var t=this.docSelection.createRange(),n=j(e),i=p(t.item(0)),o=m(i).createControlRange(),s=!1,r=0,a=t.length;r<a;++r)t.item(r)!==n||s?o.add(t.item(r)):s=!0;o.select(),F(this)}else ee(this,e)}:function(e){ee(this,e)},!_&&T&&d.implementsDomRange?(Z=w,X.isBackward=function(){return Z(this)}):Z=X.isBackward=function(){return!1},X.isBackwards=X.isBackward,X.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},X.collapse=function(e,t){te(this,e);var n=h.createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},X.collapseToStart=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},X.collapseToEnd=function(){if(!this.rangeCount)throw new c("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},X.selectAllChildren=function(e){te(this,e);var t=h.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},X.deleteFromDocument=function(){if(L&&x&&this.docSelection.type==f){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,o=n.length;i<o;++i)n[i].deleteContents();this.addRange(n[o-1])}}},X.eachRange=function(e,t){for(var n=0,i=this._ranges.length;n<i;++n)if(e(this.getRangeAt(n)))return t},X.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},X.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},X.callMethodOnEachRange=function(t,n){var i=[];return this.eachRange(function(e){i.push(e[t].apply(e,n))}),i},X.setStart=ne(!0),X.setEnd=ne(!1),h.rangePrototype.select=function(e){K(this.getDocument()).setSingleRange(this,e)},X.changeEachRange=function(t){var n=[],e=this.isBackward();this.eachRange(function(e){t(e),n.push(e)}),this.removeAllRanges(),e&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},X.containsNode=function(t,n){return this.eachRange(function(e){return e.containsNode(t,n)},!0)||!1},X.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},X.moveToBookmark=function(e){for(var t,n,i=[],o=0;t=e.rangeBookmarks[o++];)(n=h.createRange(this.win)).moveToBookmark(t),i.push(n);e.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},X.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(a.toHtml(e))}),t.join("")},d.implementsTextRange&&(X.getNativeTextRange=function(){var e;if(e=this.docSelection){var t=e.createRange();if(z(t))return t;throw l.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return h.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw l.createError("getNativeTextRange: selection contains no range")}),X.getName=function(){return"WrappedSelection"},X.inspect=function(){return ie(this)},X.detach=function(){G(this.win,"delete"),q(this)},U.detachAll=function(){G(null,"deleteAll")},U.inspect=ie,U.isDirectionBackward=v,h.Selection=U,h.selectionPrototype=X,h.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return K(e)}),e=null})}),y;C("No document found")}else C("No window found")},this),function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(a,r){var l=a.dom,c="\ufeff";function u(e,t){return(t||document).getElementById(e)}function s(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),o=l.getDocument(e.startContainer),s=e.cloneRange();return s.collapse(t),(n=o.createElement("span")).id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(o.createTextNode(c)),s.insertNode(n),n}function d(e,t,n,i){var o=u(n,e);o?(t[i?"setStartBefore":"setEndBefore"](o),o.parentNode.removeChild(o)):r.warn("Marker element has been removed. Cannot restore selection.")}function h(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function f(e,t){var n,i=a.DomRange.getRangeDocument(e),o=e.toString();return e.collapsed?{document:i,markerId:(n=s(e,!1)).id,collapsed:!0}:(n=s(e,!1),{document:i,startMarkerId:s(e,!0).id,endMarkerId:n.id,collapsed:!1,backward:t,toString:function(){return"original text: '"+o+"', new text: '"+e.toString()+"'"}})}function i(e,t){var n=e.document;void 0===t&&(t=!0);var i=a.createRange(n);if(e.collapsed){var o=u(e.markerId,n);if(o){o.style.display="inline";var s=o.previousSibling;s&&3==s.nodeType?(o.parentNode.removeChild(o),i.collapseToPoint(s,s.length)):(i.collapseBefore(o),o.parentNode.removeChild(o))}else r.warn("Marker element has been removed. Cannot restore selection.")}else d(n,i,e.startMarkerId,!0),d(n,i,e.endMarkerId,!1);return t&&i.normalizeBoundaries(),i}function p(e,t){var n,i,o=[];(e=e.slice(0)).sort(h);for(var s=0,r=e.length;s<r;++s)o[s]=f(e[s],t);for(s=r-1;0<=s;--s)n=e[s],i=a.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(u(o[s].markerId,i)):(n.setEndBefore(u(o[s].endMarkerId,i)),n.setStartAfter(u(o[s].startMarkerId,i)));return o}function m(e){for(var t=[],n=e.length-1;0<=n;n--)t[n]=i(e[n],!0);return t}function g(e,t){var n=u(t,e);n&&n.parentNode.removeChild(n)}a.util.extend(a,{saveRange:f,restoreRange:i,saveRanges:p,restoreRanges:m,saveSelection:function(e){if(!a.isSelectionValid(e))return r.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var t=a.getSelection(e),n=t.getAllRanges(),i=1==n.length&&t.isBackward(),o=p(n,i);return i?t.setSingleRange(n[0],"backward"):t.setRanges(n),{win:e,rangeInfos:o,restored:!1}},restoreSelection:function(e,t){if(!e.restored){var n=e.rangeInfos,i=a.getSelection(e.win),o=m(n);1==n.length&&t&&a.features.selectionHasExtend&&n[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),e.restored=!0}},removeMarkerElement:g,removeMarkers:function(e){for(var t,n=e.rangeInfos,i=0,o=n.length;i<o;++i)(t=n[i]).collapsed?g(e.doc,t.markerId):(g(e.doc,t.startMarkerId),g(e.doc,t.endMarkerId))}})})},this);var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,e),i.base=function(){},delete Base._prototyping;var o=i.constructor,s=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=i,s.toString=this.toString,s.valueOf=function(e){return"object"==e?s:o.valueOf()},n.call(s,t),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(e,t){if(1<arguments.length){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var i=t.valueOf();(t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=i.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString}this[e]=t}else if(e){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var s={toSource:null},r=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=r[a++];)e[l]!=s[l]&&o.call(this,l,e[l]);for(var l in e)s[l]||o.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){var n,i,t=navigator.userAgent,r=document.createElement("div"),e=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),o=-1!==t.indexOf("AppleWebKit/"),s=-1!==t.indexOf("Chrome/"),a=-1!==t.indexOf("Opera/");function l(e,t){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!e||(t?"<"===t?e<i:">"===t?i<e:"<="===t?e<=i:">="===t?i<=e:void 0:e===i))}return{USER_AGENT:t,supported:function(){var e,t=this.USER_AGENT.toLowerCase(),n="contentEditable"in r,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,s=this.isIos()&&+(/ipad|iphone|ipod/.test(e=t)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]<5||this.isAndroid()&&+(t.match(/android (\d+)/)||[void 0,0])[1]<4||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&i&&o&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return l()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return l()},hasCurrentStyleProperty:function(){return"currentStyle"in r},hasHistoryIssue:function(){return e&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in r||(r.setAttribute("on"+e,"return;"),"function"==typeof r["on"+e])},supportsEventsInIframeCorrectly:function(){return!a},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:(n={formatBlock:l(10,"<="),insertUnorderedList:l(),insertOrderedList:l()},i={insertHTML:e},function(e,t){if(!n[t]){try{return e.queryCommandSupported(t)}catch(e){}try{return e.queryCommandEnabled(t)}catch(e){return!!i[t]}}return!1}),doesAutoLinkingInContentEditable:function(){return l()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||a||o},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||l()||a},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var e,t,n=r.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return l(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return l()},hasProblemsSettingCaretAfterImg:function(){return l()},hasUndoInContextMenu:function(){return e||s||a},hasInsertNodeIssue:function(){return a},hasIframeFocusIssue:function(){return l()},createsNestedInvalidMarkupAfterPaste:function(){return o},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(s){return{contains:function(e){if(Array.isArray(e)){for(var t=e.length;t--;)if(-1!==wysihtml5.lang.array(s).indexOf(e[t]))return!0;return!1}return-1!==wysihtml5.lang.array(s).indexOf(e)},indexOf:function(e){if(s.indexOf)return s.indexOf(e);for(var t=0,n=s.length;t<n;t++)if(s[t]===e)return t;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var t=[],n=0,i=s.length;n<i;n++)e.contains(s[n])||t.push(s[n]);return t},get:function(){for(var e=0,t=s.length,n=[];e<t;e++)n.push(s[e]);return n},map:function(e,t){if(Array.prototype.map)return s.map(e,t);for(var n=s.length>>>0,i=new Array(n),o=0;o<n;o++)i[o]=e.call(t,s[o],o,s);return i},unique:function(){for(var e=[],t=s.length,n=0;n<t;)wysihtml5.lang.array(e).contains(s[n])||e.push(s[n]),n++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,i,o=0;if(e){for(n=this.events[e]||[],i=[];o<n.length;o++)n[o]!==t&&t&&i.push(n[o]);this.events[e]=i}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;i<n.length;i++)n[i].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(i){return{merge:function(e){for(var t in e)i[t]=e[t];return this},get:function(){return i},clone:function(e){var t,n={};if(null===i||!wysihtml5.lang.object(i).isPlainObject())return i;for(t in i)i.hasOwnProperty(t)&&(n[t]=e?wysihtml5.lang.object(i[t]).clone(e):i[t]);return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(i)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(i)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(i)}}},function(){var e=/^\s+/,t=/\s+$/,o=/[&<>\t"]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(t){return{by:function(e){return i.split(t).join(e)}}},escapeHTML:function(e,t){var n=i.replace(o,function(e){return s[e]});return e&&(n=n.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(n=n.replace(/  /gi,"&nbsp; ")),n}}}}(),function(r){var a=r.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u={")":"(","]":"[","}":"{"};r.dom.autoLink=function(e,t){return function(e,t){for(var n;e.parentNode;){if(n=(e=e.parentNode).nodeName,e.className&&r.lang.array(e.className.split(" ")).contains(t))return!0;if(a.contains(n))return!0;if("body"===n)return!1}return!1}(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),function e(t,n){if(!(a.contains(t.nodeName)||t.className&&r.lang.array(t.className.split(" ")).contains(n))){if(t.nodeType!==r.TEXT_NODE||!t.data.match(l)){for(var i=r.lang.array(t.childNodes).get(),o=i.length,s=0;s<o;s++)e(i[s],n);return t}!function(e){var t,n,i=e.parentNode,o=r.lang.string(e.data).escapeHTML(),s=((n=(t=i.ownerDocument)._wysihtml5_tempElement)||(n=t._wysihtml5_tempElement=t.createElement("div")),n);for(s.innerHTML="<span></span>"+o.replace(l,function(e,t){var n=(t.match(c)||[])[1]||"",i=u[n];(t=t.replace(c,"")).split(i).length>t.split(n).length&&(t+=n,n="");var o=t,s=t;return 100<t.length&&(s=s.substr(0,100)+"..."),"www."===o.substr(0,4)&&(o="http://"+o),'<a href="'+o+'">'+s+"</a>"+n}),s.removeChild(s.firstChild);s.firstChild;)i.insertBefore(s.firstChild,e);i.removeChild(e)}(t)}}(e,t))},r.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var i=wysihtml5.dom;i.addClass=function(e,t){var n=e.classList;if(n)return n.add(t);i.hasClass(e,t)||(e.className+=" "+t)},i.removeClass=function(e,t){var n=e.classList;if(n)return n.remove(t);e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")},i.hasClass=function(e,t){var n=e.classList;if(n)return n.contains(t);var i=e.className;return 0<i.length&&(i==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(i))}}(),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function v(e,t){var n=e.createElement("li");return t.appendChild(n),n}return function(e,t,n){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var i,o,s,r,a,l,c,u,d,h,f=e.ownerDocument,p=(h=t,f.createElement(h)),m=e.querySelectorAll("br"),g=m.length;for(d=0;d<g;d++)for(r=m[d];(a=r.parentNode)&&a!==e&&a.lastChild===r;){if("block"===wysihtml5.dom.getStyle("display").from(a)){a.removeChild(r);break}wysihtml5.dom.insert(r).after(r.parentNode)}for(o=(i=wysihtml5.lang.array(e.childNodes).get()).length,d=0;d<o;d++)u=u||v(f,p),s=i[d],l="block"===wysihtml5.dom.getStyle("display").from(s),c="BR"===s.nodeName,!l||n&&wysihtml5.dom.hasClass(s,n)?c?u=u.firstChild?null:u:u.appendChild(s):((u=u.firstChild?v(f,p):u).appendChild(s),u=null);return 0===i.length&&v(f,p),e.parentNode.replaceChild(p,e),p}}(),wysihtml5.dom.copyAttributes=function(s){return{from:function(o){return{to:function(e){for(var t,n=0,i=s.length;n<i;n++)t=s[n],void 0!==o[t]&&""!==o[t]&&(e[t]=o[t]);return{andTo:arguments.callee}}}}}},function(a){var l=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];a.copyStyles=function(r){return{from:function(e){var t;(function(e){for(var t=0,n=l.length;t<n;t++)if("border-box"===a.getStyle(l[t]).from(e))return l[t]})(t=e)&&parseInt(a.getStyle("width").from(t),10)<t.offsetWidth&&(r=wysihtml5.lang.array(r).without(l));for(var n,i="",o=r.length,s=0;s<o;s++)n=r[s],i+=n+":"+a.getStyle(n).from(e)+";";return{to:function(e){return a.setStyles(i).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(r){r.dom.delegate=function(i,o,e,s){return r.dom.observe(i,e,function(e){for(var t=e.target,n=r.lang.array(i.querySelectorAll(o));t&&t!==i;){if(n.contains(t)){s.call(t,e);break}t=t.parentNode}})}}(wysihtml5),function(r){r.dom.domNode=function(i){var o=[r.ELEMENT_NODE,r.TEXT_NODE],s=function(e){return e.nodeType===r.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(e){var t=i.previousSibling,n=e&&e.nodeTypes?e.nodeTypes:o;return t?!r.lang.array(n).contains(t.nodeType)||e&&e.ignoreBlankTexts&&s(t)?r.dom.domNode(t).prev(e):t:null},next:function(e){var t=i.nextSibling,n=e&&e.nodeTypes?e.nodeTypes:o;return t?!r.lang.array(n).contains(t.nodeType)||e&&e.ignoreBlankTexts&&s(t)?r.dom.domNode(t).next(e):t:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(e,t){var n;return t=t||document,"object"==typeof e&&e.nodeType?(n=t.createElement("div")).appendChild(e):wysihtml5.browser.supportsHTML5Tags(t)?(n=t.createElement("div")).innerHTML=e:(function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,n=i.length;t<n;t++)e.createElement(i[t]);e._wysihtml5_supportsHTML5Tags=!0}}(t),n=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(e){}return t.body.removeChild(n),n}(e,t)),n}}(),wysihtml5.dom.getParentElement=function(e,t,n,i){var o,s,r,a,l,c,u,d,h,f,p=t.cssStyle||t.styleRegExp,m=t.className||t.classRegExp;for(n=n||50;n--&&e&&"BODY"!==e.nodeName&&(!i||e!==i);){if(e.nodeType===wysihtml5.ELEMENT_NODE&&(h=e.nodeName,!(f=t.nodeName)||!f.length||("string"==typeof f?h===f:wysihtml5.lang.array(f).contains(h)))&&(!p||(l=e,c=t.cssStyle,u=t.styleRegExp,d=(l.getAttribute("style")||"").match(u)||[],c?d[d.length-1]===c:d.length))&&(!m||(o=e,s=t.className,r=t.classRegExp,a=(o.className||"").match(r)||[],s?a[a.length-1]===s:a.length)))return e;e=e.parentNode}return null},wysihtml5.dom.getStyle=function(){var d={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},h=/\-[a-z]/g;return function(u){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var t=e.ownerDocument,n=d[u]||u.replace(h,function(e){return e.charAt(1).toUpperCase()}),i=e.style,o=e.currentStyle,s=i[n];if(s)return s;if(o)try{return o[n]}catch(e){}var r,a,l=t.defaultView||t.parentWindow,c=("height"===u||"width"===u)&&"TEXTAREA"===e.nodeName;return l.getComputedStyle?(c&&(r=i.overflow,i.overflow="hidden"),a=l.getComputedStyle(e,null).getPropertyValue(u),c&&(i.overflow=r||""),a):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){var s={},r=1;return function(e,t){var n,i=((n=e)._wysihtml5_identifier||(n._wysihtml5_identifier=r++))+":"+t,o=s[i];return o||(o=s[i]=e.getElementsByTagName(t)),0<o.length}}(),function(s){var r={},a=1;s.dom.hasElementWithClassName=function(e,t){if(!s.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+t);var n,i=((n=e)._wysihtml5_identifier||(n._wysihtml5_identifier=a++))+":"+t,o=r[i];return o||(o=r[i]=e.getElementsByClassName(t)),0<o.length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(o){return o=o.join("\n"),{into:function(e){var t=e.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=o:t.appendChild(e.createTextNode(o));var n=e.querySelector("head link");if(n)n.parentNode.insertBefore(t,n);else{var i=e.querySelector("head");i&&i.appendChild(t)}}}},function(r){r.dom.lineBreaks=function(o){function i(e){return"BR"===e.nodeName}function s(e){return!!i(e)||"block"===r.dom.getStyle("display").from(e)}return{add:function(e){var t=o.ownerDocument,n=r.dom.domNode(o).next({ignoreBlankTexts:!0}),i=r.dom.domNode(o).prev({ignoreBlankTexts:!0});n&&!s(n)&&r.dom.insert(t.createElement("br")).after(o),i&&!s(i)&&r.dom.insert(t.createElement("br")).before(o)},remove:function(e){var t=r.dom.domNode(o).next({ignoreBlankTexts:!0}),n=r.dom.domNode(o).prev({ignoreBlankTexts:!0});t&&i(t)&&t.parentNode.removeChild(t),n&&i(n)&&n.parentNode.removeChild(n)}}}}(wysihtml5),wysihtml5.dom.observe=function(i,o,s){for(var r,e,t=0,n=(o="string"==typeof o?[o]:o).length;t<n;t++)e=o[t],i.addEventListener?i.addEventListener(e,s,!1):(r=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},s.call(i,e)},i.attachEvent("on"+e,r));return{stop:function(){for(var e,t=0,n=o.length;t<n;t++)e=o[t],i.removeEventListener?i.removeEventListener(e,s,!1):i.detachEvent("on"+e,r)}}},wysihtml5.dom.parse=function(e,t){var h={1:function(e,t){var n,i,o,s=C.tags,r=e.nodeName.toLowerCase(),a=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(a&&"HTML"!=a&&(r=a+":"+r),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(r="div")),r in s){if(!(n=s[r])||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:f}}if(n.one_of_type&&!function(e,t,n,i){var o;if("SPAN"===e.nodeName&&!i&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(o in n)if(n.hasOwnProperty(o)&&t.type_definitions&&t.type_definitions[o]&&l(e,t.type_definitions[o]))return!0;return!1}(e,C,n.one_of_type,t)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;o=n.remove_action_rename_to||f}return function(e,t,n,i){var o,s,r,a,l,c={},u=n.set_class,d=n.add_class,h=n.add_style,f=n.set_attributes,p=C.classes,m=0,g=[],v=[],y=[],b=[];if(f&&(c=wysihtml5.lang.object(f).clone()),c=wysihtml5.lang.object(c).merge(function(e,t){var n,i,o,s=wysihtml5.lang.object(C.attributes||{}).clone(),r=wysihtml5.lang.object(s).merge(wysihtml5.lang.object(t||{}).clone()).get(),a={},l=wysihtml5.dom.getAttributes(e);for(n in r)if(/\*$/.test(n))for(var c=0,u=(o=x(n.slice(0,-1),l)).length;c<u;c++)!1!==(i=_(o[c],l[o[c]],r[n],e.nodeName))&&(a[o[c]]=i);else!1!==(i=_(n,l[n],r[n],e.nodeName))&&(a[n]=i);return a}(e,n.check_attributes)).get(),u&&g.push(u),d)for(a in d)(l=S[d[a]])&&"string"==typeof(r=l(wysihtml5.dom.getAttribute(e,a)))&&g.push(r);if(h)for(a in h)(l=k[h[a]])&&(newStyle=l(wysihtml5.dom.getAttribute(e,a)),"string"==typeof newStyle&&v.push(newStyle));if("string"==typeof p&&"any"===p&&e.getAttribute("class"))if(C.classes_blacklist){for((b=e.getAttribute("class"))&&(g=g.concat(b.split(w))),o=g.length;m<o;m++)s=g[m],C.classes_blacklist[s]||y.push(s);y.length&&(c.class=wysihtml5.lang.array(y).unique().join(" "))}else c.class=e.getAttribute("class");else{for(i||(p["_wysihtml5-temp-placeholder"]=1,p._rangySelectionBoundary=1,p["wysiwyg-tmp-selected-cell"]=1),(b=e.getAttribute("class"))&&(g=g.concat(b.split(w))),o=g.length;m<o;m++)p[s=g[m]]&&y.push(s);y.length&&(c.class=wysihtml5.lang.array(y).unique().join(" "))}for(a in c.class&&i&&(c.class=c.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(c.class)&&delete c.class),v.length&&(c.style=wysihtml5.lang.array(v).unique().join(" ")),c)try{t.setAttribute(a,c[a])}catch(e){}c.src&&(void 0!==c.width&&t.setAttribute("width",c.width),void 0!==c.height&&t.setAttribute("height",c.height))}(e,i=e.ownerDocument.createElement(o||n.rename_tag||r),n,t),function(e,t,n){var i,o;if(n&&n.keep_styles)for(i in n.keep_styles)if(n.keep_styles.hasOwnProperty(i)){if(o="float"===i?e.style.styleFloat||e.style.cssFloat:e.style[i],n.keep_styles[i]instanceof RegExp&&!n.keep_styles[i].test(o))continue;"float"===i?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=o:e.style[i]&&(t.style[i]=o)}}(e,i,n),e=null,i.normalize&&i.normalize(),i},3:function(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var n=e.data.replace(b,"");return e.ownerDocument.createTextNode(n)}t.data=e.data.replace(b,"")+t.data.replace(b,"")},8:function(e){if(C.comments)return e.ownerDocument.createComment(e.nodeValue)}},f="span",w=/\s+/,d={tags:{},classes:{}},C={};function p(e,t,n,i){var o,s,r,a=e.nodeType,l=e.childNodes,c=l.length,u=h[a],d=0;if(i&&1===a&&wysihtml5.dom.hasClass(e,i))return e;if(!(s=u&&u(e,n))){if(!1===s){for(o=e.ownerDocument.createDocumentFragment(),d=c;d--;)l[d]&&(r=p(l[d],t,n,i))&&(l[d]===r&&d--,o.insertBefore(r,o.firstChild));return"block"===wysihtml5.dom.getStyle("display").from(e)&&o.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||o.appendChild(e.ownerDocument.createTextNode(" "))),o.normalize&&o.normalize(),o}return null}for(d=0;d<c;d++)l[d]&&(r=p(l[d],t,n,i))&&(l[d]===r&&d--,s.appendChild(r));if(t&&s.nodeName.toLowerCase()===f&&(!s.childNodes.length||/^\s*$/gi.test(s.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!s.attributes.length)){for(o=s.ownerDocument.createDocumentFragment();s.firstChild;)o.appendChild(s.firstChild);return o.normalize&&o.normalize(),o}return s.normalize&&s.normalize(),s}function l(e,t){var n,i,o,s,r,a=e.getAttribute("class"),l=e.getAttribute("style");if(t.methods)for(var c in t.methods)if(t.methods.hasOwnProperty(c)&&T[c]&&T[c](e))return!0;if(a&&t.classes){n=(a=a.replace(/^\s+/g,"").replace(/\s+$/g,"").split(w)).length;for(var u=0;u<n;u++)if(t.classes[a[u]])return!0}if(l&&t.styles)for(i in l=l.split(";"),t.styles)if(t.styles.hasOwnProperty(i))for(var d=l.length;d--;)if((r=l[d].split(":"))[0].replace(/\s/g,"").toLowerCase()===i&&(!0===t.styles[i]||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(r[1].replace(/\s/g,"").toLowerCase())))return!0;if(t.attrs)for(o in t.attrs)if(t.attrs.hasOwnProperty(o)&&"string"==typeof(s=wysihtml5.dom.getAttribute(e,o))&&-1<s.search(t.attrs[o]))return!0;return!1}function x(e,t){var n=[];for(var i in t)t.hasOwnProperty(i)&&0===i.indexOf(e)&&n.push(i);return n}function _(e,t,n,i){var o,s=E[n];return!(!s||!(t||"alt"===e&&"IMG"==i)||"string"!=typeof(o=s(t)))&&o}var n,i,o,s,r,a,c,u,m,g,v,y,b=/\uFEFF/g,E={url:(r=/^https?:\/\//i,function(e){return e&&e.match(r)?e.replace(r,function(e){return e.toLowerCase()}):null}),src:(s=/^(\/|https?:\/\/)/i,function(e){return e&&e.match(s)?e.replace(s,function(e){return e.toLowerCase()}):null}),href:(o=/^(#|\/|https?:\/\/|mailto:)/i,function(e){return e&&e.match(o)?e.replace(o,function(e){return e.toLowerCase()}):null}),alt:(i=/[^ a-z0-9_\-]/gi,function(e){return e?e.replace(i,""):""}),numbers:(n=/\D/g,function(e){return(e=(e||"").replace(n,""))||null}),any:function(e){return e}},k={align_text:(a={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(e){return a[String(e).toLowerCase()]})},S={align_img:(g={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(e){return g[String(e).toLowerCase()]}),align_text:(m={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(e){return m[String(e).toLowerCase()]}),clear_br:(u={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(e){return u[String(e).toLowerCase()]}),size_font:(c={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(e){return c[String(e).charAt(0)]})},T={has_visible_contet:(y=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(e){if((v=(e.innerText||e.textContent).replace(/\s/g,""))&&0<v.length)return!0;for(var t=y.length;t--;)if(e.querySelector(y[t]))return!0;return!!(e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight)})},N={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return function(e,t){wysihtml5.lang.object(C).merge(d).merge(t.rules).get();var n,i,o,s=t.context||e.ownerDocument||document,r=s.createDocumentFragment(),a="string"==typeof e,l=!1;for(!0===t.clearInternals&&(l=!0),n=a?wysihtml5.dom.getAsDom(e,s):e,C.selectors&&function(e,t){var n,i,o;for(n in t)if(t.hasOwnProperty(n)){wysihtml5.lang.object(t[n]).isFunction()?i=t[n]:"string"==typeof t[n]&&N[t[n]]&&(i=N[t[n]]);for(var s=(o=e.querySelectorAll(n)).length;s--;)i(o[s])}}(n,C.selectors);n.firstChild;)(i=p(o=n.firstChild,t.cleanUp,l,t.uneditableClass))&&r.appendChild(i),o!==i&&n.removeChild(o);if(t.unjoinNbsps)for(var c=wysihtml5.dom.getTextNodes(r),u=c.length;u--;)c[u].nodeValue=c[u].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return n.innerHTML="",n.appendChild(r),a?wysihtml5.quirks.getCorrectInnerHTML(n):n}(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,o=0;o<i;o++)(t=n[o]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode)if(e.firstChild){for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}else e.parentNode.removeChild(e)},function(t){function u(e){return"block"===t.getStyle("display").from(e)}function d(e){return"BR"===e.nodeName}function h(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}t.resolveList=function(e,t){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var n,i,o,s,r,a=e.ownerDocument,l=a.createDocumentFragment(),c=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(t)for(!c||u(c)||d(c)||h(l);r=e.firstElementChild||e.firstChild;){for(i=r.lastChild;n=r.firstChild;)o=n===i&&!u(n)&&!d(n),l.appendChild(n),o&&h(l);r.parentNode.removeChild(r)}else for(;r=e.firstElementChild||e.firstChild;){if(r.querySelector&&r.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;n=r.firstChild;)l.appendChild(n);else{for(s=a.createElement("p");n=r.firstChild;)s.appendChild(n);l.appendChild(s)}r.parentNode.removeChild(r)}e.parentNode.replaceChild(l,e)}}}(wysihtml5.dom),function(l){var c=document,u=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],h=["referrer","write","open","close"];l.dom.Sandbox=Base.extend({constructor:function(e,t){this.callback=e||l.EMPTY_FUNCTION,this.config=l.lang.object({}).merge(t).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=c.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var e=this,t=c.createElement("iframe");return t.className="wysihtml5-sandbox",l.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(t),l.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(t.src="javascript:'<html></html>'"),t.onload=function(){t.onreadystatechange=t.onload=null,e._onLoadIframe(t)},t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&(t.onreadystatechange=t.onload=null,e._onLoadIframe(t))},t},_onLoadIframe:function(e){if(l.dom.contains(c.documentElement,e)){var t=this,n=e.contentWindow,i=e.contentWindow.document,o=c.characterSet||c.charset||"utf-8",s=this._getHtml({charset:o,stylesheets:this.config.stylesheets});if(i.open("text/html","replace"),i.write(s),i.close(),this.getWindow=function(){return e.contentWindow},this.getDocument=function(){return e.contentWindow.document},n.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!l.browser.supportsSandboxedIframes()){var r,a;for(r=0,a=u.length;r<a;r++)this._unset(n,u[r]);for(r=0,a=d.length;r<a;r++)this._unset(n,d[r],l.EMPTY_FUNCTION);for(r=0,a=h.length;r<a;r++)this._unset(i,h[r]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){t.callback(t)},0)}},_getHtml:function(e){var t,n=e.stylesheets,i="",o=0;if(n="string"==typeof n?[n]:n)for(t=n.length;o<t;o++)i+='<link rel="stylesheet" href="'+n[o]+'">';return e.stylesheets=i,l.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,t,n,i){try{e[t]=n}catch(e){}try{e.__defineGetter__(t,function(){return n})}catch(e){}if(i)try{e.__defineSetter__(t,function(){})}catch(e){}if(!l.browser.crashesWhenDefineProperty(t))try{var o={get:function(){return n}};i&&(o.set=function(){}),Object.defineProperty(e,t,o)}catch(e){}}})}(wysihtml5),function(i){var t=document;i.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,t,n){this.callback=e||i.EMPTY_FUNCTION,this.config=i.lang.object({}).merge(t).get(),this.element=n?this._bindElement(n):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n=this;if(!t){var i=this._getHtml();e.innerHTML=i}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(e){return""}})}(wysihtml5),function(){var i={className:"class"};wysihtml5.dom.setAttributes=function(n){return{on:function(e){for(var t in n)e.setAttribute(i[t]||t,n[t])}}}}(),wysihtml5.dom.setStyles=function(i){return{on:function(e){var t=e.style;if("string"!=typeof i)for(var n in i)"float"===n?(t.cssFloat=i[n],t.styleFloat=i[n]):t[n]=i[n];else t.cssText+=";"+i}}},function(r){r.simulatePlaceholder=function(e,t,n){var i="placeholder",o=function(){var e=0<t.element.offsetWidth&&0<t.element.offsetHeight;t.hasPlaceholderSet()&&(t.clear(),t.element.focus(),e&&setTimeout(function(){var e=t.selection.getSelection();e.focusNode&&e.anchorNode||t.selection.selectNode(t.element.firstChild||t.element)},0)),t.placeholderSet=!1,r.removeClass(t.element,i)},s=function(){t.isEmpty()&&(t.placeholderSet=!0,t.setValue(n),r.addClass(t.element,i))};e.on("set_placeholder",s).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",s),s()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===wysihtml5.dom.isLoadedImage(e)?e.src:n&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)},wysihtml5.dom.getAttributes=function(e){var t,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),i=e.nodeName,o=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==i&&"src"==e.attributes[t].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(e)?o.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&n?1!==e.attributes[t].value&&(o[e.attributes[t].name]=e.attributes[t].value):o[e.attributes[t].name]=e.attributes[t].value);return o},wysihtml5.dom.isLoadedImage=function(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}},function(o){var d=o.dom,h=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},n=function(e,t){e?(this.cell=e,this.table=d.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};function s(e,t){for(var n,i=[],o=0,s=e.length;o<s;o++)if(n=e[o].querySelectorAll(t))for(var r=n.length;r--;i.unshift(n[r]));return i}function l(e){e.parentNode.removeChild(e)}function f(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function p(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}n.prototype={addSpannedCellToMap:function(e,t,n,i,o,s){for(var r=[],a=n+(s?parseInt(s,10)-1:0),l=i+(o?parseInt(o,10)-1:0),c=n;c<=a;c++){void 0===t[c]&&(t[c]=[]);for(var u=i;u<=l;u++)t[c][u]=new h(e),t[c][u].isColspan=o&&1<parseInt(o,10),t[c][u].isRowspan=s&&1<parseInt(s,10),t[c][u].firstCol=u==i,t[c][u].lastCol=u==l,t[c][u].firstRow=c==n,t[c][u].lastRow=c==a,t[c][u].isReal=u==i&&c==n,(t[c][u].spanCollection=r).push(t[c][u])}},setCellAsModified:function(e){if(e.modified=!0,0<e.spanCollection.length)for(var t=0,n=e.spanCollection.length;t<n;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,i,o,s,r,a,l=[],c=this.getTableRows();for(e=0;e<c.length;e++)for(t=c[e],n=this.getRowCells(t),void(s=0)===l[e]&&(l[e]=[]),i=0;i<n.length;i++){for(o=n[i];void 0!==l[e][s];)s++;r=d.getAttribute(o,"colspan"),a=d.getAttribute(o,"rowspan"),r||a?(this.addSpannedCellToMap(o,l,e,s,r,a),s+=r?parseInt(r,10):1):(l[e][s]=new h(o),s++)}return this.map=l},getRowCells:function(e){var t=this.table.querySelectorAll("table"),n=t?s(t,"th, td"):[],i=e.querySelectorAll("th, td");return 0<n.length?o.lang.array(i).without(n):i},getTableRows:function(){var e=this.table.querySelectorAll("table"),t=e?s(e,"tr"):[],n=this.table.querySelectorAll("tr");return 0<t.length?o.lang.array(n).without(t):n},getMapIndex:function(e){for(var t=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,i=0;i<t;i++)for(var o=0;o<n;o++)if(this.map[i][o].el===e)return{row:i,col:o};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}if(null!=this.idx_start&&null!=this.idx_end)for(var o=this.idx_start.row,s=this.idx_end.row;o<=s;o++)for(var r=this.idx_start.col,a=this.idx_end.col;r<=a;r++)t.push(this.map[o][r].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){for(var i,o=this.table.ownerDocument,s=o.createDocumentFragment(),r=0;r<t;r++){if(i=o.createElement(e),n)for(var a in n)n.hasOwnProperty(a)&&i.setAttribute(a,n[a]);i.appendChild(document.createTextNode(" ")),s.appendChild(i)}return s},correctColIndexForUnreals:function(e,t){for(var n=this.map[t],i=-1,o=0;o<e;o++)n[o].isReal&&i++;return i},getLastNewCellOnRow:function(e,t){for(var n,i,o=this.getRowCells(e),s=0,r=o.length;s<r;s++)if(n=o[s],!1===(i=this.getMapIndex(n))||void 0!==t&&i.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return!(e&&0!=e.length||(l(this.table),0))},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(d.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(1<t){var i=this.createCells(n,t-1);f(e.el,i)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var n=null,i=null;t=t||this.idx;for(var o=0,s=this.map[t.row].length;o<s;o++)if((i=this.map[t.row][o]).isReal&&(n=d.getParentElement(i.el,{nodeName:["TR"]})))return n;return null===n&&e&&(n=d.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(e,t,n,i,o){var s=this.getRealRowEl(!1,{row:e,col:t}),r=this.createCells(i,n);if(s){var a=this.correctColIndexForUnreals(t,e);0<=a?f(this.getRowCells(s)[a],r):s.insertBefore(r,s.firstChild)}else{var l=this.table.ownerDocument.createElement("tr");l.appendChild(r),f(d.getParentElement(o.el,{nodeName:["TR"]}),l)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var s=this.idx_start.col,r=this.idx_end.col;s<=r;s++)if(this.map[i][s].isColspan||this.map[i][s].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(d.getAttribute(e.el,t),10)-1;1<=n?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,n,i,o,s,r;if(this.setTableMap(),this.map){for(n=0,i=this.map.length;n<i;n++){for(r=!0,o=0,s=(e=this.map[n]).length;o<s;o++)if(t=e[o],!(d.getAttribute(t.el,"rowspan")&&1<parseInt(d.getAttribute(t.el,"rowspan"),10)&&!0!==t.firstRow)){r=!1;break}if(r)for(o=0;o<s;o++)this.decreaseCellSpan(e[o],"rowspan")}var a=this.getTableRows();for(n=0,i=a.length;n<i;n++)0==(e=a[n]).childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&l(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var i=0;i<e;i++)this.map[i].length>t&&(t=this.map[i].length);for(var o=0;o<e;o++)for(var s=0;s<t;s++)this.map[o]&&!this.map[o][s]&&0<s&&(this.map[o][s]=new h(this.createCells("td",1)),(n=this.map[o][s-1])&&n.el&&n.el.parent&&f(this.map[o][s-1].el,this.map[o][s].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=d.getAttribute(e.el,"colspan")?parseInt(d.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var i=parseInt(d.getAttribute(e.el,"rowspan"),10);if(1<i)for(var o=1,s=i-1;o<=s;o++)this.injectRowAt(this.idx.row+o,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,n=this.idx_end.col-this.idx_start.col+1,i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var s=this.idx_start.col,r=this.idx_end.col;s<=r;s++)i==this.idx_start.row&&s==this.idx_start.col?(1<t&&this.map[i][s].el.setAttribute("rowspan",t),1<n&&this.map[i][s].el.setAttribute("colspan",n)):(/^\s*<br\/?>\s*$/.test(this.map[i][s].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[i][s].el.innerHTML),l(this.map[i][s].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),n=t.row+1,i={row:n,col:t.col};if(n<this.map.length){var o=this.getRealRowEl(!1,i);if(null!==o){var s=this.correctColIndexForUnreals(i.col,i.row);if(0<=s)f(this.getRowCells(o)[s],e.el);else{var r=this.getLastNewCellOnRow(o,n);null!==r?f(r,e.el):o.insertBefore(e.el,o.firstChild)}2<parseInt(d.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(d.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):l(e.el):2<parseInt(d.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(d.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],n=0,i=t.length;n<i;n++)t[n].isReal&&e.push(t[n].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,n=this.map.length;t<n;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=d.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],n=0,i=t.length;n<i;n++)t[n].modified||(this.setCellAsModified(t[n]),this.removeRowCell(t[n]));l(e)}},removeColCell:function(e){e.isColspan?2<parseInt(d.getAttribute(e.el,"colspan"),10)?e.el.setAttribute("colspan",parseInt(d.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&l(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;e<t;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&d.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(d.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var n=this.map[this.idx.row],i=t.createElement("tr"),o=0,s=n.length;o<s;o++)n[o].modified||(this.setCellAsModified(n[o]),this.addRowCell(n[o],i,e));switch(e){case"below":f(this.getRealRowEl(!0),i);break;case"above":var r=d.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});r&&r.parentNode.insertBefore(i,r)}}},addRowCell:function(e,t,n){var i=e.isColspan?{colspan:d.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(d.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(d.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&("below"!=e&&"above"!=e||this.addRow(e),"before"!=e&&"after"!=e||this.addColumn(e))},addColCell:function(e,t,n){var i,o=e.el.tagName.toLowerCase();switch(n){case"before":i=!e.isColspan||e.firstCol;break;case"after":i=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(i){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(o,1),e.el);break;case"after":f(e.el,this.createCells(o,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(d.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&d.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(d.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var i=0,o=this.map.length;i<o;i++)(t=this.map[i])[this.idx.col]&&((n=t[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,t,n){for(var i,o,s,r=parseInt(d.getAttribute(this.cell,"rowspan"),10)-1,a=d.getParentElement(e.el,{nodeName:["TR"]}),l=e.el.tagName.toLowerCase(),c=this.table.ownerDocument,u=0;u<r;u++)if(i=this.correctColIndexForUnreals(this.idx.col,t+u),a=p(a,"tr"))if(0<i)switch(n){case"before":o=this.getRowCells(a),0<i&&this.map[t+u][this.idx.col].el!=o[i]&&i==o.length-1?f(o[i],this.createCells(l,1)):o[i].parentNode.insertBefore(this.createCells(l,1),o[i]);break;case"after":f(this.getRowCells(a)[i],this.createCells(l,1))}else a.insertBefore(this.createCells(l,1),a.firstChild);else(s=c.createElement("tr")).appendChild(this.createCells(l,1)),this.table.appendChild(s)}},d.table={getCellsBetween:function(e,t){return new n(e).getMapElsTo(t)},addCells:function(e,t){new n(e).add(t)},removeCells:function(e,t){new n(e).remove(t)},mergeCellsBetween:function(e,t){new n(e).merge(t)},unmergeCell:function(e){new n(e).unmerge()},orderSelectionEnds:function(e,t){return new n(e).orderSelectionEnds(t)},indexOf:function(e){var t=new n(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new n(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new n(e).getRowElementsByCell()},findColumnByCell:function(e){return new n(e).getColumnElementsByCell()},canMerge:function(e,t){return new n(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,i=[];e.nodeType&&(e=[e]);for(var o=0,s=e.length;o<s;o++)if(n=e[o].querySelectorAll(t))for(var r=n.length;r--;i.unshift(n[r]));return i},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,i;if(n=9===e.nodeType?e:e.ownerDocument,i=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==i)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var o=e,s=[],r=null;o;){if(o==t)return 10;s.push(o),o=o.parentNode}for(o=t,r=null;o;){if(o==e)return 20;var a=wysihtml5.lang.array(s).indexOf(o);if(-1!==a){var l=s[a],c=wysihtml5.lang.array(l.childNodes).indexOf(s[a-1]);return wysihtml5.lang.array(l.childNodes).indexOf(r)<c?2:4}o=(r=o).parentNode}return 1},wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.dom.getPastedHtml=function(e){var t;return e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(e,t){var n=e.selection.getBookmark(),i=e.element.ownerDocument,o=i.createElement("DIV");i.body.appendChild(o),o.style.width="1px",o.style.height="1px",o.style.overflow="hidden",o.setAttribute("contenteditable","true"),o.focus(),setTimeout(function(){e.selection.setBookmark(n),t(o.innerHTML),o.parentNode.removeChild(o)},0)},wysihtml5.quirks.cleanPastedHTML=function(e,t){var n={color:wysihtml5.dom.getStyle("color").from(t.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(t.referenceNode)},i=function(e,t){var n,i,o,s,r=wysihtml5.lang.object(e).clone(!0);for(n in r.tags)if(r.tags.hasOwnProperty(n)&&r.tags[n].keep_styles)for(i in r.tags[n].keep_styles)r.tags[n].keep_styles.hasOwnProperty(i)&&t[i]&&(r.tags[n].keep_styles[i]=(o=t[i],s=wysihtml5.lang.string(o).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),new RegExp("^((?!^"+s+"$).)*$","i")));return r}(function(e,t){var n;if(!e)return null;for(var i=0,o=e.length;i<o;i++)if(e[i].condition||(n=e[i].set),e[i].condition&&e[i].condition.test(t))return e[i].set;return n}(t.rules,e)||{},n);return wysihtml5.dom.parse(e,{rules:i,cleanUp:!0,context:t.referenceNode.ownerDocument,uneditableClass:t.uneditableClass,clearInternals:!0,unjoinNbsps:!0})},wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(a){a.quirks.getCorrectInnerHTML=function(e){var t=e.innerHTML;if(-1===t.indexOf("%7E"))return t;var n,i,o,s,r=e.querySelectorAll("[href*='~'], [src*='~']");for(s=0,o=r.length;s<o;s++)n=r[s].href||r[s].src,i=a.lang.string(n).replace("~").by("%7E"),t=a.lang.string(t).replace(i).by(n);return t}}(wysihtml5),function(n){var i="wysihtml5-quirks-redraw";n.quirks.redraw=function(e){n.dom.addClass(e,i),n.dom.removeClass(e,i);try{var t=e.ownerDocument;t.execCommand("italic",!1,null),t.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(i,o){var s=wysihtml5.dom,r={table:null,start:null,end:null,cells:null,select:function(e,t){r.start=e,r.end=t,r.table=s.getParentElement(r.start,{nodeName:["TABLE"]}),selectedCells=s.table.getCellsBetween(r.start,r.end),d(selectedCells),n(),o.fire("tableselect").fire("tableselect:composer")}},a="wysiwyg-tmp-selected-cell",l=null,c=null;function u(){if(i){var e=i.querySelectorAll("."+a);if(0<e.length)for(var t=0;t<e.length;t++)s.removeClass(e[t],a)}}function d(e){for(var t=0;t<e.length;t++)s.addClass(e[t],a)}function h(e){var t,n=null,i=s.getParentElement(e.target,{nodeName:["TD","TH"]});i&&r.table&&r.start&&(n=s.getParentElement(i,{nodeName:["TABLE"]}))&&n===r.table&&(u(),t=r.end,r.end=i,r.cells=s.table.getCellsBetween(r.start,i),1<r.cells.length&&o.composer.selection.deselect(),d(r.cells),r.end!==t&&o.fire("tableselectchange").fire("tableselectchange:composer"))}function f(e){l.stop(),c.stop(),o.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){n()},0)}function n(){var t=s.observe(i.ownerDocument,"click",function(e){t.stop(),s.getParentElement(e.target,{nodeName:["TABLE"]})!=r.table&&(u(),r.table=null,r.start=null,r.end=null,o.fire("tableunselect").fire("tableunselect:composer"))})}return s.observe(i,"mousedown",function(e){var t,n=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});n&&(t=n,r.start=t,r.end=t,r.cells=[t],r.table=s.getParentElement(r.start,{nodeName:["TABLE"]}),r.table&&(u(),s.addClass(t,a),l=s.observe(i,"mousemove",h),c=s.observe(i,"mouseup",f),o.fire("tableselectstart").fire("tableselectstart:composer")))}),r},function(l){var c=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,u=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,d=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,h=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,f=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};l.quirks.styleParser={parseColor:function(e,t){var n,i,o=f(t),s=e.match(o),r=10;if(s){for(var a=s.length;a--;)s[a]=l.lang.string(s[a].split(":")[1]).trim();if(n=s[s.length-1],c.test(n))i=n.match(c);else if(u.test(n))i=n.match(u);else if(d.test(n))i=n.match(d),r=16;else if(h.test(n))return(i=n.match(h)).shift(),i.push(1),l.lang.array(i).map(function(e,t){return t<3?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(i)return i.shift(),i[3]||i.push(1),l.lang.array(i).map(function(e,t){return t<3?parseInt(e,r):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(e){var t=e.match(f("font-size"));return!!t&&l.lang.string(t[t.length-1].split(":")[1]).trim()}}}(wysihtml5),function(v){var y=v.dom;function o(e,t){for(var n=0;t!==e;)if(n++,!(t=t.parentNode))throw new Error("not a descendant of ancestor!");return n}function t(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,n=o(t,e.startContainer),i=o(t,e.endContainer);!e.canSurroundContents();)i<n?(e.setStartBefore(e.startContainer),n=o(t,e.startContainer)):(e.setEndAfter(e.endContainer),i=o(t,e.endContainer))}v.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&t(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(e,t){var n=rangy.createRange(this.doc),i=e.nodeType===v.ELEMENT_NODE,o="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,s=i?e.innerHTML:e.data,r=""===s||s===v.INVISIBLE_SPACE,a=y.getStyle("display").from(e),l="block"===a||"list-item"===a;if(r&&i&&o&&!t)try{e.innerHTML=v.INVISIBLE_SPACE}catch(e){}o?n.selectNodeContents(e):n.selectNode(e),o&&r&&i?n.collapse(l):o&&r&&(n.setStartAfter(e),n.setEndAfter(e)),this.setSelection(n)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var e=this.getRange();t(e),this.setSelection(e)},getSelectedOwnNodes:function(e){for(var t=this.getOwnRanges(),n=[],i=0,o=t.length;i<o;i++)n.push(t[i].commonAncestorContainer||this.doc.body);return n},findNodesInSelection:function(t){for(var e,n=this.getOwnRanges(),i=[],o=0,s=n.length;o<s;o++)e=n[o].getNodes([1],function(e){return v.lang.array(t).contains(e.nodeName)}),i=i.concat(e);return i},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),n=0,i=e.length;n<i;n++)if(t.containsNode(e[n]))return!0;return!1},deleteContents:function(){for(var e=this.getOwnRanges(),t=e.length;t--;)e[t].deleteContents();this.setSelection(e[0])},getPreviousNode:function(e,t){if(e||(e=this.getSelection().anchorNode),e===this.contain)return!1;var n,i=e.previousSibling;return i!==this.contain&&(i&&3!==i.nodeType&&1!==i.nodeType?i=this.getPreviousNode(i,t):i&&3===i.nodeType&&/^\s*$/.test(i.textContent)?i=this.getPreviousNode(i,t):t&&i&&1===i.nodeType&&!v.lang.array(["BR","HR","IMG"]).contains(i.nodeName)&&/^[\s]*$/.test(i.innerHTML)?i=this.getPreviousNode(i,t):i||e===this.contain||(n=e.parentNode)!==this.contain&&(i=this.getPreviousNode(n,t)),i!==this.contain&&i)},getSelectionParentsByTag:function(e){for(var t,n=this.getSelectedOwnNodes(),i=[],o=0,s=n.length;o<s;o++)(t=n[o].nodeName&&"LI"===n[o].nodeName?n[o]:v.dom.getParentElement(n[o],{nodeName:["LI"]},!1,this.contain))&&i.push(t);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(t),i.setStart(t,n),i}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var e=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),t=this.getSelection(),n=this.getRange(),i=n.startContainer;return i.nodeType===v.TEXT_NODE?this.isCollapsed()&&i.nodeType===v.TEXT_NODE&&/^\s*$/.test(i.data.substr(0,n.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===t.anchorNode||e.endContainer===t.anchorNode)&&e.startOffset===t.anchorOffset)},caretIsInTheBeginnig:function(e){var t=this.getSelection(),n=t.anchorNode,i=t.anchorOffset;return e?0===i&&(n.nodeName&&n.nodeName===e.toUpperCase()||v.dom.getParentElement(n.parentNode,{nodeName:e},1)):0===i&&!this.getPreviousNode(n,!0)},caretIsBeforeUneditable:function(){var e=this.getSelection(),t=e.anchorNode;if(0===e.anchorOffset){var n=this.getPreviousNode(t,!0);if(n)for(var i=this.getOwnUneditables(),o=0,s=i.length;o<s;o++)if(n===i[o])return i[o]}return!1},executeAndRestoreRangy:function(e,t){var n=this.doc.defaultView||this.doc.parentWindow,i=rangy.saveSelection(n);if(i)try{e()}catch(e){setTimeout(function(){throw e},0)}else e();rangy.restoreSelection(i)},executeAndRestore:function(e,t){var n,i,o,s,r,a,l,c,u=this.doc.body,d=t&&u.scrollTop,h=t&&u.scrollLeft,f="_wysihtml5-temp-placeholder",p='<span class="'+f+'">'+v.INVISIBLE_SPACE+"</span>",m=this.getRange(!0);if(m){m.collapsed||(a=(l=m.cloneRange()).createContextualFragment(p),l.collapse(!1),l.insertNode(a),l.detach()),r=m.createContextualFragment(p),m.insertNode(r),a&&(n=this.contain.querySelectorAll("."+f),m.setStartBefore(n[0]),m.setEndAfter(n[n.length-1])),this.setSelection(m);try{e(m.startContainer,m.endContainer)}catch(e){setTimeout(function(){throw e},0)}if((n=this.contain.querySelectorAll("."+f))&&n.length){c=rangy.createRange(this.doc),o=n[0].nextSibling,1<n.length&&(s=n[n.length-1].previousSibling),s&&o?(c.setStartBefore(o),c.setEndAfter(s)):(i=this.doc.createTextNode(v.INVISIBLE_SPACE),y.insert(i).after(n[0]),c.setStartBefore(i),c.setEndAfter(i)),this.setSelection(c);for(var g=n.length;g--;)n[g].parentNode.removeChild(n[g])}else this.contain.focus();t&&(u.scrollTop=d,u.scrollLeft=h);try{n.parentNode.removeChild(n)}catch(e){}}else e(u,u)},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){rangy.createRange(this.doc);var t,n=this.doc.createElement("DIV"),i=this.doc.createDocumentFragment();for(n.innerHTML=e,t=n.lastChild;n.firstChild;)i.appendChild(n.firstChild);this.insertNode(i),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n=this.getOwnRanges(),i=[];if(0==n.length)return i;for(var o=n.length;o--;){t=this.doc.createElement(e.nodeName),i.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{n[o].surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(n[o].extractContents()),n[o].insertNode(t)}}return i},deblockAndSurround:function(e){var t,n,i,o=this.doc.createElement("div"),s=rangy.createRange(this.doc);if(o.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),(t=this.contain.querySelectorAll("."+e.className))[0])for(t[0].parentNode.insertBefore(o,t[0]),s.setStartBefore(t[0]),s.setEndAfter(t[t.length-1]),n=s.extractContents();n.firstChild;)if(1==(i=n.firstChild).nodeType&&v.dom.hasClass(i,e.className)){for(;i.firstChild;)o.appendChild(i.firstChild);"BR"!==i.nodeName&&o.appendChild(this.doc.createElement("br")),n.removeChild(i)}else o.appendChild(i);else o=null;return o},scrollIntoView:function(){var e,t,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight,o=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||((t=n.createElement("span")).innerHTML=v.INVISIBLE_SPACE,t);i&&(this.insertNode(o),e=function(e){var t=0;if(e.parentNode)for(;t+=e.offsetTop||0,e=e.offsetParent;);return t}(o),o.parentNode.removeChild(o),e>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=e))},selectLine:function(){v.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,o,s=this.doc.selection.createRange(),r=s.boundingTop,a=this.doc.body.scrollWidth;if(s.moveToPoint){for(0===r&&(n=this.doc.createElement("span"),this.insertNode(n),r=n.offsetTop,n.parentNode.removeChild(n)),r+=1,i=-10;i<a;i+=2)try{s.moveToPoint(i,r);break}catch(e){}for(e=r,t=this.doc.selection.createRange(),o=a;0<=o;o--)try{t.moveToPoint(o,e);break}catch(e){}s.setEndPoint("EndToEnd",t),s.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var n=e.endContainer.previousElementSibling;n&&e.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=y.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var e=y.query(this.contain,"."+this.unselectableClass),t=y.query(e,"."+this.unselectableClass);return v.lang.array(e).without(t)},getOwnRanges:function(){var e,t=[],n=this.getRange();if(n&&t.push(n),this.unselectableClass&&this.contain&&n){var i,o=this.getOwnUneditables();if(0<o.length)for(var s=0,r=o.length;s<r;s++){e=[];for(var a=0,l=t.length;a<l;a++){if(t[a])switch(t[a].compareNode(o[s])){case 2:break;case 3:(i=t[a].cloneRange()).setEndBefore(o[s]),e.push(i),(i=t[a].cloneRange()).setStartAfter(o[s]),e.push(i);break;default:e.push(t[a])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(t).setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},isEndToEndInNode:function(e){var t=this.getRange(),n=t.commonAncestorContainer,i=t.startContainer,o=t.endContainer;if(n.nodeType===v.TEXT_NODE&&(n=n.parentNode),i.nodeType===v.TEXT_NODE&&!/^\s*$/.test(i.data.substr(t.startOffset)))return!1;if(o.nodeType===v.TEXT_NODE&&!/^\s*$/.test(o.data.substr(t.endOffset)))return!1;for(;i&&i!==n;){if(i.nodeType!==v.TEXT_NODE&&!v.dom.contains(n,i))return!1;if(v.dom.domNode(i).prev({ignoreBlankTexts:!0}))return!1;i=i.parentNode}for(;o&&o!==n;){if(o.nodeType!==v.TEXT_NODE&&!v.dom.contains(n,o))return!1;if(v.dom.domNode(o).next({ignoreBlankTexts:!0}))return!1;o=o.parentNode}return!!v.lang.array(e).contains(n.nodeName)&&n},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(c,u){var i=/\s+/g;function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function h(e,t,n){e.getAttribute("style")?(p(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function f(e,t){e.className&&(e.className=e.className.replace(t,""))}function p(e,t){var n,i=[];if(e.getAttribute("style")){for(var o=(n=e.getAttribute("style").split(";")).length;o--;)n[o].match(t)||/^\s*$/.test(n[o])||i.push(n[o]);i.length?e.setAttribute("style",i.join(";")):e.removeAttribute("style")}}function m(e,t){var n=[],i=t.split(";"),o=e.getAttribute("style");if(o){o=o.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=i.length;0<s--;)/^\s*$/.test(i[s])||n.push(new RegExp("(^|\\s|;)"+i[s].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var r=0,a=n.length;r<a;r++)if(o.match(n[r]))return n[r]}return!1}function o(e,t,n,i){for(var o=e.length;o--;)if(s=e[o],r=t,l=i,!((a=n)?m(s,a):l?c.dom.hasClass(s,l):u.dom.arrayContains(r,s.tagName.toLowerCase())))return!1;var s,r,a,l;return!!e.length}function g(e,t){return u.dom.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:0<t&&t<e.childNodes.length}function v(e,t,n,i){var o;if(u.dom.isCharacterDataNode(t)&&(0==n?(n=u.dom.getNodeIndex(t),t=t.parentNode):n==t.length?(n=u.dom.getNodeIndex(t)+1,t=t.parentNode):o=u.dom.splitDataNode(t,n)),!(o||i&&t===i)){var s;for((o=t.cloneNode(!1)).id&&o.removeAttribute("id");s=t.childNodes[n];)o.appendChild(s);u.dom.insertAfter(o,t)}return t==e?o:v(e,o.parentNode,u.dom.getNodeIndex(o),i)}function y(e){this.isElementMerge=e.nodeType==c.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function e(e,t,n,i,o,s,r){this.tagNames=e||["span"],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=n,this.cssStyle=o||"",this.similarStyleRegExp=s,this.normalize=i,this.applyToAnyTagName=!1,this.container=r}y.prototype={doMerge:function(){for(var e,t,n,i=[],o=0,s=this.textNodes.length;o<s;++o)t=(e=this.textNodes[o]).parentNode,i[o]=e.data,o&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;t<n;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},e.prototype={getAncestorWithClass:function(e){for(var t;e;){if(t=this.cssClass?n(e,this.cssClass,this.similarClassRegExp):""===this.cssStyle,e.nodeType==c.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},getAncestorWithStyle:function(e){for(var t;e;){if(t=!!(this.cssStyle&&(n=e,i=this.similarStyleRegExp,n.getAttribute&&n.getAttribute("style")&&(n.getAttribute("style").match(i),n.getAttribute("style").match(i)))),e.nodeType==c.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}var n,i;return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e))&&(n="style"),{element:t,type:n}},postApply:function(e,t){for(var n,i,o,s=e[0],r=e[e.length-1],a=[],l=s,c=r,u=0,d=r.length,h=0,f=e.length;h<f;++h)o=null,(i=e[h])&&i.parentNode&&(o=this.getAdjacentMergeableTextNode(i.parentNode,!1)),o?(n||(n=new y(o),a.push(n)),n.textNodes.push(i),i===s&&(u=(l=n.firstTextNode).length),i===r&&(c=n.firstTextNode,d=n.getLength())):n=null;if(r&&r.parentNode){var p=this.getAdjacentMergeableTextNode(r.parentNode,!0);p&&(n||(n=new y(r),a.push(n)),n.textNodes.push(p))}if(a.length){for(h=0,f=a.length;h<f;++h)a[h].doMerge();t.setStart(l,u),t.setEnd(c,d)}},getAdjacentMergeableTextNode:function(e,t){var n,i=e.nodeType==c.TEXT_NODE,o=i?e.parentNode:e,s=t?"nextSibling":"previousSibling";if(i){if((n=e[s])&&n.nodeType==c.TEXT_NODE)return n}else if((n=o[s])&&this.areElementsMergeable(e,n))return n[t?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,t){return u.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&u.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&(n=t,e.className.replace(i," ")==n.className.replace(i," "))&&function(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,o,s=0,r=e.attributes.length;s<r;++s)if("class"!=(o=(n=e.attributes[s]).name)){if(i=t.attributes.getNamedItem(o),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}(e,t);var n},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var t,n,i,o=e.parentNode;if(1==o.childNodes.length&&u.dom.arrayContains(this.tagNames,o.tagName.toLowerCase()))this.cssClass&&(t=o,n=this.cssClass,i=this.similarClassRegExp,t.className?(f(t,i),t.className+=" "+n):t.className=n),this.cssStyle&&h(o,this.cssStyle,this.similarStyleRegExp);else{var s=this.createContainer(u.dom.getDocument(e));e.parentNode.insertBefore(s,e),s.appendChild(e)}},isRemovable:function(e){return u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&""===c.lang.string(e.className).trim()&&(!e.getAttribute("style")||""===c.lang.string(e.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,i){var o,s,r,a,l=!n,c=n||i,u=!1;if(!t.containsNode(c)){var d=t.cloneRange();d.selectNode(c),d.isPointInRange(t.endContainer,t.endOffset)&&g(t.endContainer,t.endOffset)&&(v(c,t.endContainer,t.endOffset,this.container),t.setEndAfter(c)),d.isPointInRange(t.startContainer,t.startOffset)&&g(t.startContainer,t.startOffset)&&(c=v(c,t.startContainer,t.startOffset,this.container))}!l&&this.similarClassRegExp&&f(c,this.similarClassRegExp),l&&this.similarStyleRegExp&&(u="change"==(o=c,s=this.cssStyle,r=this.similarStyleRegExp,(a=m(o,s))?(p(o,a),"remove"):(h(o,s,r),"change"))),this.isRemovable(c)&&!u&&function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(c)},applyToRange:function(e){for(var t,n=e.length;n--;){if(!e[n].getNodes([c.TEXT_NODE]).length)try{var i=this.createContainer(e[n].endContainer.ownerDocument);return e[n].surroundContents(i),void this.selectNode(e[n],i)}catch(e){}if(e[n].splitBoundaries(),(t=e[n].getNodes([c.TEXT_NODE])).length){for(var o,s=0,r=t.length;s<r;++s)o=t[s],this.getMatchingAncestor(o).element||this.applyToTextNode(o);e[n].setStart(t[0],0),o=t[t.length-1],e[n].setEnd(o,o.length),this.normalize&&this.postApply(t,e[n])}}},undoToRange:function(e){for(var t,n,i,o=e.length;o--;){if((t=e[o].getNodes([c.TEXT_NODE])).length)e[o].splitBoundaries(),t=e[o].getNodes([c.TEXT_NODE]);else{var s=e[o].endContainer.ownerDocument.createTextNode(c.INVISIBLE_SPACE);e[o].insertNode(s),e[o].selectNode(s),t=[s]}for(var r=0,a=t.length;r<a;++r)e[o].isValid()&&(n=t[r],"style"===(i=this.getMatchingAncestor(n)).type?this.undoToTextNode(n,e[o],!1,i.element):i.element&&this.undoToTextNode(n,e[o],i.element));1==a?this.selectNode(e[o],t[0]):(e[o].setStart(t[0],0),n=t[t.length-1],e[o].setEnd(n,n.length),this.normalize&&this.postApply(t,e[o]))}},selectNode:function(e,t){var n=t.nodeType===c.ELEMENT_NODE,i=!("canHaveHTML"in t)||t.canHaveHTML,o=n?t.innerHTML:t.data,s=""===o||o===c.INVISIBLE_SPACE;if(s&&n&&i)try{t.innerHTML=c.INVISIBLE_SPACE}catch(e){}e.selectNodeContents(t),s&&n?e.collapse(!1):s&&(e.setStartAfter(t),e.setEndAfter(t))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var i=n.intersection(t),o=i?i.toString():"";return n.detach(),o},isAppliedToRange:function(e){for(var t,n,i=[],o="full",s=e.length;s--;){if(!(n=e[s].getNodes([c.TEXT_NODE])).length)return!!(t=this.getMatchingAncestor(e[s].startContainer).element)&&{elements:[t],coverage:o};for(var r,a=0,l=n.length;a<l;++a)r=this.getTextSelectedByRange(n[a],e[s]),(t=this.getMatchingAncestor(n[a]).element)&&""!=r?(i.push(t),1===c.dom.getTextNodes(t,!0).length?o="full":"full"===o&&(o="inline")):t||(o="partial")}return!!i.length&&{elements:i,coverage:o}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=o(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(o(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},c.selection.HTMLApplier=e}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),o=n&&n.exec,s=null;if(this.editor.fire("beforecommand:composer"),o)i.unshift(this.composer),s=o.apply(n,i);else try{s=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),s},state:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),o=n&&n.state;if(o)return i.unshift(this.composer),o.apply(n,i);try{return this.doc.queryCommandState(e)}catch(e){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.stateValue;return!!i&&(n.unshift(this.composer),i.apply(t,n))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(p){var m=p.dom;p.commands.createLink={exec:function(e,t,n){var i=this.state(e,t);i?e.selection.executeAndRestore(function(){!function(e,t,n){for(var i,o=t.length;o--;){for(var s=(i=t[o].attributes).length;s--;)t[o].removeAttribute(i.item(s).name);for(var r in n)n.hasOwnProperty(r)&&t[o].setAttribute(r,n[r])}}(0,i,n)}):function(e,t){var n,i,o,s,r,a,l,c,u,d=e.doc,h="_wysihtml5-temp-"+ +new Date,f=0;for(p.commands.formatInline.exec(e,void 0,"A",h,/non-matching-class/g,void 0,void 0,!0,!0),n=(i=d.querySelectorAll("A."+h)).length;f<n;f++)for(u in(o=i[f]).removeAttribute("class"),t)"text"!==u&&o.setAttribute(u,t[u]);a=o,1===n&&(l=m.getTextContent(o),s=!!o.querySelector("*"),r=""===l||l===p.INVISIBLE_SPACE,!s&&r&&(m.setTextContent(o,t.text||o.href),c=d.createTextNode(" "),e.selection.setAfter(o),m.insert(c).after(o),a=c)),e.selection.setAfter(a)}(e,n="object"==typeof n?n:{href:n})},state:function(e,t){return p.commands.formatInline.state(e,t,"A")}}}(wysihtml5),function(n){var r=n.dom;n.commands.removeLink={exec:function(e,t){var n=this.state(e,t);n&&e.selection.executeAndRestore(function(){!function(e,t){for(var n,i,o=t.length,s=0;s<o;s++)n=t[s],i=r.getParentElement(n,{nodeName:"code"}),r.getTextContent(n).match(r.autoLink.URL_REG_EXP)&&!i?i=r.renameElement(n,"code"):r.replaceWithChildNodes(n)}(0,n)})},state:function(e,t){return n.commands.formatInline.state(e,t,"A")}}}(wysihtml5),function(i){var o=/wysiwyg-font-size-[0-9a-z\-]+/g;i.commands.fontSize={exec:function(e,t,n){i.commands.formatInline.execWithToggle(e,t,"span","wysiwyg-font-size-"+n,o)},state:function(e,t,n){return i.commands.formatInline.state(e,t,"span","wysiwyg-font-size-"+n,o)}}}(wysihtml5),function(o){var i=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;o.commands.fontSizeStyle={exec:function(e,t,n){n="object"==typeof n?n.size:n,/^\s*$/.test(n)||o.commands.formatInline.execWithToggle(e,t,"span",!1,!1,"font-size:"+n,i)},state:function(e,t,n){return o.commands.formatInline.state(e,t,"span",!1,!1,"font-size",i)},stateValue:function(e,t){var n,i=this.state(e,t);return i&&o.lang.object(i).isArray()&&(i=i[0]),!(!i||!(n=i.getAttribute("style")))&&o.quirks.styleParser.parseFontSize(n)}}}(wysihtml5),function(i){var o=/wysiwyg-color-[0-9a-z]+/g;i.commands.foreColor={exec:function(e,t,n){i.commands.formatInline.execWithToggle(e,t,"span","wysiwyg-color-"+n,o)},state:function(e,t,n){return i.commands.formatInline.state(e,t,"span","wysiwyg-color-"+n,o)}}}(wysihtml5),function(s){var r=/(\s|^)color\s*:\s*[^;\s]+;?/gi;s.commands.foreColorStyle={exec:function(e,t,n){var i,o=s.quirks.styleParser.parseColor("object"==typeof n?"color:"+n.color:"color:"+n,"color");o&&(i="color: rgb("+o[0]+","+o[1]+","+o[2]+");",1!==o[3]&&(i+="color: rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+");"),s.commands.formatInline.execWithToggle(e,t,"span",!1,!1,i,r))},state:function(e,t){return s.commands.formatInline.state(e,t,"span",!1,!1,"color",r)},stateValue:function(e,t,n){var i,o=this.state(e,t);return o&&s.lang.object(o).isArray()&&(o=o[0]),!!(o&&(i=o.getAttribute("style"))&&i)&&(val=s.quirks.styleParser.parseColor(i,"color"),s.quirks.styleParser.unparseColor(val,n))}}}(wysihtml5),function(r){var s=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;r.commands.bgColorStyle={exec:function(e,t,n){var i,o=r.quirks.styleParser.parseColor("object"==typeof n?"background-color:"+n.color:"background-color:"+n,"background-color");o&&(i="background-color: rgb("+o[0]+","+o[1]+","+o[2]+");",1!==o[3]&&(i+="background-color: rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+");"),r.commands.formatInline.execWithToggle(e,t,"span",!1,!1,i,s))},state:function(e,t){return r.commands.formatInline.state(e,t,"span",!1,!1,"background-color",s)},stateValue:function(e,t,n){var i,o=this.state(e,t),s=!1;return o&&r.lang.object(o).isArray()&&(o=o[0]),!(!o||!(i=o.getAttribute("style")))&&(s=r.quirks.styleParser.parseColor(i,"background-color"),r.quirks.styleParser.unparseColor(s,n))}}}(wysihtml5),function(b){var w=b.dom,C=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];function x(e,t){var n=t.test(e.className);return e.className=e.className.replace(t,""),""==b.lang.string(e.className).trim()&&e.removeAttribute("class"),n}function _(e,t){var n=t.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(t,"")),""==b.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),n}b.commands.formatBlock={exec:function(r,e,a,l,c,u,d){r.doc;var h,s,f,p,m,g=this.state(r,e,a,l,c,u,d),v=r.config.useLineBreaks,y=v?"DIV":"P";a="string"==typeof a?a.toUpperCase():a,g.length?r.selection.executeAndRestoreRangy(function(){for(var e=g.length;e--;){if(c&&(s=x(g[e],c)),d&&(p=_(g[e],d)),(p||s)&&null===a&&g[e].nodeName!=y)return;var t=(o=g[e],!!b.lang.string(o.className).trim()),n=(i=g[e],!!b.lang.string(i.getAttribute("style")||"").trim());t||n||!v&&"P"!==a?w.renameElement(g[e],"P"===a?"DIV":y):(b.dom.lineBreaks(g[e]).add(),w.replaceWithChildNodes(g[e]))}var i,o}):(null===a||b.lang.array(C).contains(a))&&(h=r.selection.findNodesInSelection(C).concat(r.selection.getSelectedOwnNodes()),r.selection.executeAndRestoreRangy(function(){for(var e=h.length;e--;)(m=w.getParentElement(h[e],{nodeName:C}))==r.element&&(m=null),m&&(a&&(m=w.renameElement(m,a)),l&&(o=l,s=c,(i=m).className?(x(i,s),i.className=b.lang.string(i.className+" "+o).trim()):i.className=o),u&&(n=u,_(t=m,d),t.getAttribute("style")?t.setAttribute("style",b.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)),f=!0);var t,n,i,o,s}),f)||function(e,t){e.selection.isCollapsed()&&e.selection.selectLine();for(var n,i=e.selection.surround(t),o=0,s=i.length;o<s;o++)b.dom.lineBreaks(i[o]).remove(),n=void 0,(n=i[o].lastChild)&&"BR"===n.nodeName&&n.parentNode.removeChild(n)}(r,{nodeName:a||y,className:l||null,cssStyle:u||null})},state:function(e,t,n,i,o,s,r){var a,l=e.selection.getSelectedOwnNodes(),c=[];n="string"==typeof n?n.toUpperCase():n;for(var u=0,d=l.length;u<d;u++)(a=w.getParentElement(l[u],{nodeName:n,className:i,classRegExp:o,cssStyle:s,styleRegExp:r}))&&-1==b.lang.array(c).indexOf(a)&&c.push(a);return 0!=c.length&&c}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var i,o,s,r=this.state(e);r?e.selection.executeAndRestore(function(){i=r.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(r),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(s=(o=e.selection.getRange()).extractContents(),r=e.doc.createElement("pre"),i=e.doc.createElement("code"),n&&(i.className=n),r.appendChild(i),i.appendChild(s),o.insertNode(r),e.selection.selectNode(r))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(d){var h={strong:"b",em:"i",b:"strong",i:"em"},c={};function f(e,t,n,i,o,s){var r,a,l=e;return t&&(l+=":"+t),i&&(l+=":"+i),c[l]||(c[l]=new d.selection.HTMLApplier((a=h[r=e])?[r.toLowerCase(),a.toLowerCase()]:[r.toLowerCase()],t,n,!0,i,o,s)),c[l]}d.commands.formatInline={exec:function(e,t,n,i,o,s,r,a,l){var c=e.selection.createRange(),u=e.selection.getOwnRanges();if(!u||0==u.length)return!1;e.selection.getSelection().removeAllRanges(),f(n,i,o,s,r,e.element).toggleRange(u),a?l||e.cleanUp():(c.setStart(u[0].startContainer,u[0].startOffset),c.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),e.selection.setSelection(c),e.selection.executeAndRestore(function(){l||e.cleanUp()},!0,!0))},execWithToggle:function(e,t,n,i,o,s,r){if(this.state(e,t,n,i,o,s,r)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()){var a=this.state(e,t,n,i,o)[0];e.selection.executeAndRestoreRangy(function(){a.parentNode,e.selection.selectNode(a,!0),d.commands.formatInline.exec(e,t,n,i,o,s,r,!0,!0)})}else this.state(e,t,n,i,o,s,r)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){d.commands.formatInline.exec(e,t,n,i,o,s,r,!0,!0)}):d.commands.formatInline.exec(e,t,n,i,o,s,r)},state:function(e,t,n,i,o,s,r){var a,l,c=e.doc,u=h[n]||n;return!(!d.dom.hasElementWithTagName(c,n)&&!d.dom.hasElementWithTagName(c,u))&&!(i&&!d.dom.hasElementWithClassName(c,i))&&!(!(a=e.selection.getOwnRanges())||0===a.length)&&!(!(l=f(n,i,o,s,r,e.element).isAppliedToRange(a))||!l.elements)&&l.elements}}}(wysihtml5),function(o){o.commands.insertBlockQuote={exec:function(t,e){var n=this.state(t,e),i=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(n)t.config.useLineBreaks&&o.dom.lineBreaks(n).add(),o.dom.unwrap(n);else if(t.selection.isCollapsed()&&t.selection.selectLine(),i){var e=i.ownerDocument.createElement("blockquote");o.dom.insert(e).after(i),e.appendChild(i)}else t.selection.surround({nodeName:"blockquote"})})},state:function(e,t){var n=e.selection.getSelectedNode();return o.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,e.element)||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(l){l.commands.insertImage={exec:function(e,t,n){n="object"==typeof n?n:{src:n};var i,o,s=e.doc,r=this.state(e);if(r)return e.selection.setBefore(r),(o=r.parentNode).removeChild(r),l.dom.removeEmptyTextNodes(o),"A"!==o.nodeName||o.firstChild||(e.selection.setAfter(o),o.parentNode.removeChild(o)),void l.quirks.redraw(e.element);for(var a in r=s.createElement("IMG"),n)r.setAttribute("className"===a?"class":a,n[a]);e.selection.insertNode(r),l.browser.hasProblemsSettingCaretAfterImg()?(i=s.createTextNode(l.INVISIBLE_SPACE),e.selection.insertNode(i),e.selection.setAfter(i)):e.selection.setAfter(r)},state:function(e){var t,n,i,o=e.doc;return!!l.dom.hasElementWithTagName(o,"IMG")&&!!(t=e.selection.getSelectedNode())&&("IMG"===t.nodeName?t:t.nodeType===l.ELEMENT_NODE&&(n=e.selection.getText(),!(n=l.lang.string(n).trim())&&1===(i=e.selection.getNodes(l.ELEMENT_NODE,function(e){return"IMG"===e.nodeName})).length&&i[0]))}}}(wysihtml5),function(n){var i="<br>"+(n.browser.needsSpaceAfterLineBreak()?" ":"");n.commands.insertLineBreak={exec:function(e,t){e.commands.support(t)?(e.doc.execCommand(t,!1,null),n.browser.autoScrollsToCaret()||e.selection.scrollIntoView()):e.commands.exec("insertHTML",i)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(y){var r=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},b=function(e,t,n){var i={el:null,other:!1};if(e){var o=y.dom.getParentElement(e,{nodeName:"LI"}),s="UL"===t?"OL":"UL";r(e,t)?i.el=e:r(e,s)?i={el:e,other:!0}:o&&(r(o.parentNode,t)?i.el=o.parentNode:r(o.parentNode,s)&&(i={el:o.parentNode,other:!0}))}return i.el&&!n.element.contains(i.el)&&(i.el=null),i},w=function(t,e){for(var n=e.selection.getOwnRanges(),i=[],o=n.length;o--;)i=i.concat(n[o].getNodes([1],function(e){return r(e,t)}));return i};return{exec:function(e,t,n){var i,o,s,r,a,l,c,u,d,h,f,p=e.doc,m="OL"===n?"insertOrderedList":"insertUnorderedList",g=e.selection.getSelectedNode(),v=b(g,n,e);v.el?v.other?(l=v.el,d="UL"===(c=n)?"OL":"UL",(u=e).selection.executeAndRestore(function(){for(var e=[l].concat(w(d,u)),t=e.length;t--;)y.dom.renameElement(e[t],c.toLowerCase())})):(i=v.el,a="UL"===(o=n)?"OL":"UL",(s=e).selection.executeAndRestore(function(){var e=w(a,s);if(e.length)for(var t=e.length;t--;)y.dom.renameElement(e[t],o.toLowerCase());else{for(var n=(r=w(["OL","UL"],s)).length;n--;)y.dom.resolveList(r[n],s.config.useLineBreaks);y.dom.resolveList(i,s.config.useLineBreaks)}})):e.commands.support(m)?p.execCommand(m,!1,null):(h=n,(f=e).selection.executeAndRestoreRangy(function(){var e,t,n="_wysihtml5-temp-"+(new Date).getTime(),i=f.selection.deblockAndSurround({nodeName:"div",className:n});i.innerHTML=i.innerHTML.replace(/\uFEFF/g,""),i&&(e=y.lang.array(["","<br>",y.INVISIBLE_SPACE]).contains(i.innerHTML),t=y.dom.convertToList(i,h.toLowerCase(),f.parent.config.uneditableContainerClassname),e&&f.selection.selectNode(t.querySelector("li"),!0))}))},state:function(e,t,n){var i=e.selection.getSelectedNode(),o=b(i,n,e);return!(!o.el||o.other)&&o.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(n){var i="wysiwyg-text-align-center",o=/wysiwyg-text-align-[0-9a-z]+/g;n.commands.justifyCenter={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,i,o)}}}(wysihtml5),function(n){var i="wysiwyg-text-align-left",o=/wysiwyg-text-align-[0-9a-z]+/g;n.commands.justifyLeft={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,i,o)}}}(wysihtml5),function(n){var i="wysiwyg-text-align-right",o=/wysiwyg-text-align-[0-9a-z]+/g;n.commands.justifyRight={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,i,o)}}}(wysihtml5),function(n){var i="wysiwyg-text-align-justify",o=/wysiwyg-text-align-[0-9a-z]+/g;n.commands.justifyFull={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,i,o)}}}(wysihtml5),function(n){var i="text-align: right;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;n.commands.alignRightStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,null,null,i,o)}}}(wysihtml5),function(n){var i="text-align: left;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;n.commands.alignLeftStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,null,null,i,o)}}}(wysihtml5),function(n){var i="text-align: center;",o=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;n.commands.alignCenterStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,o)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",null,null,null,i,o)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(e){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(e){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var i,o,s;if(n&&n.cols&&n.rows&&0<parseInt(n.cols,10)&&0<parseInt(n.rows,10)){for(s=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",s+="<tbody>",o=0;o<n.rows;o++){for(s+="<tr>",i=0;i<n.cols;i++)s+="<td>&nbsp;</td>";s+="</tr>"}s+="</tbody></table>",e.commands.exec("insertHTML",s)}},state:function(e,t){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e,t){if(e.tableSelection){var n=e.tableSelection.start,i=e.tableSelection.end;if(n&&i&&n==i&&(wysihtml5.dom.getAttribute(n,"colspan")&&1<parseInt(wysihtml5.dom.getAttribute(n,"colspan"),10)||wysihtml5.dom.getAttribute(n,"rowspan")&&1<parseInt(wysihtml5.dom.getAttribute(n,"rowspan"),10)))return[n]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):"after"!=n&&"below"!=n||wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){e.tableSelection.select(i.start,i.end)},0)}},state:function(e,t){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i,o=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),s=wysihtml5.dom.table.indexOf(o.start),r=e.tableSelection.table;wysihtml5.dom.table.removeCells(o.start,n),setTimeout(function(){(i=wysihtml5.dom.table.findCell(r,s))||("row"==n&&(i=wysihtml5.dom.table.findCell(r,{row:s.row-1,col:s.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(r,{row:s.row,col:s.col-1}))),i&&e.tableSelection.select(i,i)},0)}},state:function(e,t){return!1}},wysihtml5.commands.indentList={exec:function(e,t,n){var i=e.selection.getSelectionParentsByTag("LI");return!!i&&this.tryToPushLiLevel(i,e.selection)},state:function(e,t){return!1},tryToPushLiLevel:function(t,e){var n,i,o,s,r,a=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)s=t[e],n="OL"===s.parentNode.nodeName?"OL":"UL",i=s.ownerDocument.createElement(n),o=wysihtml5.dom.domNode(s).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),r=o?o.querySelector("ul, ol"):null,o&&(r?r.appendChild(s):(i.appendChild(s),o.appendChild(i)),a=!0)}),a}},wysihtml5.commands.outdentList={exec:function(e,t,n){var i=e.selection.getSelectionParentsByTag("LI");return!!i&&this.tryToPullLiLevel(i,e)},state:function(e,t){return!1},tryToPullLiLevel:function(n,i){var o,s,r,a,l,c=!1,u=this;return i.selection.executeAndRestoreRangy(function(){for(var e=n.length;e--;)if((a=n[e]).parentNode&&("OL"===(o=a.parentNode).tagName||"UL"===o.tagName)){if(c=!0,s=wysihtml5.dom.getParentElement(o.parentNode,{nodeName:["OL","UL"]},!1,i.element),r=wysihtml5.dom.getParentElement(o.parentNode,{nodeName:["LI"]},!1,i.element),s&&r)a.nextSibling&&(l=u.getAfterList(o,a),a.appendChild(l)),s.insertBefore(a,r.nextSibling);else{a.nextSibling&&(l=u.getAfterList(o,a),a.appendChild(l));for(var t=a.childNodes.length;t--;)o.parentNode.insertBefore(a.childNodes[t],o.nextSibling);o.parentNode.insertBefore(document.createElement("br"),o.nextSibling),a.parentNode.removeChild(a)}0===o.childNodes.length&&o.parentNode.removeChild(o)}}),c},getAfterList:function(e,t){for(var n=e.nodeName,i=document.createElement(n);t.nextSibling;)i.appendChild(t.nextSibling);return i}},function(c){var u="data-wysihtml5-selection-node",d="data-wysihtml5-selection-offset",e=(c.INVISIBLE_SPACE,c.INVISIBLE_SPACE,c.dom);c.UndoManager=c.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var n,o=this;this.composer.sandbox.getDocument(),e.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,n=90===t&&!e.shiftKey,i=90===t&&e.shiftKey||89===t;n?(o.undo(),e.preventDefault()):i&&(o.redo(),e.preventDefault())}}),e.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==n&&(8!==(n=t)&&46!==t||o.transact())}),this.editor.on("newword:composer",function(){o.transact()}).on("beforecommand:composer",function(){o.transact()})},transact:function(){var e,t,n,i,o,s=this.historyStr[this.position-1],r=this.composer.getValue(!1,!1),a=0<this.element.offsetWidth&&0<this.element.offsetHeight;if(r!==s){25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,a&&(t=(e=this.composer.selection.getRange())&&e.startContainer?e.startContainer:this.element,n=e&&e.startOffset?e.startOffset:0,t.nodeType===c.ELEMENT_NODE?i=t:(i=t.parentNode,o=this.getChildNodeIndex(i,t)),i.setAttribute(d,n),void 0!==o&&i.setAttribute(u,o));var l=this.element.cloneNode(!!r);this.historyDom.push(l),this.historyStr.push(r),i&&(i.removeAttribute(d),i.removeAttribute(u))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t,n,i,o=0,s=e.childNodes,r=e.childNodes.length;o<r;o++)this.element.appendChild(s[o].cloneNode(!0));e.hasAttribute(d)?(t=e.getAttribute(d),i=e.getAttribute(u),n=this.element):(t=(n=this.element.querySelector("["+d+"]")||this.element).getAttribute(d),i=n.getAttribute(u),n.removeAttribute(d),n.removeAttribute(u)),null!==i&&(n=this.getChildNodeByIndex(n,+i)),this.composer.selection.set(n,t)},getChildNodeIndex:function(e,t){for(var n=0,i=e.childNodes,o=i.length;n<o;n++)if(i[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?((t.parent.currentView=t).show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(l){var c=l.dom,u=l.browser;l.views.Composer=l.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=u.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,t){var n=this.isEmpty()?"":l.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(n=this.parent.parse(n,!1!==t)),n},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(t){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=c.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){l.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var t=this.element.lastChild;e&&t&&this.selection&&("BR"===t.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return c.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new c.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new c.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),c.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new c.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var t=this.textarea.element;c.insert(this.editableArea).after(t),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,c.insert(e).after(this.textarea.element)}},_create:function(){var e=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new l.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new l.Commands(this.parent),this.config.noTextarea||c.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),c.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var t=this.config.name;t&&(c.addClass(this.element,t),this.config.contentEditableMode||c.addClass(this.editableArea,t)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var n="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");n&&c.simulatePlaceholder(this.parent,this,n),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||u.isIos()||setTimeout(function(){e.focus(!0)},100),u.clearsContentEditableCorrectly()||l.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var s=this,e=u.canDisableAutoLinking(),t=u.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!t||t&&e)&&(this.parent.on("newword:composer",function(){c.getTextContent(s.element).match(c.autoLink.URL_REG_EXP)&&s.selection.executeAndRestore(function(e,t){for(var n=s.element.querySelectorAll("."+s.config.uneditableContainerClassname),i=!1,o=n.length;o--;)l.dom.contains(n[o],t)&&(i=!0);i||c.autoLink(t.parentNode,[s.config.uneditableContainerClassname])})}),c.observe(this.element,"blur",function(){c.autoLink(s.element,[s.config.uneditableContainerClassname])}));var o=this.sandbox.getDocument().getElementsByTagName("a"),r=c.autoLink.URL_REG_EXP,a=function(e){var t=l.lang.string(c.getTextContent(e)).trim();return"www."===t.substr(0,4)&&(t="http://"+t),t};c.observe(this.element,"keydown",function(e){if(o.length){var t,n=s.selection.getSelectedNode(e.target.ownerDocument),i=c.getParentElement(n,{nodeName:"A"},4);i&&(t=a(i),setTimeout(function(){var e=a(i);e!==t&&e.match(r)&&i.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),u.supportsEvent("resizeend")){var s=["width","height"],r=s.length,a=this.element;c.observe(a,"resizeend",function(e){var t,n=e.target||e.srcElement,i=n.style,o=0;if("IMG"===n.nodeName){for(;o<r;o++)i[t=s[o]]&&(n.setAttribute(t,parseInt(i[t],10)),i[t]="");l.quirks.redraw(a)}})}},_initUndoManager:function(){this.undoManager=new l.UndoManager(this.parent)},_initLineBreaking:function(){var i=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],s=["UL","OL","MENU"];function r(e){var t=c.getParentElement(e,{nodeName:["P","DIV"]},2);t&&c.contains(i.element,t)&&i.selection.executeAndRestore(function(){i.config.useLineBreaks?c.replaceWithChildNodes(t):"P"!==t.nodeName&&c.renameElement(t,"p")})}this.config.useLineBreaks||c.observe(this.element,["focus","keydown"],function(){if(i.isEmpty()){var e=i.doc.createElement("P");i.element.innerHTML="",i.element.appendChild(e),u.displaysCaretInEmptyContentEditableCorrectly()?i.selection.selectNode(e,!0):(e.innerHTML="<br>",i.selection.setBefore(e.firstChild))}}),c.observe(this.element,"keydown",function(e){var t=e.keyCode;if(!e.shiftKey&&(t===l.ENTER_KEY||t===l.BACKSPACE_KEY)){var n=c.getParentElement(i.selection.getSelectedNode(),{nodeName:o},4);n?setTimeout(function(){var e=i.selection.getSelectedNode();if("LI"===n.nodeName){if(!e)return;c.getParentElement(e,{nodeName:s},2)||r(e)}t===l.ENTER_KEY&&n.nodeName.match(/^H[1-6]$/)&&r(e)},0):i.config.useLineBreaks&&t===l.ENTER_KEY&&!l.browser.insertsLineBreaksOnReturn()&&(e.preventDefault(),i.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(c){var u=c.dom,d=document,h=window,f=d.createElement("div"),p=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],m=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],g=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",c.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];c.views.Composer.prototype.style=function(){var e,t=this,n=d.querySelector(":focus"),i=this.textarea.element,o=i.hasAttribute("placeholder"),s=o&&i.getAttribute("placeholder"),r=i.style.display,a=i.disabled;this.focusStylesHost=f.cloneNode(!1),this.blurStylesHost=f.cloneNode(!1),this.disabledStylesHost=f.cloneNode(!1),o&&i.removeAttribute("placeholder"),i===n&&i.blur(),i.disabled=!1,i.style.display=e="none",(i.getAttribute("rows")&&"auto"===u.getStyle("height").from(i)||i.getAttribute("cols")&&"auto"===u.getStyle("width").from(i))&&(i.style.display=e=r),u.copyStyles(m).from(i).to(this.editableArea).andTo(this.blurStylesHost),u.copyStyles(p).from(i).to(this.element).andTo(this.blurStylesHost),u.insertCSS(g).into(this.element.ownerDocument),i.disabled=!0,u.copyStyles(m).from(i).to(this.disabledStylesHost),u.copyStyles(p).from(i).to(this.disabledStylesHost),i.disabled=a,i.style.display=r,function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var t=e.style,n=d.documentElement.scrollTop||d.body.scrollTop,i=d.documentElement.scrollLeft||d.body.scrollLeft,o={position:t.position,top:t.top,left:t.left,WebkitUserSelect:t.WebkitUserSelect};u.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),u.setStyles(o).on(e),h.scrollTo&&h.scrollTo(i,n)}}(i),i.style.display=e,u.copyStyles(m).from(i).to(this.focusStylesHost),u.copyStyles(p).from(i).to(this.focusStylesHost),i.style.display=r,u.copyStyles(["display"]).from(i).to(this.editableArea);var l=c.lang.array(m).without(["display"]);return n?n.focus():i.blur(),o&&i.setAttribute("placeholder",s),this.parent.on("focus:composer",function(){u.copyStyles(l).from(t.focusStylesHost).to(t.editableArea),u.copyStyles(p).from(t.focusStylesHost).to(t.element)}),this.parent.on("blur:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this.parent.observe("disable:composer",function(){u.copyStyles(l).from(t.disabledStylesHost).to(t.editableArea),u.copyStyles(p).from(t.disabledStylesHost).to(t.element)}),this.parent.observe("enable:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this}}(wysihtml5),function(a){var l=a.dom,c=a.browser,u={66:"bold",73:"italic",85:"underline"};a.views.Composer.prototype.observe=function(){var s=this,n=this.getValue(!1,!1),e=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),r=this.element,t=c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?r:this.sandbox.getWindow();if(l.observe(e,"DOMNodeRemoved",function(){clearInterval(i),s.parent.fire("destroy:composer")}),!c.supportsMutationEvents())var i=setInterval(function(){l.contains(document.documentElement,e)||(clearInterval(i),s.parent.fire("destroy:composer"))},250);l.observe(t,["drop","paste","mouseup","focus","keyup"],function(){setTimeout(function(){s.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&a.browser.supportsCommand(this.doc,"enableObjectResizing")&&a.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=l.observe(e,["focus","mouseup","mouseover"],function(){s.doc.execCommand("enableObjectResizing",!1,"false"),s.doc.execCommand("enableInlineTableEditing",!1,"false"),s.tableClickHandle.stop()}):setTimeout(function(){s.doc.execCommand("enableObjectResizing",!1,"false"),s.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=a.quirks.tableCellsSelection(r,s.parent)),l.observe(t,"focus",function(e){s.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){n=s.getValue(!1,!1)},0)}),l.observe(t,"blur",function(e){if(n!==s.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),s.parent.fire("change",t).fire("change:composer",t)}s.parent.fire("blur",e).fire("blur:composer",e)}),l.observe(r,"dragenter",function(){s.parent.fire("unset_placeholder")}),l.observe(r,["drop","paste","beforepaste"],function(e){s.parent.fire(e.type,e).fire(e.type+":composer",e)}),this.config.copyedFromMarking&&l.observe(r,"copy",function(e){e.clipboardData&&(e.clipboardData.setData("text/html",s.config.copyedFromMarking+s.selection.getHtml()),e.preventDefault()),s.parent.fire(e.type,e).fire(e.type+":composer",e)}),l.observe(r,"keyup",function(e){var t=e.keyCode;t!==a.SPACE_KEY&&t!==a.ENTER_KEY||s.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){s.parent.fire("newword:composer")},0)}),c.canSelectImagesInContentEditable()||l.observe(r,"mousedown",function(e){var t=e.target,n=r.querySelectorAll("img"),i=r.querySelectorAll("."+s.config.uneditableContainerClassname+" img"),o=a.lang.array(n).without(i);"IMG"===t.nodeName&&a.lang.array(o).contains(t)&&s.selection.selectNode(t)}),c.canSelectImagesInContentEditable()||l.observe(r,"drop",function(e){setTimeout(function(){s.selection.getSelection().removeAllRanges()},0)}),c.hasHistoryIssue()&&c.supportsSelectionModify()&&l.observe(r,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,n=r.ownerDocument.defaultView.getSelection();37!==t&&39!==t||(37===t&&(n.modify("extend","left","lineboundary"),e.shiftKey||n.collapseToStart()),39===t&&(n.modify("extend","right","lineboundary"),e.shiftKey||n.collapseToEnd()),e.preventDefault())}}),l.observe(r,"keydown",function(e){var t=e.keyCode,n=u[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(s.commands.exec(n),e.preventDefault()),8===t?function(e,t,n,i){if(t.isCollapsed())if(t.caretIsInTheBeginnig("LI"))e.preventDefault(),i.commands.exec("outdentList");else if(t.caretIsInTheBeginnig())e.preventDefault();else{if(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)){var o=t.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(o.textContent||o.innerText))o.parentNode.removeChild(o);else{var s=o.ownerDocument.createRange();s.selectNodeContents(o),s.collapse(!1),t.setSelection(s)}}var r=t.caretIsBeforeUneditable();r&&(e.preventDefault(),function(e,t,n){var i=e.getPreviousNode(t,!0),o=e.getSelectedNode();if(1!==o.nodeType&&o.parentNode!==n&&(o=o.parentNode),i)if(1==o.nodeType){var s=o.firstChild;if(1==i.nodeType)for(;o.firstChild;)i.appendChild(o.firstChild);else for(;o.firstChild;)t.parentNode.insertBefore(o.firstChild,t);o.parentNode&&o.parentNode.removeChild(o),e.setBefore(s)}else 1==i.nodeType?i.appendChild(o):t.parentNode.insertBefore(o,t),e.setBefore(o)}(t,r,n))}else t.containsUneditable()&&(e.preventDefault(),t.deleteContents())}(e,s.selection,r,s):s.config.handleTabKey&&9===t&&(e.preventDefault(),function(e,t){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")}(s))}),l.observe(r,"keydown",function(e){var t,n=s.selection.getSelectedNode(!0),i=e.keyCode;!n||"IMG"!==n.nodeName||i!==a.BACKSPACE_KEY&&i!==a.DELETE_KEY||((t=n.parentNode).removeChild(n),"A"!==t.nodeName||t.firstChild||t.parentNode.removeChild(t),setTimeout(function(){a.quirks.redraw(r)},0),e.preventDefault())}),!this.config.contentEditableMode&&c.hasIframeFocusIssue()&&(l.observe(e,"focus",function(){setTimeout(function(){s.doc.querySelector(":focus")!==s.element&&s.focus()},0)}),l.observe(this.element,"blur",function(){setTimeout(function(){s.selection.getSelection().removeAllRanges()},0)}));var o={IMG:"Image: ",A:"Link: "};l.observe(r,"mouseover",function(e){var t,n=e.target,i=n.nodeName;"A"!==i&&"IMG"!==i||n.hasAttribute("title")||(t=o[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t))})}}(wysihtml5),function(s){s.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(s.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,n=this,e=this.textarea.element.form,i=function(){t=setInterval(function(){n.fromComposerToTextarea()},400)},o=function(){clearInterval(t),t=null};i(),e&&(s.dom.observe(e,"submit",function(){n.sync(!0)}),s.dom.observe(e,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||t?"textarea"===e&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),i())}),this.editor.on("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value;return e&&!n||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,n=this.parent,i={focusin:"focus",focusout:"blur"},t=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];n.on("beforeload",function(){wysihtml5.dom.observe(e,t,function(e){var t=i[e.type]||e.type;n.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){n.fire("paste").fire("paste:textarea")},0)})})}}),function(o){var i={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:o.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};o.Editor=o.lang.Dispatcher.extend({constructor:function(e,t){if(this.editableElement="string"==typeof e?document.getElementById(e):e,this.config=o.lang.object({}).merge(i).merge(t).get(),this._isCompatible=o.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new o.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&o.browser.isTouchDevice()){var n=this;setTimeout(function(){n.fire("beforeload").fire("load")},0)}else o.dom.addClass(document.body,this.config.bodyClassName),this.composer=new o.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new o.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new o.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,t){var n=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,i=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:n,uneditableClass:this.config.uneditableContainerClassname,clearInternals:t});return"object"==typeof e&&o.quirks.redraw(e),i},_initParser:function(){var t,n=this;o.browser.supportsModenPaste()?this.on("paste:composer",function(e){e.preventDefault(),(t=o.dom.getPastedHtml(e))&&n._cleanAndPaste(t)}):this.on("beforepaste:composer",function(e){e.preventDefault(),o.dom.getPastedHtmlWithDiv(n.composer,function(e){e&&n._cleanAndPaste(e)})})},_cleanAndPaste:function(e){var t=o.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(t)}})}(wysihtml5),function(r){var a=r.dom,l="wysihtml5-command-dialog-opened",c="input, select, textarea",u="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";r.toolbar.Dialog=r.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var n=this,i=function(e){var t=n._serialize();t==n.elementToChange?n.fire("edit",t):n.fire("save",t),n.hide(),e.preventDefault(),e.stopPropagation()};a.observe(n.link,"click",function(){a.hasClass(n.link,l)&&setTimeout(function(){n.hide()},0)}),a.observe(this.container,"keydown",function(e){var t=e.keyCode;t===r.ENTER_KEY&&i(e),t===r.ESCAPE_KEY&&(n.fire("cancel"),n.hide())}),a.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),a.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){n.fire("cancel"),n.hide(),e.preventDefault(),e.stopPropagation()});for(var e=this.container.querySelectorAll(c),t=0,o=e.length,s=function(){clearInterval(n.interval)};t<o;t++)a.observe(e[t],"change",s);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(u),n=t.length,i=0;i<n;i++)e[t[i].getAttribute(d)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,o=document.querySelector(":focus"),s=this.container.querySelectorAll(u),r=s.length,a=0;a<r;a++)(t=s[a])!==o&&(e&&"hidden"===t.type||(n=t.getAttribute(d),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=i))},show:function(e){if(!a.hasClass(this.link,l)){var t=this,n=this.container.querySelector(c);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){t._interpolate(!0)},500)),a.addClass(this.link,l),this.container.style.display="",this.fire("show"),n&&!e)try{n.focus()}catch(e){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,a.removeClass(this.link,l),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(r){var a=r.dom,l={position:"relative"},c={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},u={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},d={"x-webkit-speech":"",speech:""};r.toolbar.Speech=function(e,t){var n=document.createElement("input");if(r.browser.supportsSpeechApiOn(n)){var i=e.editor.textarea.element.getAttribute("lang");i&&(d.lang=i);var o=document.createElement("div");r.lang.object(c).merge({width:t.offsetWidth+"px",height:t.offsetHeight+"px"}),a.insert(n).into(o),a.insert(o).into(t),a.setStyles(u).on(n),a.setAttributes(d).on(n),a.setStyles(c).on(o),a.setStyles(l).on(t);var s="onwebkitspeechchange"in n?"webkitspeechchange":"speechchange";a.observe(n,s,function(){e.execCommand("insertText",n.value),n.value=""}),a.observe(n,"click",function(e){a.hasClass(t,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}else t.style.display="none"}}(wysihtml5),function(u){var r="wysihtml5-command-disabled",a="wysihtml5-commands-disabled",l="wysihtml5-command-active",c="wysihtml5-action-active",d=u.dom;u.toolbar.Toolbar=Base.extend({constructor:function(e,t,n){this.editor=e,this.container="string"==typeof t?document.getElementById(t):t,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),n&&this.show(),null!=e.config.classNameCommandDisabled&&(r=e.config.classNameCommandDisabled),null!=e.config.classNameCommandsDisabled&&(a=e.config.classNameCommandsDisabled),null!=e.config.classNameCommandActive&&(l=e.config.classNameCommandActive),null!=e.config.classNameActionActive&&(c=e.config.classNameActionActive);for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=i.length,s=0;s<o;s++)new u.toolbar.Speech(this,i[s])},_getLinks:function(e){for(var t,n,i,o,s,r=this[e+"Links"]=u.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),a=r.length,l=0,c=this[e+"Mapping"]={};l<a;l++)i=(t=r[l]).getAttribute("data-wysihtml5-"+e),o=t.getAttribute("data-wysihtml5-"+e+"-value"),n=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+i+"']"),s=this._getDialog(t,i),c[i+":"+o]={link:t,group:n,name:i,value:o,dialog:s,state:!1}},_getDialog:function(t,n){var e,i,o=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&((e=u.toolbar["Dialog_"+n]?new u.toolbar["Dialog_"+n](t,s):new u.toolbar.Dialog(t,s)).on("show",function(){i=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:t})}),e.on("save",function(e){i&&o.composer.selection.setBookmark(i),o._execCommand(n,e),o.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:t})}),e.on("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:t})})),e},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var i=this,t=this.editor,n=this.container,e=this.commandLinks.concat(this.actionLinks),o=e.length,s=0;s<o;s++)"A"===e[s].nodeName?d.setAttributes({href:"javascript:;",unselectable:"on"}).on(e[s]):d.setAttributes({unselectable:"on"}).on(e[s]);d.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),d.delegate(n,"[data-wysihtml5-command]","click",function(e){var t=this.getAttribute("data-wysihtml5-command"),n=this.getAttribute("data-wysihtml5-command-value");i.execCommand(t,n),e.preventDefault()}),d.delegate(n,"[data-wysihtml5-action]","click",function(e){var t=this.getAttribute("data-wysihtml5-action");i.execAction(t),e.preventDefault()}),t.on("interaction:composer",function(){i._updateLinkStates()}),t.on("focus:composer",function(){i.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){i.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){i.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(e){t.textarea&&setTimeout(function(){i.commandsDisabled="composer"!==e,i._updateLinkStates(),i.commandsDisabled?d.addClass(n,a):d.removeClass(n,a)},0)})},_updateLinkStates:function(){var e,t,n,i,o=this.commandMapping,s=this.actionMapping;for(e in o)i=o[e],this.commandsDisabled?(t=!1,d.removeClass(i.link,l),i.group&&d.removeClass(i.group,l),i.dialog&&i.dialog.hide()):(t=this.composer.commands.state(i.name,i.value),d.removeClass(i.link,r),i.group&&d.removeClass(i.group,r)),i.state!==t&&((i.state=t)?(d.addClass(i.link,l),i.group&&d.addClass(i.group,l),i.dialog&&("object"==typeof t||u.lang.object(t).isArray()?(!i.dialog.multiselect&&u.lang.object(t).isArray()&&(t=1!==t.length||t[0],i.state=t),i.dialog.show(t)):i.dialog.hide())):(d.removeClass(i.link,l),i.group&&d.removeClass(i.group,l),i.dialog&&i.dialog.hide()));for(e in s)"change_view"===(n=s[e]).name&&(n.state=this.editor.currentView===this.editor.textarea,n.state?d.addClass(n.link,c):d.removeClass(n.link,c))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(c){c.dom;var u="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";c.toolbar.Dialog_foreColorStyle=c.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},t=this.container.querySelectorAll(u),n=t.length,i=0;i<n;i++)e[t[i].getAttribute(d)]=t[i].value;return e},_interpolate:function(e){for(var t,n=document.querySelector(":focus"),i=this.container.querySelectorAll(u),o=i.length,s=0,r=this.elementToChange?c.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,a=r?r.getAttribute("style"):null,l=a?c.quirks.styleParser.parseColor(a,"color"):null;s<o;s++)(t=i[s])!==n&&(e&&"hidden"===t.type||"color"===t.getAttribute(d)&&(l?l[3]&&1!=l[3]?t.value="rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+");":t.value="rgb("+l[0]+","+l[1]+","+l[2]+");":t.value="rgb(0,0,0);"))}})}(wysihtml5),function(r){r.dom,r.toolbar.Dialog_fontSizeStyle=r.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(e){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?r.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,o=i?i.getAttribute("style"):null,s=o?r.quirks.styleParser.parseFontSize(o):null;n&&n!==t&&s&&!/^\s*$/.test(s)&&(n.value=s)}})}(wysihtml5);var Handlebars=function(){var h=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=function(){return""+this.string},e}(),f=function(e){"use strict";function t(e){return o[e]||"&amp;"}var n={},i=h,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,r=/[&<>"'`]/;n.extend=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};var a,l=Object.prototype.toString;n.toString=l,(a=function(e){return"function"==typeof e})(/x/)&&(a=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),n.isFunction=a;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};return n.isArray=c,n.escapeExpression=function(e){return e instanceof i?e.toString():e||0===e?(e=""+e,r.test(e)?e.replace(s,t):e):""},n.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},n}(),p=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(e+=" - "+(n=t.firstLine)+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<s.length;o++)this[s[o]]=i[s[o]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var s=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,e}(),m=function(e,t){"use strict";function n(e,t){var o;this.helpers=e||{},this.partials=t||{},(o=this).registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new r("Missing helper: '"+e+"'")}),o.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},i=t.fn;return u(e)&&(e=e.call(this)),!0===e?i(this):!1===e||null==e?n(this):c(e)?0<e.length?o.helpers.each(e,t):n(this):i(e)}),o.registerHelper("each",function(e,t){var n,i=t.fn,o=t.inverse,s=0,r="";if(u(e)&&(e=e.call(this)),t.data&&(n=h(t.data)),e&&"object"==typeof e)if(c(e))for(var a=e.length;s<a;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),r+=i(e[s],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=s,n.first=0===s),r+=i(e[l],{data:n}),s++);return 0===s&&(r=o(this)),r}),o.registerHelper("if",function(e,t){return u(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),o.registerHelper("unless",function(e,t){return o.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),o.registerHelper("with",function(e,t){return u(e)&&(e=e.call(this)),s.isEmpty(e)?void 0:t.fn(e)}),o.registerHelper("log",function(e,t){var n=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;o.log(n,e)})}function i(e,t){d.log(e,t)}var o={},s=f,r=p;o.VERSION="1.3.0",o.COMPILER_REVISION=4,o.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var c=s.isArray,u=s.isFunction,a=s.toString,l="[object Object]";(o.HandlebarsEnvironment=n).prototype={constructor:n,logger:d,log:i,registerHelper:function(e,t,n){if(a.call(e)===l){if(n||t)throw new r("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){a.call(e)===l?s.extend(this.partials,e):this.partials[e]=t}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};o.logger=d,o.log=i;var h=function(e){var t={};return s.extend(t,e),t};return o.createFrame=h,o}(),g=function(e,t,n){"use strict";function o(e,n,i){var t=function(e,t){return n(e,(t=t||{}).data||i)};return t.program=e,t.depth=0,t}var i={},s=f,c=p,r=n.COMPILER_REVISION,a=n.REVISION_CHANGES;return i.checkRevision=function(e){var t=e&&e[0]||1;if(t!==r){if(t<r){var n=a[r],i=a[t];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},i.template=function(r,l){if(!l)throw new c("No environment passed to template");var a={escapeExpression:s.escapeExpression,invokePartial:function(e,t,n,i,o,s){var r=l.VM.invokePartial.apply(this,arguments);if(null!=r)return r;if(l.compile){var a={helpers:i,partials:o,data:s};return o[t]=l.compile(e,{data:void 0!==s},l),o[t](n,a)}throw new c("The partial "+t+" could not be compiled when running in runtime-only mode")},programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=o(e,t,n):i||(i=this.programs[e]=o(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},s.extend(n,t),s.extend(n,e)),n},programWithDepth:l.VM.programWithDepth,noop:l.VM.noop,compilerInfo:null};return function(e,t){var n,i,o=(t=t||{}).partial?t:l;t.partial||(n=t.helpers,i=t.partials);var s=r.call(a,o,e,n,i,t.data);return t.partial||l.VM.checkRevision(a.compilerInfo),s}},i.programWithDepth=function(e,n,i){var o=Array.prototype.slice.call(arguments,3),t=function(e,t){return t=t||{},n.apply(this,[e,t.data||i].concat(o))};return t.program=e,t.depth=o.length,t},i.program=o,i.invokePartial=function(e,t,n,i,o,s){var r={partial:!0,helpers:i,partials:o,data:s};if(void 0===e)throw new c("The partial "+t+" could not be found");return e instanceof Function?e(n,r):void 0},i.noop=function(){return""},i}(0,0,m);return function(e,t,n,i,o){"use strict";var s=m,r=h,a=p,l=f,c=g,u=function(){var t=new s.HandlebarsEnvironment;return l.extend(t,s),t.SafeString=r,t.Exception=a,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},d=u();return d.create=u,d}()}();function AJAXTypePOST(){return"POST"}function AJAXTypeGET(){return"GET"}function AJAXContentTypeAppJsonUtf(){return"application/json; charset=utf-8"}function AJAXDataTypeJson(){return"json"}function getRowidFromCmd(e){return e.replace(getLabelCmdAsCRUDNew(),"").replace(getLabelCmdAsCRUDEdit(),"").replace(getLabelCmdAsCRUDDelete(),"").replace(getLabelCmdAsCRUDSave(),"").replace(getLabelCmdAsCRUDReset(),"").replace(getLabelCmdAsCRUDView(),"").replace(getLabelCmdAsCRUDPrint(),"").replace(getLabelCmdToView(),"").replace(getLabelCmdToPrint(),"")}function getCmdTypeFromRowid(e,t){return e.replace(t,"")}function getRowDataValue(e,t){return $("#"+t+e).val()}function doActionToViewByRUID(e,t){$.ajax({type:AJAXTypePOST(),url:t,success:function(e){$("#result").html(e)},complete:function(){},error:function(){}})}function doActionToPrintByRUID(e,t){alert("No Data to Print")}function isValidLogin(e,t){return vReturn=!0,""!=e&&null!=e&&""!=t&&null!=t||(vReturn=!1),vReturn}function setStateView(){$("input[type=text], input[type=password], textarea").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldAsLabelDesc, textarea.FieldAsLabelDesc").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableOnNew, textarea.FieldEnableOnNew").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldAsReadOnly, textarea.FieldAsReadOnly").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways, textarea.FieldEnableAlways").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text], input[type=password]").attr("readonly","readonly"),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways").removeAttr("readonly"),$("textarea").attr("readonly","readonly"),$("textarea.FieldEnableAlways").removeAttr("readonly"),$("button.CmdAsLookUpKey").removeAttr("disabled"),$("button.CmdAsLookUp").attr("disabled","disabled"),$("button.CmdAsLinkKey").removeAttr("disabled"),$("button.CmdAsLinkUpload").attr("disabled","disabled"),$("button.CmdAsLink").attr("disabled","disabled"),$("button.CmdAsCalendar").attr("disabled","disabled"),$("button.CmdAsLinkAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpKey").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLookUp").removeClass(gscmdLookUpEnabled).addClass(gscmdLookUpDisabled),$("button.CmdAsLinkKey").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsLink").removeClass(gscmdLinkEnabled).addClass(gscmdLinkDisabled),$("button.CmdAsLinkUpload").removeClass(gscmdUploadEnabled).addClass(gscmdUploadDisabled),$("button.CmdAsCalendar").removeClass(gscmdCalendarEnabled).addClass(gscmdCalendarDisabled),$("button.CmdAsLinkAlwaysEnable").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsLookUpAlwaysEnable").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLookUpKey i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),$("button.CmdAsLookUp i").removeClass(gscmdLookUpIconEnabled).addClass(gscmdLookUpIconDisabled),$("button.CmdAsLinkKey i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsLink i").removeClass(gscmdLinkIconEnabled).addClass(gscmdLinkIconDisabled),$("button.CmdAsLinkUpload i").removeClass(gscmdUploadIconEnabled).addClass(gscmdUploadIconDisabled),$("button.CmdAsCalendar i").removeClass(gscmdCalendarIconEnabled).addClass(gscmdCalendarIconDisabled),$("button.CmdAsLinkAlwaysEnable i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsLookUpAlwaysEnable i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),setStateViewButton()}function setStateNew(){$("input[type=text], input[type=password], textarea").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text].FieldAsLabelDesc, textarea.FieldAsLabelDesc").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableOnNew, textarea.FieldEnableOnNew").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text].FieldAsReadOnly, textarea.FieldAsReadOnly").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways, textarea.FieldEnableAlways").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text], input[type=password]").removeAttr("readonly"),$("input[type=text].FieldAsLabelDesc").attr("readonly","readonly"),$("input[type=text].FieldEnableOnNew").removeAttr("readonly"),$("input[type=text].FieldAsReadOnly").attr("readonly","readonly"),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways").removeAttr("readonly"),$("textarea").removeAttr("readonly"),$("textarea.FieldAsLabelDesc").attr("readonly","readonly"),$("textarea.FieldEnableOnNew").removeAttr("readonly"),$("textarea.FieldAsReadOnly").attr("readonly","readonly"),$("textarea.FieldEnableAlways").removeAttr("readonly"),$("button.CmdAsLookUpKey").attr("disabled","disabled"),$("button.CmdAsLookUp").removeAttr("disabled"),$("button.CmdAsLinkKey").attr("disabled","disabled"),$("button.CmdAsLinkUpload").removeAttr("disabled"),$("button.CmdAsLink").removeAttr("disabled"),$("button.CmdAsCalendar").removeAttr("disabled"),$("button.CmdAsLinkAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpKey").removeClass(gscmdLookUpEnabled).addClass(gscmdLookUpDisabled),$("button.CmdAsLookUp").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLinkKey").removeClass(gscmdLinkEnabled).addClass(gscmdLinkDisabled),$("button.CmdAsLinkUpload").removeClass(gscmdUploadDisabled).addClass(gscmdUploadEnabled),$("button.CmdAsLink").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsCalendar").removeClass(gscmdCalendarDisabled).addClass(gscmdCalendarEnabled),$("button.CmdAsLinkAlwaysEnable").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsLookUpAlwaysEnable").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLookUpKey i").removeClass(gscmdLookUpIconEnabled).addClass(gscmdLookUpIconDisabled),$("button.CmdAsLookUp i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),$("button.CmdAsLinkKey i").removeClass(gscmdLinkIconEnabled).addClass(gscmdLinkIconDisabled),$("button.CmdAsLinkUpload i").removeClass(gscmdUploadIconDisabled).addClass(gscmdUploadIconEnabled),$("button.CmdAsLink i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsCalendar i").removeClass(gscmdCalendarIconDisabled).addClass(gscmdCalendarIconEnabled),$("button.CmdAsLinkAlwaysEnable i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsLookUpAlwaysEnable i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),setStateNewButton()}function setStateEdit(){$("input[type=text], input[type=password], textarea").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text].FieldAsLabelDesc, textarea.FieldAsLabelDesc").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableOnNew, textarea.FieldEnableOnNew").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldAsReadOnly, textarea.FieldAsReadOnly").removeClass(gsFieldEnable).addClass(gsFieldDisable),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways, textarea.FieldEnableAlways").removeClass(gsFieldDisable).addClass(gsFieldEnable),$("input[type=text], input[type=password]").removeAttr("readonly"),$("input[type=text].FieldAsLabelDesc").attr("readonly","readonly"),$("input[type=text].FieldEnableOnNew").attr("readonly","readonly"),$("input[type=text].FieldAsReadOnly").attr("readonly","readonly"),$("input[type=text].FieldEnableAlways, input[type=password].FieldEnableAlways").removeAttr("readonly"),$("textarea").removeAttr("readonly"),$("textarea.FieldAsLabelDesc").attr("readonly","readonly"),$("textarea.FieldEnableOnNew").attr("readonly","readonly"),$("textarea.FieldAsReadOnly").attr("readonly","readonly"),$("textarea.FieldEnableAlways").removeAttr("readonly"),$("button.CmdAsLookUpKey").attr("disabled","disabled"),$("button.CmdAsLookUp").removeAttr("disabled"),$("button.CmdAsLinkKey").removeAttr("disable"),$("button.CmdAsLinkUpload").removeAttr("disabled"),$("button.CmdAsLink").removeAttr("disabled"),$("button.CmdAsCalendar").removeAttr("disabled"),$("button.CmdAsLinkAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpAlwaysEnable").removeAttr("disabled"),$("button.CmdAsLookUpKey").removeClass(gscmdLookUpEnabled).addClass(gscmdLookUpDisabled),$("button.CmdAsLookUp").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLinkKey").removeClass(gscmdLinkEnabled).addClass(gscmdLinkDisabled),$("button.CmdAsLinkUpload").removeClass(gscmdUploadDisabled).addClass(gscmdUploadEnabled),$("button.CmdAsLink").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsCalendar").removeClass(gscmdCalendarDisabled).addClass(gscmdCalendarEnabled),$("button.CmdAsLinkAlwaysEnable").removeClass(gscmdLinkDisabled).addClass(gscmdLinkEnabled),$("button.CmdAsLookUpAlwaysEnable").removeClass(gscmdLookUpDisabled).addClass(gscmdLookUpEnabled),$("button.CmdAsLookUpKey i").removeClass(gscmdLookUpIconEnabled).addClass(gscmdLookUpIconDisabled),$("button.CmdAsLookUp i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),$("button.CmdAsLinkKey i").removeClass(gscmdLinkIconEnabled).addClass(gscmdLinkIconDisabled),$("button.CmdAsLinkUpload i").removeClass(gscmdUploadIconDisabled).addClass(gscmdUploadIconEnabled),$("button.CmdAsLink i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsCalendar i").removeClass(gscmdCalendarIconDisabled).addClass(gscmdCalendarIconEnabled),$("button.CmdAsLinkAlwaysEnable i").removeClass(gscmdLinkIconDisabled).addClass(gscmdLinkIconEnabled),$("button.CmdAsLookUpAlwaysEnable i").removeClass(gscmdLookUpIconDisabled).addClass(gscmdLookUpIconEnabled),setStateEditButton()}function setStateViewButton(){$(".cmdNew").removeAttr("disabled"),$(".cmdEdit").attr("disabled","disabled"),$(".cmdDelete").attr("disabled","disabled"),$(".cmdSave").attr("disabled","disabled"),$(".cmdReset").removeAttr("disabled"),$(".cmdNew").removeClass(gscmdNewDisabled).addClass(gscmdNewEnabled),$(".cmdEdit").removeClass(gscmdEditEnabled).addClass(gscmdEditDisabled),$(".cmdDelete").removeClass(gscmdDeleteEnabled).addClass(gscmdDeleteDisabled),$(".cmdSave").removeClass(gscmdSaveEnabled).addClass(gscmdSaveDisabled),$(".cmdReset").removeClass(gscmdResetDisabled).addClass(gscmdResetEnabled),$(".cmdNew i").removeClass(gscmdNewIconDisabled).addClass(gscmdNewIconEnabled),$(".cmdEdit i").removeClass(gscmdEditIconEnabled).addClass(gscmdEditIconDisabled),$(".cmdDelete i").removeClass(gscmdDeleteIconEnabled).addClass(gscmdDeleteIconDisabled),$(".cmdSave i").removeClass(gscmdSaveIconEnabled).addClass(gscmdSaveIconDisabled),$(".cmdReset i").removeClass(gscmdResetIconDisabled).addClass(gscmdResetIconEnabled)}function setStateNewButton(){$(".cmdNew").attr("disabled","disabled"),$(".cmdEdit").attr("disabled","disabled"),$(".cmdDelete").attr("disabled","disabled"),$(".cmdSave").removeAttr("disabled"),$(".cmdReset").removeAttr("disabled"),$(".cmdNew").removeClass(gscmdNewEnabled).addClass(gscmdNewDisabled),$(".cmdEdit").removeClass(gscmdEditEnabled).addClass(gscmdEditDisabled),$(".cmdDelete").removeClass(gscmdDeleteEnabled).addClass(gscmdDeleteDisabled),$(".cmdSave").removeClass(gscmdSaveDisabled).addClass(gscmdSaveEnabled),$(".cmdReset").removeClass(gscmdResetDisabled).addClass(gscmdResetEnabled),$(".cmdNew i").removeClass(gscmdNewIconEnabled).addClass(gscmdNewIconDisabled),$(".cmdEdit i").removeClass(gscmdEditIconEnabled).addClass(gscmdEditIconDisabled),$(".cmdDelete i").removeClass(gscmdDeleteIconEnabled).addClass(gscmdDeleteIconDisabled),$(".cmdSave i").removeClass(gscmdSaveIconDisabled).addClass(gscmdSaveIconEnabled),$(".cmdReset i").removeClass(gscmdResetIconDisabled).addClass(gscmdResetIconEnabled)}function setStateEditButton(){$(".cmdNew").attr("disabled","disabled"),$(".cmdEdit").attr("disabled","disabled"),$(".cmdDelete").attr("disabled","disabled"),$(".cmdSave").removeAttr("disabled"),$(".cmdReset").removeAttr("disabled"),$(".cmdNew").removeClass(gscmdNewEnabled).addClass(gscmdNewDisabled),$(".cmdEdit").removeClass(gscmdEditEnabled).addClass(gscmdEditDisabled),$(".cmdDelete").removeClass(gscmdDeleteEnabled).addClass(gscmdDeleteDisabled),$(".cmdSave").removeClass(gscmdSaveDisabled).addClass(gscmdSaveEnabled),$(".cmdReset").removeClass(gscmdResetDisabled).addClass(gscmdResetEnabled),$(".cmdNew i").removeClass(gscmdNewIconEnabled).addClass(gscmdNewIconDisabled),$(".cmdEdit i").removeClass(gscmdEditIconEnabled).addClass(gscmdEditIconDisabled),$(".cmdDelete i").removeClass(gscmdDeleteIconEnabled).addClass(gscmdDeleteIconDisabled),$(".cmdSave i").removeClass(gscmdSaveIconDisabled).addClass(gscmdSaveIconEnabled),$(".cmdReset i").removeClass(gscmdResetIconDisabled).addClass(gscmdResetIconEnabled)}function setStateReadyEditDelete(){$(".cmdNew").attr("disabled","disabled"),$(".cmdEdit").removeAttr("disabled"),$(".cmdDelete").removeAttr("disabled"),$(".cmdSave").attr("disabled","disabled"),$(".cmdReset").removeAttr("disabled"),$(".cmdNew").removeClass(gscmdNewEnabled).addClass(gscmdNewDisabled),$(".cmdEdit").removeClass(gscmdEditDisabled).addClass(gscmdEditEnabled),$(".cmdDelete").removeClass(gscmdDeleteDisabled).addClass(gscmdDeleteEnabled),$(".cmdSave").removeClass(gscmdSaveEnabled).addClass(gscmdSaveDisabled),$(".cmdReset").removeClass(gscmdResetDisabled).addClass(gscmdResetEnabled),$(".cmdNew i").removeClass(gscmdNewIconEnabled).addClass(gscmdNewIconDisabled),$(".cmdEdit i").removeClass(gscmdEditIconDisabled).addClass(gscmdEditIconEnabled),$(".cmdDelete i").removeClass(gscmdDeleteIconDisabled).addClass(gscmdDeleteIconEnabled),$(".cmdSave i").removeClass(gscmdSaveIconEnabled).addClass(gscmdSaveIconDisabled),$(".cmdReset i").removeClass(gscmdResetIconDisabled).addClass(gscmdResetIconEnabled)}function setStateValidDataToobar(){$(".cmdDataView").removeAttr("disabled"),$(".cmdDataEdit").removeAttr("disabled"),$(".cmdDataDelete").removeAttr("disabled"),$(".cmdDataView").removeClass(gscmdDataViewDisabled).addClass(gscmdDataViewEnabled),$(".cmdDataEdit").removeClass(gscmdDataEditDisabled).addClass(gscmdDataEditEnabled),$(".cmdDataDelete").removeClass(gscmdDataDeleteDisabled).addClass(gscmdDataDeleteEnabled),$(".cmdDataView i").removeClass(gscmdDataViewIconDisabled).addClass(gscmdDataViewIconEnabled),$(".cmdDataEdit i").removeClass(gscmdDataEditIconDisabled).addClass(gscmdDataEditIconEnabled),$(".cmdDataDelete i").removeClass(gscmdDataDeleteIconDisabled).addClass(gscmdDataDeleteIconEnabled)}function setEnableTextbox(e){}function setEnableComboBox(e){}function setEnableTextArea(e){}function setDisableTextbox(e){}function setDisableComboBox(e){}function setDisableTextArea(e){}function previewImage(e,t){var n;if((n=e).files&&n.files[0]){var i=null;(i=new FileReader).onload=function(e){$(t).attr("src",e.target.result)},i.readAsDataURL(n.files[0])}}function uploadImage(e,t,n,i){var o="";o=""!=e&&null!=e?HelperUrl+"/"+e:HelperUrl+"/AjaxFileUploader.ashx",vsUrlPar="?psFileName="+n,vsUrlPar=vsUrlPar+"&OPS="+i,o+=vsUrlPar,$.ajaxFileUpload({url:o,secureuri:!1,fileElementId:t,success:function(e,t){void 0!==e.error&&""!=e.error&&alert(e.error)},error:function(e,t,n){alert(n)}})}function isValidDate(e){if(""==e)return!1;var t=e.match(/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/);if(null==t)return!1;if("MM/dd/yyyy"==vssnAppDefDateFormatShort&&(dtMonth=t[1],dtDay=t[3],dtYear=t[5]),"dd/MM/yyyy"==vssnAppDefDateFormatShort&&(dtDay=t[1],dtMonth=t[3],dtYear=t[5]),dtMonth<1||12<dtMonth)return!1;if(dtDay<1||31<dtDay)return!1;if((4==dtMonth||6==dtMonth||9==dtMonth||11==dtMonth)&&31==dtDay)return!1;if(2==dtMonth){var n=dtYear%4==0&&(dtYear%100!=0||dtYear%400==0);if(29<dtDay||29==dtDay&&!n)return!1}return!0}function isValidValue(e,t,n,i){var o=!1;return 0==o&&"LOV_RNGOPR_001"==i&&t<=e&&e<=n&&(o=!0),0==o&&"LOV_RNGOPR_002"==i&&t<e&&e<n&&(o=!0),0==o&&"LOV_RNGOPR_003"==i&&t<=e&&e<n&&(o=!0),0==o&&"LOV_RNGOPR_004"==i&&t<e&&e<=n&&(o=!0),0==o&&"LOV_RNGOPR_005"==i&&t<=e&&(o=!0),0==o&&"LOV_RNGOPR_006"==i&&e<=t&&(o=!0),0==o&&"LOV_RNGOPR_007"==i&&t<e&&(o=!0),0==o&&"LOV_RNGOPR_008"==i&&e<t&&(o=!0),o}function initDatePickerShortRange(t,n){var e=vssnAppDefDateFormatShortJS,i="";$(t).datepicker({changeMonth:!0,changeYear:!0,dateFormat:e,showAnim:"slide",onClose:function(e){$(n).datepicker("option","minDate",e)}}),i="#cmd"+t.replace(t.substring(0,1),""),$(i).click(function(){$(t).datepicker("show")}),$(n).datepicker({changeMonth:!0,changeYear:!0,dateFormat:e,showAnim:"slide",onClose:function(e){$(t).datepicker("option","maxDate",e)}}),i="#cmd"+n.replace(n.substring(0,1),""),$(i).click(function(){$(n).datepicker("show")})}function initDatePickerShortV2(e){var t=vssnAppDefDateFormatShortJS;$(e).datepicker({changeMonth:!0,changeYear:!0,dateFormat:t,showAnim:"slide",yearRange:"1945:2100"})}function initDatePickerShort(e){var t=vssnAppDefDateFormatShort;t=-1==(t=t.replace("MM","mm")).indexOf("yyyy")?t.replace("yy","y"):t.replace("yyyy","yy"),$(e).datepicker({changeMonth:!0,changeYear:!0}),$(e).datepicker("option","dateFormat",t),$(e).datepicker("option","showAnim","slide"),$(e).datepicker("option","yearRange","1945:2100"),$(e).mask(vssnAppDefDateInputMaskShort),$(e).each(function(e){var n="#"+$(this).attr("id");$(n).focusout(function(){var e=$(n).val(),t="Invalid date : "+e;""!=e&&"__/__/____"!=e&&"__/__/__"!=e&&0==isValidDate(e)&&($("#DialogInformationMsg").text(t),$("#DialogInformation").dialog("open"),$(n).val(""))})})}function initNumberDecimal(e){$(e).format({precision:vssnAppDefDecimalDigit,decimal:vssnAppDefDecimalSign,autofix:!0})}function initNumberInteger(e){$(e).format({precision:0,autofix:!0})}function formatNumberDecimal(e){var t=e;if(0<$(t).length&&""!=$(t).val()){var n=$(t).val();n=n.replace(/,/g,"");var i=parseFloat(n).toFixed(vssnAppDefDecimalDigit);$(t).val(setFormatNumber(i))}}function formatNumberInteger(e){$(e).each(function(e){var t="#"+$(this).attr("id");null!=$(t).val()&&$(t).val(add100Separator($(t).val()))})}function setFormatNumber(e){var t;t=null!=vssnAppDef1000Separator?vssnAppDef1000Separator:",";var n;n=null!=vssnAppDefDecimalSign?vssnAppDefDecimalSign:".",x=(e+="").split("."),x1=x[0],x2=1<x.length?"."+x[1]:"";for(var i=/(\d+)(\d{3})/;i.test(x1);)x1=x1.replace(i,"$1"+t+"$2");return x1+x2.replace(".",n)}function setUnformatNumber(e){var t;t=null!=vssnAppDef1000Separator?vssnAppDef1000Separator:",";var n;return n=null!=vssnAppDefDecimalSign?vssnAppDefDecimalSign:".",x=(e+="").split(n),x1=x[0].replace(t,""),x2=1<x.length?"."+x[1]:"",x1+x2}function add100Separator(e){var t;t=null!=vssnAppDef1000Separator?vssnAppDef1000Separator:",",x=(e+="").split("."),x1=x[0],x2=1<x.length?"."+x[1]:"";for(var n=/(\d+)(\d{3})/;n.test(x1);)x1=x1.replace(n,"$1"+t+"$2");return x1+x2}function ConvertStringToInteger(e){return e.replace(vssnAppDef1000Separator,"")}function ConvertStringToDecimal(e){var t=e;return""!=e&&null!=e&&(t=(""+e).replace(vssnAppDef1000Separator,"")),t}function MultiplyMe(i,o,s){$(o).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))*(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}}),$(s).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))*(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}})}function DevideMe(i,o,s){$(o).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))/(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}}),$(s).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))/(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}})}function IncrementMe(i,o,s){$(o).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))+(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}}),$(s).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))+(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}})}function SubstractMe(i,o,s){$(o).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))-(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}}),$(s).focusout(function(){var e=$(o).val(),t=$(s).val();if(""!=e&&""!=t){var n=setFormatNumber((e=parseFloat(setUnformatNumber($(o).val())))-(t=parseFloat(setUnformatNumber($(s).val()))));$(i).val(n)}})}function setHiddenField(e){$(e).each(function(e){var t="#"+$(this).attr("id");$(t).hide()})}function setHideDivContent(e){$(e).hide()}function setTableFilterByTR(e,t){var n=$("#"+t+" tbody tr");$("#"+e).keyup(function(){var e=$.trim($(this).val()).replace(/ +/g," ").toLowerCase();n.show().filter(function(){return!~$(this).text().replace(/\s+/g," ").toLowerCase().indexOf(e)}).hide()})}function initDlgSaveOnProgress(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"cyan"},width:400})}function initDlgLoadOnProgress(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"cyan"},width:400})}function initDlgInformation(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"cyan"},width:400,buttons:{Ok:function(){$(this).dialog("close")}}})}function initDlgWarning(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"cyan"},width:400,buttons:{Ok:function(){$(this).dialog("close")}}})}function initDlgError(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"red"},width:400,buttons:{Ok:function(){$(this).dialog("close")}}})}function initDlgLookUp(e){$(e).dialog({autoOpen:!1,modal:!0,overlay:{opacity:.2,background:"red"},width:700,height:500,resizable:!0,draggable:!0,buttons:{Ok:function(){$(this).dialog("close")}}})}function showLookup(e,t,n,i){$("#DialogLookupWait").show(),$("#DialogLookupContent").empty();var o=BaseUrl+e,s={paSearchValue:n,paTargetTag:i};jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypeGET(),url:o,data:s,traditional:!0}).done(function(e){$("#DialogLookupContent").html(e)})}function showLookup_AdditemsXclude(e,t,n){$("#DialogLookupWait_additems").show(),$("#DialogLookupContent_additems").empty();var i=BaseUrl+e,o=$("#"+t).serialize();jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypePOST(),url:i,data:o,traditional:!0}).done(function(e){$("#DialogLookupContent_additems").html(e)})}function showLookup_Additems(e,t,n,i){$("#DialogLookupWait_additems").show(),$("#DialogLookupContent_additems").empty();var o=BaseUrl+e,s={paExistinglist:n,paSelectedlist:i};jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypeGET(),url:o,data:s,traditional:!0}).done(function(e){$("#DialogLookupContent_additems").html(e)})}function showLookup_Result(e,t,n,i,o){$("#DialogLookupWait_additems").show(),$("#DialogLookupContent_additems").empty();var s=BaseUrl+e,r={paExistinglist:n,paSelectedlist:i,paSelectnewlist:o};jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypeGET(),url:s,data:r,traditional:!0}).done(function(e){$("#RSLTDATA_TAG").html(e)})}function showLookup_LoadSingle(e,t,n,i,o,s,r,a){var l=new Array;l[0]=s,l[1]=r,l[2]=a,l[3]=i,l[4]=o,$("#DialogLookupWait").show(),$("#DialogLookupContent").empty();var c=BaseUrl+e,u={paSearchValue:n,paTargetTag:l};jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypeGET(),url:c,data:u,traditional:!0}).done(function(e){$("#DialogLookupContent").html(e)})}function gotoPage(e){window.location.replace(BaseUrl+e)}function doSearchAbleTable(e,t,i){var o;o=""!=t?$(t+" table tbody tr"):$(t+"table tbody tr"),$(e).keyup(function(){var e,t="^(?=.*\\b"+$.trim($(this).val()).split(/\s+/).join("\\b)(?=.*\\b")+").*$",n=RegExp(t,"i");o.show().filter(function(){return e=""!=i&&null!=i?$(this).children(i).text().replace(/\s+/g," "):$(this).text().replace(/\s+/g," "),!n.test(e)}).hide()})}function isEmptyString(e){return""==e||null==e}function inputInteger_BACKUP20160929(){$(".data-mask-integer").keydown(function(e){-1!==$.inArray(e.keyCode,[8,9,27,13,110,190])||65==e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()})}function inputInteger(){$(".data-mask-integer").on("input",function(e){this.value=this.value.replace(/[^0-9]/g,"")})}function inputIntegerPct(){$(".data-mask-integer-percentage").keydown(function(e){46==e.keyCode||8==e.keyCode||(e.keyCode<48||57<e.keyCode)&&e.preventDefault(),100<$(this).val()&&$(this).val("100")}),$(".data-mask-integer-percentage").focusout(function(e){100<$(this).val()&&$(this).val("100")})}function inputDecimal(){$(".data-mask-decimal").keydown(function(e){1==e.shiftKey&&e.preventDefault(),48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||8==e.keyCode||9==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||190==e.keyCode||110==e.keyCode||e.preventDefault(),-1==$(this).val().indexOf(".")||190!=e.keyCode&&110!=e.keyCode||e.preventDefault()})}function inputDecimalPct(){$(".data-mask-decimal-percentage").keydown(function(e){1==e.shiftKey&&e.preventDefault(),48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||8==e.keyCode||9==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||190==e.keyCode||110==e.keyCode||e.preventDefault(),-1==$(this).val().indexOf(".")||190!=e.keyCode&&110!=e.keyCode||e.preventDefault(),100<$(this).val()&&$(this).val("100")}),$(".data-mask-decimal-percentage").focusout(function(e){100<$(this).val()&&$(this).val("100")})}function showXOver(e,t){$("#DialogLookupContent").empty();var n=BaseUrl+e;jQuery.ajaxSettings.traditional=!0,$.ajax({type:AJAXTypeGET(),url:n,data:{XOver:"x"},traditional:!0}).done(function(e){$("#DialogLookupContent").html(e)})}function Select2ajax(t,e){$.getJSON(e,function(e){$(t).select2({data:e})})}function Select2ajaxver2(t,e,n){$.getJSON(e,function(e){t.empty().select2({data:e,placeholder:""}),""!=n&&t.val(n).trigger("change")})}function Select2ajaxfilter(t,n,i,o,s){var r="",a="",l="";Select2ajax(t,n),""!=i&&$(i).on("change",function(e){""!=i&&(r=$(i).val()),""!=o&&(a=$(o).val()),""!=s&&(l=$(s).val()),$.getJSON(n,{psFilter1:r,psFilter2:a,psFilter3:l},function(e){$(t).empty().select2({data:e})})})}this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n;return""+"btn-"+a("function"==typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(e,t){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '},o),fn:this.program(3,function(e,t){return' \n      <span class="fa fa-quote-left"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.black)===a?s.apply(t):s)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.black)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.silver)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.gray)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.maroon)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.red)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.purple)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.green)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.olive)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.navy)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.blue)===a?s.apply(t):s)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.colours)||!1===s?s:s.orange)===a?s.apply(t):s)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(e,t,o,n,i){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,e.helpers),i=i||{};var s,r="",a="function",l=this.escapeExpression,c=this;function u(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)}return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=o.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,i),data:i}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.bold)===a?s.apply(t):s)+'</a>\n    <a class="btn ',((s=o.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,i),data:i}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.italic)===a?s.apply(t):s)+'</a>\n    <a class="btn ',((s=o.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,i),data:i}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.emphasis)||!1===s?s:s.underline)===a?s.apply(t):s)+"</a>\n    ",((s=o.if.call(t,null==(s=null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.emphasis)||!1===s?s:s.small,{hash:{},inverse:c.noop,fn:c.program(3,function(e,t){var n,i="";return i+='\n    <a class="btn ',((n=o.if.call(e,null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size,{hash:{},inverse:c.noop,fn:c.program(1,u,t),data:t}))||0===n)&&(i+=n),i+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+l(typeof(n=null==(n=null==(n=e&&e.locale)||!1===n?n:n.emphasis)||!1===n?n:n.small)===a?n.apply(e):n)+"</a>\n    "},i),data:i}))||0===s)&&(r+=s),r+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression;return r+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+='" data-toggle="dropdown">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(e,t){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '},o),fn:this.program(3,function(e,t){return'\n      <span class="fa fa-font"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+'\n    <span class="current-font">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.normal)===a?s.apply(t):s)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.normal)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h1)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h2)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h3)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h4)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h5)===a?s.apply(t):s)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.font_styles)||!1===s?s:s.h6)===a?s.apply(t):s)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a=this.escapeExpression;return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n;return""+"btn-"+a("function"==typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-action="change_view" title="'+a("function"==typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.html)||!1===s?s:s.edit)?s.apply(t):s)+'" tabindex="-1">\n      ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(5,function(e,t){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '},o),fn:this.program(3,function(e,t){return'\n        <span class="fa fa-pencil"></span>\n      '},o),data:o}))||0===s)&&(r+=s),r+"\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"modal-sm"},o),data:o}))||0===s)&&(r+=s),r+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.image)||!1===s?s:s.insert)===a?s.apply(t):s)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.image)||!1===s?s:s.cancel)===a?s.apply(t):s)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.image)||!1===s?s:s.insert)===a?s.apply(t):s)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertImage" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.image)||!1===s?s:s.insert)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(7,function(e,t){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '},o),fn:this.program(5,function(e,t){return'\n      <span class="fa fa-file-image-o"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression;return r+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"modal-sm"},o),data:o}))||0===s)&&(r+=s),r+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.link)||!1===s?s:s.insert)===a?s.apply(t):s)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.link)||!1===s?s:s.target)===a?s.apply(t):s)+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.link)||!1===s?s:s.cancel)===a?s.apply(t):s)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.link)||!1===s?s:s.insert)===a?s.apply(t):s)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)},o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="createLink" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.link)||!1===s?s:s.insert)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:this.program(7,function(e,t){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '},o),fn:this.program(5,function(e,t){return'\n      <span class="fa fa-share-square-o"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(e,t,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=o||{};var s,r="",a="function",l=this.escapeExpression,c=this;function u(e,t){var n;return""+"btn-"+l(typeof(n=null==(n=null==(n=e&&e.options)||!1===n?n:n.toolbar)||!1===n?n:n.size)===a?n.apply(e):n)}return r+='<li>\n  <div class="btn-group">\n    <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.lists)||!1===s?s:s.unordered)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:c.program(5,function(e,t){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '},o),fn:c.program(3,function(e,t){return'\n      <span class="fa fa-list-ul"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.lists)||!1===s?s:s.ordered)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:c.program(9,function(e,t){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '},o),fn:c.program(7,function(e,t){return'\n      <span class="fa fa-list-ol"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="Outdent" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.lists)||!1===s?s:s.outdent)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:c.program(13,function(e,t){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '},o),fn:c.program(11,function(e,t){return'\n      <span class="fa fa-outdent"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+='\n    </a>\n    <a class="btn ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.size,{hash:{},inverse:c.noop,fn:c.program(1,u,o),data:o}))||0===s)&&(r+=s),r+=' btn-default" data-wysihtml5-command="Indent" title="'+l(typeof(s=null==(s=null==(s=t&&t.locale)||!1===s?s:s.lists)||!1===s?s:s.indent)===a?s.apply(t):s)+'" tabindex="-1">\n    ',((s=n.if.call(t,null==(s=null==(s=t&&t.options)||!1===s?s:s.toolbar)||!1===s?s:s.fa,{hash:{},inverse:c.program(17,function(e,t){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '},o),fn:c.program(15,function(e,t){return'\n      <span class="fa fa-indent"></span>\n    '},o),data:o}))||0===s)&&(r+=s),r+"\n    </a>\n  </div>\n</li>\n"}),function(e){"use strict";"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}(function(e,t){"use strict";!function(a,r){var l=function(e,t,n){if(r.tpl[e])return r.tpl[e]({locale:t,options:n})},n=function(e,t){this.el=e;var n=a.extend(!0,{},c,t);for(var i in n.customTemplates)n.customTemplates.hasOwnProperty(i)&&(r.tpl[i]=n.customTemplates[i]);this.toolbar=this.createToolbar(e,n),this.editor=this.createEditor(n)};n.prototype={constructor:n,createEditor:function(e){e=e||{},(e=a.extend(!0,{},e)).toolbar=this.toolbar[0],this.initializeEditor(this.el[0],e)},initializeEditor:function(e,t){var n=new r.Editor(this.el[0],t);if(n.on("beforeload",this.syncBootstrapDialogEvents),n.on("beforeload",this.loadParserRules),n.composer.editableArea.contentDocument?this.addMoreShortcuts(n,n.composer.editableArea.contentDocument.body||n.composer.editableArea.contentDocument,t.shortcuts):this.addMoreShortcuts(n,n.composer.editableArea,t.shortcuts),t&&t.events)for(var i in t.events)t.events.hasOwnProperty(i)&&n.on(i,t.events[i]);return n},loadParserRules:function(){"string"===a.type(this.config.parserRules)&&a.ajax({dataType:"json",url:this.config.parserRules,context:this,error:function(e,t,n){console.log(n)},success:function(e){this.config.parserRules=e,console.log("parserrules loaded")}}),this.config.pasteParserRulesets&&"string"===a.type(this.config.pasteParserRulesets)&&a.ajax({dataType:"json",url:this.config.pasteParserRulesets,context:this,error:function(e,t,n){console.log(n)},success:function(e){this.config.pasteParserRulesets=e}})},syncBootstrapDialogEvents:function(){var t=this;a.map(this.toolbar.commandMapping,function(e){return[e]}).filter(function(e){return e.dialog}).map(function(e){return e.dialog}).forEach(function(e){e.on("show",function(){a(this.container).modal("show")}),e.on("hide",function(){a(this.container).modal("hide"),setTimeout(t.composer.focus,0)}),a(e.container).on("shown.bs.modal",function(){a(this).find("input, select, textarea").first().focus()})}),this.on("change_view",function(){a(this.toolbar.container.children).find("a.btn").not('[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},createToolbar:function(e,t){var s=this,n=a("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),i=t.locale||c.locale||"en";u.hasOwnProperty(i)||(console.debug("Locale '"+i+"' not found. Available locales are: "+Object.keys(u)+". Falling back to 'en'."),i="en");var o=a.extend(!0,{},u.en,u[i]);for(var r in t.toolbar)t.toolbar[r]&&n.append(l(r,o,t));return n.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var t=e.delegateTarget||e.target||e.srcElement,n=a(t),i=n.data("wysihtml5-display-format-name"),o=n.data("wysihtml5-format-name")||n.html();void 0!==i&&"true"!==i||s.toolbar.find(".current-font").text(o)}),n.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var t=e.target||e.srcElement,n=a(t);s.toolbar.find(".current-color").text(n.html())}),this.el.before(n),n},addMoreShortcuts:function(o,e,s){r.dom.observe(e,"keydown",function(e){var t=e.keyCode,n=s[t];if((e.ctrlKey||e.metaKey||e.altKey)&&n&&r.commands[n]){var i=o.toolbar.commandMapping[n+":null"];i&&i.dialog&&!i.state?i.dialog.show():r.commands[n].exec(o.composer,n),e.preventDefault()}})}};var i={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var e=a(this);e.data("wysihtml5",new n(e,t))})},shallowExtend:function(e){var t=a.extend({},a.fn.wysihtml5.defaultOptions,e||{},a(this).data());return i.bypassDefaults.apply(this,[t])},deepExtend:function(e){var t=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,e||{});return i.bypassDefaults.apply(this,[t])},init:function(e){return i.shallowExtend.apply(this,[e])}};a.fn.wysihtml5=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.error("Method "+e+" does not exist on jQuery.wysihtml5"):i.init.apply(this,arguments)},a.fn.wysihtml5.Constructor=n;var c=a.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},useLineBreaks:!1,parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small",75:"createLink"}};void 0===a.fn.wysihtml5.defaultOptionsCache&&(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions));var u=a.fn.wysihtml5.locale={}}(e,t)}),function(n){n.commands.small={exec:function(e,t){return n.commands.formatInline.exec(e,t,"small")},state:function(e,t){return n.commands.formatInline.state(e,t,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(i){var e=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var e=i.fn.select2.amd;var t,o,c,n;return e&&e.requirejs||(e?o=e:e={},function(f){var s,r,p,m,g={},v={},y={},b={},n=Object.prototype.hasOwnProperty,i=[].slice,w=/\.js$/;function C(e,t){return n.call(e,t)}function a(e,t){var n,i,o,s,r,a,l,c,u,d,h,f=t&&t.split("/"),p=y.map,m=p&&p["*"]||{};if(e){for(r=(e=e.split("/")).length-1,y.nodeIdCompat&&w.test(e[r])&&(e[r]=e[r].replace(w,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),u=0;u<e.length;u++)if("."===(h=e[u]))e.splice(u,1),u-=1;else if(".."===h){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;0<u&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||m)&&p){for(u=(n=e.split("/")).length;0<u;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;0<d;d-=1)if((o=p[f.slice(0,d).join("/")])&&(o=o[i])){s=o,a=u;break}if(s)break;!l&&m&&m[i]&&(l=m[i],c=u)}!s&&l&&(s=l,a=c),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function x(t,n){return function(){var e=i.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),r.apply(f,e.concat([t,n]))}}function _(t){return function(e){g[t]=e}}function E(e){if(C(v,e)){var t=v[e];delete v[e],b[e]=!0,s.apply(f,t)}if(!C(g,e)&&!C(b,e))throw new Error("No "+e);return g[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function k(e){return e?l(e):[]}p=function(e,t){var n,i,o=l(e),s=o[0],r=t[1];return e=o[1],s&&(n=E(s=a(s,r))),s?e=n&&n.normalize?n.normalize(e,(i=r,function(e){return a(e,i)})):a(e,r):(s=(o=l(e=a(e,r)))[0],e=o[1],s&&(n=E(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},m={require:function(e){return x(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:(t=e,function(){return y&&y.config&&y.config[t]||{}})};var t}},s=function(e,t,n,i){var o,s,r,a,l,c,u,d=[],h=typeof n;if(c=k(i=i||e),"undefined"===h||"function"===h){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(s=(a=p(t[l],c)).f))d[l]=m.require(e);else if("exports"===s)d[l]=m.exports(e),u=!0;else if("module"===s)o=d[l]=m.module(e);else if(C(g,s)||C(v,s)||C(b,s))d[l]=E(s);else{if(!a.p)throw new Error(e+" missing "+s);a.p.load(a.n,x(i,!0),_(s),{}),d[l]=g[s]}r=n?n.apply(g[e],d):void 0,e&&(o&&o.exports!==f&&o.exports!==g[e]?g[e]=o.exports:r===f&&u||(g[e]=r))}else e&&(g[e]=n)},t=o=r=function(e,t,n,i,o){if("string"==typeof e)return m[e]?m[e](t):E(p(e,k(t)).f);if(!e.splice){if((y=e).deps&&r(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=f}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?s(f,e,t,n):setTimeout(function(){s(f,e,t,n)},4),r},r.config=function(e){return r(e)},t._defined=g,(c=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),C(g,e)||C(v,e)||(v[e]=[e,t,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=o,e.define=c),e.define("almond",function(){}),e.define("jquery",[],function(){var e=i||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(s){var e={};function u(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}e.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},e.Decorate=function(i,o){var e=u(o),t=u(i);function s(){var e=Array.prototype.unshift,t=o.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}o.displayName=i.displayName,s.prototype=new function(){this.constructor=s};for(var n=0;n<t.length;n++){var r=t[n];s.prototype[r]=i.prototype[r]}for(var a=function(e){var t=function(){};e in s.prototype&&(t=s.prototype[e]);var n=o.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}},l=0;l<e.length;l++){var c=e[l];s.prototype[c]=a(c)}return s};var t=function(){this.listeners={}};return t.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},t.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},e.Observable=t,e.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},e.bind=function(e,t){return function(){e.apply(t,arguments)}},e._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var s=n[o];(s=s.substring(0,1).toLowerCase()+s.substring(1))in i||(i[s]={}),o==n.length-1&&(i[s]=e[t]),i=i[s]}delete e[t]}}return e},e.hasScroll=function(e,t){var n=s(t),i=t.style.overflowX,o=t.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},e.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},e.appendMany=function(e,t){if("1.7"===s.fn.jquery.substr(0,3)){var n=s();s.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},e}),e.define("select2/results",["jquery","./utils"],function(h,e){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=h.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=h(this),t=h.data(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[i];t.setAttribute(i,o)}if(e.children){var s=h(t),r=document.createElement("strong");r.className="select2-results__group",h(r),this.template(e,r);for(var a=[],l=0;l<e.children.length;l++){var c=e.children[l],u=this.option(c);a.push(u)}var d=h("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(a),s.append(r),s.append(d)}else this.template(e,t);return h.data(t,"data",e),t},i.prototype.bind=function(t,e){var l=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var s=l.$results.offset().top,r=o.offset().top,a=l.$results.scrollTop()+(r-s);0===i?l.$results.scrollTop(0):r-s<0&&l.$results.scrollTop(a)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),r=l.$results.scrollTop()+s-o;0===n?l.$results.scrollTop(0):o<s&&l.$results.scrollTop(r)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),n=t.data("data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),s=i-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(e,t);null==o?t.style.display="none":"string"==typeof o?t.innerHTML=i(o):h(t).append(o)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,e,o){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},i.prototype.bind=function(e,t){var n=this,i=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===o.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){var e=n(this);this!=t[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()}),t.on("selection:update",function(e){n.update(e.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)}else this.clear()},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,a){function o(e,t){o.__super__.constructor.apply(this,arguments)}return a.Extend(o,e),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){n.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!n.options.get("disabled")){var t=i(this).parent().data("data");n.trigger("unselect",{originalEvent:e,data:t})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=this.selectionContainer(),s=this.display(i,o);o.append(s),o.prop("title",i.title||i.text),o.data("data",i),t.push(o)}var r=this.$selection.find(".select2-selection__rendered");a.appendMany(r,t)}},o}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var s={data:i[o]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=o.DELETE&&t.which!=o.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",t),this.$selection.find(".select2-selection__rendered").prepend(n)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,e,r){function t(e,t,n){e.call(this,t,n)}return t.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===r.BACKSPACE&&""===i.$search.val()){var t=i.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var n=t.data("data");i.searchRemoveChoice(n),e.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=r.SHIFT&&t!=r.CTRL&&t!=r.ALT&&t!=r.TAB&&i.handleSearch(e)}})},t.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},t.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},t}),e.define("select2/selection/eventRelay",["jquery"],function(r){function e(){}return e.prototype.bind=function(e,t,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,t,n),t.on("*",function(e,t){if(-1!==r.inArray(e,o)){t=t||{};var n=r.Event("select2:"+e,{params:t});i.$element.trigger(n),-1!==r.inArray(e,s)&&(t.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var t=n(e);i._cache[e]=t}return new i(i._cache[e])},i}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(i){function n(e,t){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=i.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+i.generateChars(4),n},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,t,a){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(":selected").each(function(){var e=a(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(o){var s=this;if(o.selected=!0,a(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(o=[o]).push.apply(o,e);for(var n=0;n<o.length;n++){var i=o[n].id;-1===a.inArray(i,t)&&t.push(i)}s.$element.val(t),s.$element.trigger("change")});else{var e=o.id;this.$element.val(e),this.$element.trigger("change")}},n.prototype.unselect=function(o){var s=this;if(this.$element.prop("multiple")){if(o.selected=!1,a(o.element).is("option"))return o.element.selected=!1,void this.$element.trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==o.id&&-1===a.inArray(i,t)&&t.push(i)}s.$element.val(t),s.$element.trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.removeData(this,"data")})},n.prototype.query=function(i,e){var o=[],s=this;this.$element.children().each(function(){var e=a(this);if(e.is("option")||e.is("optgroup")){var t=s.item(e),n=s.matches(i,t);null!==n&&o.push(n)}}),e({results:o})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=a(t),i=this._normalizeItem(e);return i.element=t,a.data(t,"data",i),n},n.prototype.item=function(e){var t={};if(null!=(t=a.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],o=0;o<n.length;o++){var s=a(n[o]),r=this.item(s);i.push(r)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],a.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return a.isPlainObject(e)||(e={id:e,text:e}),null!=(e=a.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),a.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,p,m){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return p.Extend(i,e),i.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){var t=this,n=this.$element.find("option"),i=n.map(function(){return t.item(m(this)).id}).get(),o=[];function s(e){return function(){return m(this).val()==e.id}}for(var r=0;r<e.length;r++){var a=this._normalizeItem(e[r]);if(0<=m.inArray(a.id,i)){var l=n.filter(s(a)),c=this.item(l),u=m.extend(!0,{},a,c),d=this.option(u);l.replaceWith(d)}else{var h=this.option(a);if(a.children){var f=this.convertToOptions(a.children);p.appendMany(h,f)}o.push(h)}}return o},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,s){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return s.extend({},e,{q:e.term})},transport:function(e,t,n){var i=s.ajax(e);return i.then(t),i.fail(n),i}};return s.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){var o=this;null!=this._request&&(s.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=s.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=o.processResults(e,n);o.options.get("debug")&&window.console&&console.error&&(t&&t.results&&s.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){e.status&&"0"===e.status||o.trigger("results:message",{message:"errorLoading"})});o._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(u){function e(e,t,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,t,n),u.isArray(i))for(var r=0;r<i.length;r++){var a=i[r],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var i=t.results,o=0;o<i.length;o++){var s=i[o],r=null!=s.children&&!e({results:s.children},!0);if((s.text||"").toUpperCase()===(c.term||"").toUpperCase()||r)return!n&&(t.data=i,void u(t))}if(n)return!0;var a=d.createTag(c);if(null!=a){var l=d.option(a);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(i,a)}t.results=i,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){var n=u.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||u(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(d){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var o=this;t.term=t.term||"";var i=this.tokenizer(t,this.options,function(e){var t,n=o._normalizeItem(e);if(!o.$element.find("option").filter(function(){return d(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}t=n,o.trigger("select",{data:t})});i.term!==t.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.focus()),t.term=i.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var o=n.get("tokenSeparators")||[],s=t.term,r=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};r<s.length;){var l=s[r];if(-1!==d.inArray(l,o)){var c=s.substr(0,r),u=a(d.extend({},t,{term:c}));null!=u?(i(u),s=s.substr(r+1)||"",r=0):r++}else r++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(n,i,o){var s=this;this.current(function(e){var t=null!=e?e.length:0;0<s.maximumSelectionLength&&t>=s.maximumSelectionLength?s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):n.call(s,i,o)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(o,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){o(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),t.on("focus",function(){t.isOpen()||i.$search.focus()}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var e=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&e){var t=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=t+50&&i.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=o.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,a){function e(e,t,n){this.$dropdownParent=n.get("dropdownParent")||p(document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this,o=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),o||(o=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=p("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,o="resize.select2."+t.id,s="orientationchange.select2."+t.id,r=this.$container.parents().filter(a.hasScroll);r.each(function(){p(this).data("select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),r.on(i,function(e){var t=p(this).data("select2-scroll-position");p(this).scrollTop(t.y)}),p(window).on(i+" "+o+" "+s,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,o="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),p(window).off(n+" "+i+" "+o)},e.prototype._positionDropdown=function(){var e=p(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var r=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<o.top-r,u=l>o.bottom+r,d={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,t||n||(i="below"),u||!c||t?!c&&u&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(d.top=s.top-f.top-r),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(p,m,g,v,y,b,w,C,x,_,E,t,k,S,T,N,A,D,R,P,I,$,L,O,M,H,j,z,e){function n(){this.reset()}return n.prototype.apply=function(e){if(null==(e=p.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=T:null!=e.data?e.dataAdapter=S:e.dataAdapter=k,0<e.minimumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,D)),0<e.maximumInputLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,R)),0<e.maximumSelectionLength&&(e.dataAdapter=_.Decorate(e.dataAdapter,P)),e.tags&&(e.dataAdapter=_.Decorate(e.dataAdapter,N)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=_.Decorate(e.dataAdapter,A)),null!=e.query){var t=m(e.amdBase+"compat/query");e.dataAdapter=_.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var n=m(e.amdBase+"compat/initSelection");e.dataAdapter=_.Decorate(e.dataAdapter,n)}}if(null==e.resultsAdapter&&(e.resultsAdapter=g,null!=e.ajax&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,O)),null!=e.placeholder&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,L)),e.selectOnClose&&(e.resultsAdapter=_.Decorate(e.resultsAdapter,j))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=I;else{var i=_.Decorate(I,$);e.dropdownAdapter=i}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,H)),e.closeOnSelect&&(e.dropdownAdapter=_.Decorate(e.dropdownAdapter,z)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var o=m(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=_.Decorate(e.dropdownAdapter,o)}e.dropdownAdapter=_.Decorate(e.dropdownAdapter,M)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,w)),e.multiple&&(e.selectionAdapter=_.Decorate(e.selectionAdapter,C)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var s=m(e.amdBase+"compat/containerCss");e.selectionAdapter=_.Decorate(e.selectionAdapter,s)}e.selectionAdapter=_.Decorate(e.selectionAdapter,x)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var r=e.language.split("-")[0];e.language=[e.language,r]}else e.language=[e.language];if(p.isArray(e.language)){var a=new E;e.language.push("en");for(var l=e.language,c=0;c<l.length;c++){var u=l[c],d={};try{d=E.loadPath(u)}catch(t){try{u=this.defaults.amdLanguageBase+u,d=E.loadPath(u)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+u+'" could not be automatically loaded. A fallback will be used instead.');continue}}a.extend(d)}e.translations=a}else{var h=E.loadPath(this.defaults.amdLanguageBase+"en"),f=new E(e.language);f.extend(h),e.translations=f}return e},n.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:_.escapeMarkup,language:e,matcher:function e(t,n){if(""===p.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=p.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==e(t,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:e(t,i)}var s=a(n.text).toUpperCase(),r=a(t.term).toUpperCase();return-1<s.indexOf(r)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.set=function(e,t){var n={};n[p.camelCase(e)]=t;var i=_._convertData(n);p.extend(this.defaults,i)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(i,s,o,r){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=o.apply(this.options),t&&t.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var n;n=s.fn.jquery&&"1."==s.fn.jquery.substr(0,2)&&e[0].dataset?s.extend(!0,{},e[0].dataset,e.data()):e.data();var i=s.extend(!0,{},n);for(var o in i=r._convertData(i))-1<s.inArray(o,t)||(s.isPlainObject(this.options[o])?s.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,n,i){var u=function(e,t){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),u.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var o=this.render();this._placeContainer(o);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var r=this.options.get("dropdownAdapter");this.dropdown=new r(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(u,n.Observable),u.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},u.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},u.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var r=s.split(";"),a=0,l=r.length;a<l;a+=1){var c=r[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){o.each(e,t._syncA),o.each(e,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},u.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,i)&&n.trigger(e,t)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(),e.preventDefault()):t===i.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var o=0;o<t.addedNodes.length;o++)t.addedNodes[o].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},u.prototype.trigger=function(e,t){var n=u.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var o=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,o,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},u.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},u.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},u.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},u}),e.define("select2/compat/utils",["jquery"],function(r){return{syncCssClasses:function(e,t,n){var i,o,s=[];(i=r.trim(e.attr("class")))&&r((i=""+i).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)}),(i=r.trim(t.attr("class")))&&r((i=""+i).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=n(this))&&s.push(o)}),e.attr("class",s.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(r,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("containerCssClass")||"";r.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptContainerCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(e){var t=o(e);return null!=t?t+" "+e:e}}var s=this.options.get("containerCss")||{};return r.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(s),t.addClass(n),t},e}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(r,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("dropdownCssClass")||"";r.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptDropdownCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(e){var t=o(e);return null!=t?t+" "+e:e}}var s=this.options.get("dropdownCss")||{};return r.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(s),t.addClass(n),t},e}),e.define("select2/compat/initSelection",["jquery"],function(i){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return e.prototype.current=function(e,t){var n=this;this._isInitialized?e.call(this,t):this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,i.isArray(e)||(e=[e]),t(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(r){function e(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return e.prototype.current=function(e,t){function i(e,t){var n=[];return e.selected||-1!==r.inArray(e.id,t)?(e.selected=!0,n.push(e)):e.selected=!1,e.children&&n.push.apply(n,i(e.children,t)),n}for(var n=[],o=0;o<this._currentData.length;o++){var s=this._currentData[o];n.push.apply(n,i(s,this.$element.val().split(this._valueSeparator)))}t(n)},e.prototype.select=function(e,t){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+t.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){r.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger("change")},e.prototype.unselect=function(e,o){var s=this;o.selected=!1,this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];o.id!=i.id&&t.push(i.id)}s.$element.val(t.join(s._valueSeparator)),s.$element.trigger("change")})},e.prototype.query=function(e,t,n){for(var i=[],o=0;o<this._currentData.length;o++){var s=this._currentData[o],r=this.matches(t,s);null!==r&&i.push(r)}n({results:i})},e.prototype.addOptions=function(e,t){var n=r.map(t,function(e){return r.data(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),e.define("select2/compat/matcher",["jquery"],function(r){return function(s){return function(e,t){var n=r.extend(!0,{},t);if(null==e.term||""===r.trim(e.term))return n;if(t.children){for(var i=t.children.length-1;0<=i;i--){var o=t.children[i];s(e.term,o.text,o)||n.children.splice(i,1)}if(0<n.children.length)return n}return s(e.term,t.text,t)?n:null}}}),e.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),e.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),e.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),e.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),n=function(h){var f,p,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],m=Array.prototype.slice;if(h.event.fixHooks)for(var n=e.length;n;)h.event.fixHooks[e[--n]]=h.event.mouseHooks;var g=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;h.data(this,"mousewheel-line-height",g.getLineHeight(this)),h.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=h(e),n=t["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return h(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=m.call(arguments,1),o=0,s=0,r=0,a=0,l=0;if((e=h.event.fix(n)).type="mousewheel","detail"in n&&(r=-1*n.detail),"wheelDelta"in n&&(r=n.wheelDelta),"wheelDeltaY"in n&&(r=n.wheelDeltaY),"wheelDeltaX"in n&&(s=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(s=-1*r,r=0),o=0===r?s:r,"deltaY"in n&&(o=r=-1*n.deltaY),"deltaX"in n&&(s=n.deltaX,0===r&&(o=-1*s)),0!==r||0!==s){if(1===n.deltaMode){var c=h.data(this,"mousewheel-line-height");o*=c,r*=c,s*=c}else if(2===n.deltaMode){var u=h.data(this,"mousewheel-page-height");o*=u,r*=u,s*=u}if(t=Math.max(Math.abs(r),Math.abs(s)),(!p||t<p)&&y(n,p=t)&&(p/=40),y(n,t)&&(o/=40,s/=40,r/=40),o=Math[1<=o?"floor":"ceil"](o/p),s=Math[1<=s?"floor":"ceil"](s/p),r=Math[1<=r?"floor":"ceil"](r/p),g.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();a=e.clientX-d.left,l=e.clientY-d.top}return e.deltaX=s,e.deltaY=r,e.deltaFactor=p,e.offsetX=a,e.offsetY=l,e.deltaMode=0,i.unshift(e,o,s,r),f&&clearTimeout(f),f=setTimeout(v,200),(h.event.dispatch||h.event.handle).apply(this,i)}}function v(){p=null}function y(e,t){return g.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}h.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(i),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(o,e,s,t){if(null==o.fn.select2){var r=["open","close","destroy"];o.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=o.extend(!0,{},t);new s(o(this),e)}),this;if("string"==typeof t){var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o(this).data("select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<o.inArray(t,r)?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=t),s}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return i.fn.select2.amd=e,t}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,s,r,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,n=0;n<s;n+=1)r[n]=str(n,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;n<s;n+=1)"string"==typeof rep[n]&&(o=str(i=rep[n],l))&&r.push(quote(i)+(gap?": ":":")+o);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l))&&r.push(quote(i)+(gap?": ":":")+o);return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,o}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(indent=gap="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=walk(o,n))?o[n]=i:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(V){if(void 0===V.fn.inputmask){function e(e){var t=document.createElement("input"),n=(e="on"+e)in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}function r(e,t,n){var i=n.aliases[e];return!!i&&(i.alias&&r(i.alias,void 0,n),V.extend(!0,n,i),V.extend(!0,n,t),!0)}function a(f){var a=[],l=[];function c(e){f.numericInput&&(e=e.split("").reverse().join(""));var s=!1,r=0,t=f.greedy,n=f.repeat;"*"==n&&(t=!1),1==e.length&&0==t&&0!=n&&(f.placeholder="");for(var i=V.map(e.split(""),function(e,t){var n=[];if(e==f.escapeChar)s=!0;else if(e!=f.optionalmarker.start&&e!=f.optionalmarker.end||s){var i=f.definitions[e];if(i&&!s)for(var o=0;o<i.cardinality;o++)n.push(f.placeholder.charAt((r+o)%f.placeholder.length));else n.push(e),s=!1;return r+=n.length,n}}),o=i.slice(),a=1;a<n&&t;a++)o=o.concat(i.slice());return{mask:o,repeat:n,greedy:t}}function u(e){f.numericInput&&(e=e.split("").reverse().join(""));var u=!1,d=!1,h=!1;return V.map(e.split(""),function(e,t){var n=[];if(e==f.escapeChar)d=!0;else if(e!=f.optionalmarker.start||d){if(e!=f.optionalmarker.end||d){var i=f.definitions[e];if(i&&!d){for(var o=i.prevalidator,s=o?o.length:0,r=1;r<i.cardinality;r++){var a=r<=s?o[r-1]:[],l=a.validator,c=a.cardinality;n.push({fn:l?"string"==typeof l?new RegExp(l):new function(){this.test=l}:new RegExp("."),cardinality:c||1,optionality:u,newBlockMarker:1==u&&h,offset:0,casing:i.casing,def:i.definitionSymbol||e}),1==u&&(h=!1)}n.push({fn:i.validator?"string"==typeof i.validator?new RegExp(i.validator):new function(){this.test=i.validator}:new RegExp("."),cardinality:i.cardinality,optionality:u,newBlockMarker:h,offset:0,casing:i.casing,def:i.definitionSymbol||e})}else n.push({fn:null,cardinality:0,optionality:u,newBlockMarker:h,offset:0,casing:null,def:e}),d=!1;return h=!1,n}h=!(u=!1)}else h=u=!0})}function d(e){return f.optionalmarker.start+e+f.optionalmarker.end}function h(e){for(var t=e.length,n=0;n<t&&e.charAt(n)!=f.optionalmarker.start;n++);var i=[e.substring(0,n)];return n<t&&i.push(e.substring(n+1,t)),i}function p(e,t,n){var i,o,s=function(e){for(var t=0,n=0,i=e.length,o=0;o<i&&(e.charAt(o)==f.optionalmarker.start&&t++,e.charAt(o)==f.optionalmarker.end&&n++,!(0<t&&t==n));o++);var s=[e.substring(0,o)];return o<i&&s.push(e.substring(o+1,i)),s}(t),r=h(s[0]);1<r.length?(i=e+r[0]+d(r[1])+(1<s.length?s[1]:""),-1==V.inArray(i,l)&&""!=i&&(l.push(i),o=c(i),a.push({mask:i,_buffer:o.mask,buffer:o.mask.slice(),tests:u(i),lastValidPosition:-1,greedy:o.greedy,repeat:o.repeat,metadata:n})),i=e+r[0]+(1<s.length?s[1]:""),-1==V.inArray(i,l)&&""!=i&&(l.push(i),o=c(i),a.push({mask:i,_buffer:o.mask,buffer:o.mask.slice(),tests:u(i),lastValidPosition:-1,greedy:o.greedy,repeat:o.repeat,metadata:n})),1<h(r[1]).length&&p(e+r[0],r[1]+s[1],n),1<s.length&&1<h(s[1]).length&&(p(e+r[0]+d(r[1]),s[1],n),p(e+r[0],s[1],n))):(i=e+s,-1==V.inArray(i,l)&&""!=i&&(l.push(i),o=c(i),a.push({mask:i,_buffer:o.mask,buffer:o.mask.slice(),tests:u(i),lastValidPosition:-1,greedy:o.greedy,repeat:o.repeat,metadata:n})))}return V.isFunction(f.mask)&&(f.mask=f.mask.call(this,f)),V.isArray(f.mask)?V.each(f.mask,function(e,t){null!=t.mask?p("",t.mask.toString(),t):p("",t.toString())}):p("",f.mask.toString()),f.greedy?a:a.sort(function(e,t){return e.mask.length-t.mask.length})}var G=null!==navigator.userAgent.match(new RegExp("msie 10","i")),K=null!==navigator.userAgent.match(new RegExp("iphone","i")),s=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),Y=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),X=e("paste")?"paste":e("input")?"input":"propertychange";function l(x,_,E,e){var r,o,k=!1,a=D().join(""),S=!1,T=!1,N=!1;function A(){return x[_]}function u(){return A().tests}function d(){return A()._buffer}function D(){return A().buffer}function R(c,u,d){function h(e,t,n,i){for(var o=w(e),s=n?1:0,r="",a=t.buffer,l=t.tests[o].cardinality;s<l;l--)r+=M(a,o-(l-1));return n&&(r+=n),null!=t.tests[o].fn?t.tests[o].fn.test(r,a,e,i,E):(n==M(t._buffer,e,!0)||n==E.skipOptionalPartCharacter)&&{refresh:!0,c:M(t._buffer,e,!0),pos:e}}if(d=!0===d)return!0===(p=h(c,A(),u,d))&&(p={pos:c}),p;var f=[],p=!1,m=_,g=D().slice(),v=A().lastValidPosition,y=(L(c),[]);return V.each(x,function(e,t){if("object"==typeof t){_=e;var n,i=c,o=A().lastValidPosition;if(o==v){if(1<i-v)for(var s=-1==o?0:o;s<i&&!1!==(n=h(s,A(),g[s],!0));s++){O(D(),s,g[s],!0),!0===n&&(n={pos:s});var r=n.pos||s;A().lastValidPosition<r&&(A().lastValidPosition=r)}if(!b(i)&&!h(i,A(),u,d)){for(var a=$(i)-i,l=0;l<a&&!1===h(++i,A(),u,d);l++);y.push(_)}}if((A().lastValidPosition>=v||_==m)&&0<=i&&i<I()){if(!1!==(p=h(i,A(),u,d))){!0===p&&(p={pos:i});r=p.pos||i;A().lastValidPosition<r&&(A().lastValidPosition=r)}f.push({activeMasksetIndex:e,result:p})}}}),_=m,function(i,e){var n=!1;if(V.each(e,function(e,t){if(n=-1==V.inArray(t.activeMasksetIndex,i)&&!1!==t.result)return!1}),n)e=V.map(e,function(e,t){if(-1==V.inArray(e.activeMasksetIndex,i))return e;x[e.activeMasksetIndex].lastValidPosition=v});else{var o=-1,s=-1;V.each(e,function(e,t){-1!=V.inArray(t.activeMasksetIndex,i)&&!1!==t.result&(-1==o||o>t.result.pos)&&(o=t.result.pos,s=t.activeMasksetIndex)}),e=V.map(e,function(e,t){if(-1!=V.inArray(e.activeMasksetIndex,i)){if(e.result.pos==o)return e;if(!1!==e.result){for(var n=c;n<o;n++){if(!1===h(n,x[e.activeMasksetIndex],x[s].buffer[n],!0)){x[e.activeMasksetIndex].lastValidPosition=o-1;break}O(x[e.activeMasksetIndex].buffer,n,x[s].buffer[n],!0),x[e.activeMasksetIndex].lastValidPosition=n}return!1!==h(o,x[e.activeMasksetIndex],u,!0)&&(O(x[e.activeMasksetIndex].buffer,o,u,!0),x[e.activeMasksetIndex].lastValidPosition=o),e}}})}return e}(y,f)}function P(){var e=_,n={activeMasksetIndex:0,lastValidPosition:-1,next:-1};V.each(x,function(e,t){"object"==typeof t&&(_=e,A().lastValidPosition>n.lastValidPosition?(n.activeMasksetIndex=e,n.lastValidPosition=A().lastValidPosition,n.next=$(A().lastValidPosition)):A().lastValidPosition==n.lastValidPosition&&(-1==n.next||n.next>$(A().lastValidPosition))&&(n.activeMasksetIndex=e,n.lastValidPosition=A().lastValidPosition,n.next=$(A().lastValidPosition)))}),e!=(_=-1!=n.lastValidPosition&&x[e].lastValidPosition==n.lastValidPosition?e:n.activeMasksetIndex)&&(h(D(),$(n.lastValidPosition),I()),A().writeOutBuffer=!0),r.data("_inputmask").activeMasksetIndex=_}function b(e){var t=w(e),n=u()[t];return null!=n&&n.fn}function w(e){return e%u().length}function I(){return E.getMaskLength(d(),A().greedy,A().repeat,D(),E)}function $(e){var t=I();if(t<=e)return t;for(var n=e;++n<t&&!b(n););return n}function L(e){var t=e;if(t<=0)return 0;for(;0<--t&&!b(t););return t}function O(e,t,n,i){i&&(t=l(e,t));var o=u()[w(t)],s=n;if(null!=s&&null!=o)switch(o.casing){case"upper":s=n.toUpperCase();break;case"lower":s=n.toLowerCase()}e[t]=s}function M(e,t,n){return n&&(t=l(e,t)),e[t]}function l(e,t){for(var n;null==e[t]&&e.length<I();)for(n=0;void 0!==d()[n];)e.push(d()[n++]);return t}function H(e,t,n){e._valueSet(t.join("")),null!=n&&z(e,n)}function h(e,t,n,i){for(var o=t,s=I();o<n&&o<s;o++)!0===i?b(o)||O(e,o,""):O(e,o,M(d().slice(),o,!0))}function f(e,t){var n=w(t);O(e,t,M(d(),n))}function j(e){return E.placeholder.charAt(e%E.placeholder.length)}function p(s,r,a,e,l){var t=null!=e?e.slice():m(s._valueGet()).split("");V.each(x,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==a&&(_=0),r&&s._valueSet("");I();V.each(t,function(e,t){if(!0===l){var n=A().p,i=-1==n?n:L(n),o=-1==i?e:$(i);-1==V.inArray(t,d().slice(i+1,o))&&C.call(s,void 0,!0,t.charCodeAt(0),r,a,e)}else C.call(s,void 0,!0,t.charCodeAt(0),r,a,e)}),!0===a&&-1!=A().p&&(A().lastValidPosition=L(A().p))}function m(e){return e.replace(new RegExp("("+function(e){return V.inputmask.escapeRegex.call(this,e)}(d().join(""))+")*$"),"")}function c(e){for(var t=D(),n=t.slice(),i=n.length-1;0<=i;i--){var o=w(i);if(!u()[o].optionality)break;if(b(i)&&R(i,t[i],!0))break;n.pop()}H(e,n)}function g(e){!k||"number"!=typeof e||E.greedy&&""==E.placeholder||(e=D().length-e);return e}function z(e,t,n){var i,o=e.jquery&&0<e.length?e[0]:e;if("number"!=typeof t)return V(e).is(":visible")?(o.setSelectionRange?(t=o.selectionStart,n=o.selectionEnd):document.selection&&document.selection.createRange&&(n=(t=0-(i=document.selection.createRange()).duplicate().moveStart("character",-1e5))+i.text.length),{begin:t=g(t),end:n=g(n)}):{begin:0,end:0};t=g(t),n=g(n),V(e).is(":visible")&&(n="number"==typeof n?n:t,o.scrollLeft=o.scrollWidth,0==E.insertMode&&t==n&&n++,o.setSelectionRange?(o.selectionStart=t,o.selectionEnd=s?t:n):o.createTextRange&&((i=o.createTextRange()).collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()))}function B(a){if("*"!=E.repeat){var l=!1,c=0,e=_;return V.each(x,function(e,t){if("object"==typeof t){_=e;var n=L(I());if(t.lastValidPosition>=c&&t.lastValidPosition==n){for(var i=!0,o=0;o<=n;o++){var s=b(o),r=w(o);if(s&&(null==a[o]||a[o]==j(o))||!s&&a[o]!=d()[r]){i=!1;break}}if(l=l||i)return!1}c=t.lastValidPosition}}),_=e,l}}function v(e,t,n,i){var o=D();if(!1!==i)for(;!b(e)&&0<=e-1;)e--;for(var s=e;s<t&&s<I();s++)if(b(s)){f(o,s);var r=$(s),a=M(o,r);if(a!=j(r))if(r<I()&&!1!==R(s,a,!0)&&u()[w(s)].def==u()[w(r)].def)O(o,s,a,!0);else if(b(s))break}else f(o,s);if(null!=n&&O(o,L(t),n),0==A().greedy){var l=m(o.join("")).split("");o.length=l.length;s=0;for(var c=o.length;s<c;s++)o[s]=l[s];0==o.length&&(A().buffer=d().slice())}return e}function F(e,t,n){var i=D();if(M(i,e,!0)!=j(e))for(var o=L(t);e<o&&0<=o;o--)if(b(o)){var s=L(o),r=M(i,s);r!=j(s)&&!1!==R(s,r,!0)&&u()[w(o)].def==u()[w(s)].def&&(O(i,o,r,!0),f(i,s))}else f(i,o);null!=n&&M(i,e)==j(e)&&O(i,e,n);var a=i.length;if(0==A().greedy){var l=m(i.join("")).split("");i.length=l.length;o=0;for(var c=i.length;o<c;o++)i[o]=l[o];0==i.length&&(A().buffer=d().slice())}return t-(a-i.length)}function W(e,t,n){if(E.numericInput||k){switch(t){case E.keyCode.BACKSPACE:t=E.keyCode.DELETE;break;case E.keyCode.DELETE:t=E.keyCode.BACKSPACE}if(k){var i=n.end;n.end=n.begin,n.begin=i}}var o=!0;if(n.begin==n.end){var s=t==E.keyCode.BACKSPACE?n.begin-1:n.begin;E.isNumeric&&""!=E.radixPoint&&D()[s]==E.radixPoint&&(n.begin=D().length-1==s?n.begin:t==E.keyCode.BACKSPACE?s:$(s),n.end=n.begin),o=!1,t==E.keyCode.BACKSPACE?n.begin--:t==E.keyCode.DELETE&&n.end++}else n.end-n.begin!=1||E.insertMode||(o=!1,t==E.keyCode.BACKSPACE&&n.begin--);h(D(),n.begin,n.end);var r=I();if(0==E.greedy)v(n.begin,r,void 0,!k&&t==E.keyCode.BACKSPACE&&!o);else{for(var a=n.begin,l=n.begin;l<n.end;l++)!b(l)&&o||(a=v(n.begin,r,void 0,!k&&t==E.keyCode.BACKSPACE&&!o));o||(n.begin=a)}var c=$(-1);h(D(),n.begin,n.end,!0),p(e,!1,null==x[1]||c>=n.end,D()),A().lastValidPosition<c?(A().lastValidPosition=-1,A().p=c):A().p=n.begin}function y(t){S=!1;var n=this,e=V(n),i=t.keyCode,o=z(n);i==E.keyCode.BACKSPACE||i==E.keyCode.DELETE||K&&127==i||t.ctrlKey&&88==i?(t.preventDefault(),88==i&&(a=D().join("")),W(n,i,o),P(),H(n,D(),A().p),n._valueGet()==d().join("")&&e.trigger("cleared"),E.showTooltip&&e.prop("title",A().mask)):i==E.keyCode.END||i==E.keyCode.PAGE_DOWN?setTimeout(function(){var e=$(A().lastValidPosition);E.insertMode||e!=I()||t.shiftKey||e--,z(n,t.shiftKey?o.begin:e,e)},0):i==E.keyCode.HOME&&!t.shiftKey||i==E.keyCode.PAGE_UP?z(n,0,t.shiftKey?o.begin:0):i==E.keyCode.ESCAPE||90==i&&t.ctrlKey?(p(n,!0,!1,a.split("")),e.click()):i!=E.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=E.insertMode||t.shiftKey||(i==E.keyCode.RIGHT?setTimeout(function(){var e=z(n);z(n,e.begin)},0):i==E.keyCode.LEFT&&setTimeout(function(){var e=z(n);z(n,e.begin-1)},0)):(E.insertMode=!E.insertMode,z(n,E.insertMode||o.begin!=I()?o.begin:o.begin-1));var s=z(n);!0===E.onKeyDown.call(this,t,D(),E)&&z(n,s.begin,s.end),N=-1!=V.inArray(i,E.ignorables)}function C(e,t,n,i,u,o){if(null==n&&S)return!1;S=!0;var s=V(this);e=e||window.event;var r,a;n=t?n:e.which||e.charCode||e.keyCode;if(!(!0===t||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||N))return!0;if(n){!0!==t&&46==n&&0==e.shiftKey&&","==E.radixPoint&&(n=44);var l,c,d,h=String.fromCharCode(n);if(t){var f=u?o:A().lastValidPosition+1;l={begin:f,end:f}}else l=z(this);var p=(r=l.begin,a=l.end,k?1<r-a||r-a==1&&E.insertMode:1<a-r||a-r==1&&E.insertMode),m=_;p&&(_=m,V.each(x,function(e,t){"object"==typeof t&&(_=e,A().undoBuffer=D().join(""))}),W(this,E.keyCode.DELETE,l),E.insertMode||V.each(x,function(e,t){"object"==typeof t&&(_=e,F(l.begin,I()),A().lastValidPosition=$(A().lastValidPosition))}),_=m);var g=D().join("").indexOf(E.radixPoint);E.isNumeric&&!0!==t&&-1!=g&&(E.greedy&&l.begin<=g?(l.begin=L(l.begin),l.end=l.begin):h==E.radixPoint&&(l.begin=g,l.end=l.begin));var v=l.begin;c=R(v,h,u),!0===u&&(c=[{activeMasksetIndex:_,result:c}]);var y=-1;if(V.each(c,function(e,t){_=t.activeMasksetIndex,A().writeOutBuffer=!0;var n=t.result;if(!1!==n){var i=!1,o=D();if(!0!==n&&(i=n.refresh,v=null!=n.pos?n.pos:v,h=null!=n.c?n.c:h),!0!==i){if(1==E.insertMode){for(var s=I(),r=o.slice();M(r,s,!0)!=j(s)&&v<=s;)s=0==s?-1:L(s);if(v<=s){F(v,I(),h);var a=A().lastValidPosition,l=$(a);l!=I()&&v<=a&&M(D(),l,!0)!=j(l)&&(A().lastValidPosition=l)}else A().writeOutBuffer=!1}else O(o,v,h,!0);(-1==y||y>$(v))&&(y=$(v))}else if(!u){var c=v<I()?v+1:v;(-1==y||c<y)&&(y=c)}y>A().p&&(A().p=y)}}),!0!==u&&(_=m,P()),!1!==i&&(V.each(c,function(e,t){if(t.activeMasksetIndex==_)return d=t,!1}),null!=d)){var b=this;if(setTimeout(function(){E.onKeyValidation.call(b,d.result,E)},0),A().writeOutBuffer&&!1!==d.result){var w,C=D();w=t?void 0:E.numericInput?g<v?L(y):h==E.radixPoint?y-1:L(y-1):y,H(this,C,w),!0!==t&&setTimeout(function(){!0===B(C)&&s.trigger("complete"),T=!0,s.trigger("input")},0)}else p&&(A().buffer=A().undoBuffer.split(""))}E.showTooltip&&s.prop("title",A().mask),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}function U(e){var t=V(this),n=e.keyCode,i=D();Y&&n==E.keyCode.BACKSPACE&&o==this._valueGet()&&y.call(this,e),E.onKeyUp.call(this,e,i,E),n==E.keyCode.TAB&&E.showMaskOnFocus&&(t.hasClass("focus.inputmask")&&0==this._valueGet().length?(H(this,i=d().slice()),z(this,0),a=D().join("")):(H(this,i),i.join("")==d().join("")&&-1!=V.inArray(E.radixPoint,i)?(z(this,g(0)),t.click()):z(this,g(0),g(I()))))}function q(e){if(!0===T)return!(T=!1);var t=V(this);o=D().join(""),p(this,!1,!1),H(this,D()),!0===B(D())&&t.trigger("complete"),t.click()}if(null!=e)switch(e.action){case"isComplete":return B(e.buffer);case"unmaskedvalue":return k=e.$input.data("_inputmask").isRTL,function(e,t){if(!u()||!0!==t&&e.hasClass("hasDatepicker"))return e[0]._valueGet();var n=V.map(D(),function(e,t){return b(t)&&R(t,e,!0)?e:null}),i=(k?n.reverse():n).join("");return null!=E.onUnMask?E.onUnMask.call(this,D().join(""),i):i}(e.$input,e.skipDatepickerCheck);case"mask":!function(e){if((r=V(e)).is(":input")){if(r.data("_inputmask",{masksets:x,activeMasksetIndex:_,opts:E,isRTL:!1}),E.showTooltip&&r.prop("title",A().mask),A().greedy=A().greedy?A().greedy:0==A().repeat,null!=r.attr("maxLength")){var n=r.prop("maxLength");-1<n&&V.each(x,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=n)}),I()>=n&&-1<n&&(n<d().length&&(d().length=n),0==A().greedy&&(A().repeat=Math.round(n/d().length)),r.prop("maxLength",2*I()))}if(function(e){var t;if(Object.getOwnPropertyDescriptor&&(t=Object.getOwnPropertyDescriptor(e,"value")),t&&t.get){if(!e._valueGet){var o=t.get,s=t.set;e._valueGet=function(){return k?o.call(this).split("").reverse().join(""):o.call(this)},e._valueSet=function(e){s.call(this,k?e.split("").reverse().join(""):e)},Object.defineProperty(e,"value",{get:function(){var e=V(this),t=V(this).data("_inputmask"),n=t.masksets,i=t.activeMasksetIndex;return t&&t.opts.autoUnmask?e.inputmask("unmaskedvalue"):o.call(this)!=n[i]._buffer.join("")?o.call(this):""},set:function(e){s.call(this,e),V(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&e.__lookupGetter__("value")?e._valueGet||(o=e.__lookupGetter__("value"),s=e.__lookupSetter__("value"),e._valueGet=function(){return k?o.call(this).split("").reverse().join(""):o.call(this)},e._valueSet=function(e){s.call(this,k?e.split("").reverse().join(""):e)},e.__defineGetter__("value",function(){var e=V(this),t=V(this).data("_inputmask"),n=t.masksets,i=t.activeMasksetIndex;return t&&t.opts.autoUnmask?e.inputmask("unmaskedvalue"):o.call(this)!=n[i]._buffer.join("")?o.call(this):""}),e.__defineSetter__("value",function(e){s.call(this,e),V(this).triggerHandler("setvalue.inputmask")})):(e._valueGet||(e._valueGet=function(){return k?this.value.split("").reverse().join(""):this.value},e._valueSet=function(e){this.value=k?e.split("").reverse().join(""):e}),(null==V.valHooks.text||1!=V.valHooks.text.inputmaskpatch)&&(o=V.valHooks.text&&V.valHooks.text.get?V.valHooks.text.get:function(e){return e.value},s=V.valHooks.text&&V.valHooks.text.set?V.valHooks.text.set:function(e,t){return e.value=t,e},jQuery.extend(V.valHooks,{text:{get:function(e){var t=V(e);if(t.data("_inputmask")){if(t.data("_inputmask").opts.autoUnmask)return t.inputmask("unmaskedvalue");var n=o(e),i=t.data("_inputmask");return n!=i.masksets[i.activeMasksetIndex]._buffer.join("")?n:""}return o(e)},set:function(e,t){var n=V(e),i=s(e,t);return n.data("_inputmask")&&n.triggerHandler("setvalue.inputmask"),i},inputmaskpatch:!0}})))}(e),E.numericInput&&(E.isNumeric=E.numericInput),("rtl"==e.dir||E.numericInput&&E.rightAlignNumerics||E.isNumeric&&E.rightAlignNumerics)&&r.css("text-align","right"),"rtl"==e.dir||E.numericInput){e.dir="ltr",r.removeAttr("dir");var t=r.data("_inputmask");t.isRTL=!0,r.data("_inputmask",t),k=!0}var i;r.unbind(".inputmask"),r.removeClass("focus.inputmask"),r.closest("form").bind("submit",function(){a!=D().join("")&&r.change()}).bind("reset",function(){setTimeout(function(){r.trigger("setvalue")},0)}),r.bind("mouseenter.inputmask",function(){!V(this).hasClass("focus.inputmask")&&E.showMaskOnHover&&this._valueGet()!=D().join("")&&H(this,D())}).bind("blur.inputmask",function(){var e=V(this),t=this._valueGet(),n=D();e.removeClass("focus.inputmask"),a!=D().join("")&&e.change(),E.clearMaskOnLostFocus&&""!=t&&(t==d().join("")?this._valueSet(""):c(this)),!1===B(n)&&(e.trigger("incomplete"),E.clearIncomplete&&(V.each(x,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),_=0,E.clearMaskOnLostFocus?this._valueSet(""):H(this,n=d().slice())))}).bind("focus.inputmask",function(){var e=V(this),t=this._valueGet();E.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!E.showMaskOnHover||E.showMaskOnHover&&""==t)&&this._valueGet()!=D().join("")&&H(this,D(),$(A().lastValidPosition)),e.addClass("focus.inputmask"),a=D().join("")}).bind("mouseleave.inputmask",function(){var e=V(this);E.clearMaskOnLostFocus&&(e.hasClass("focus.inputmask")||this._valueGet()==e.attr("placeholder")||(this._valueGet()==d().join("")||""==this._valueGet()?this._valueSet(""):c(this)))}).bind("click.inputmask",function(){var s=this;setTimeout(function(){var e=z(s),t=D();if(e.begin==e.end){var n,i=k?g(e.begin):e.begin,o=A().lastValidPosition;i<(n=E.isNumeric&&!1===E.skipRadixDance&&""!=E.radixPoint&&-1!=V.inArray(E.radixPoint,t)?E.numericInput?$(V.inArray(E.radixPoint,t)):V.inArray(E.radixPoint,t):$(o))?b(i)?z(s,i):z(s,$(i)):z(s,n)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){z(e,0,$(A().lastValidPosition))},0)}).bind(X+".inputmask dragdrop.inputmask drop.inputmask",function(e){if(!0===T)return!(T=!1);var t=this,n=V(t);if("propertychange"==e.type&&t._valueGet().length<=I())return!0;setTimeout(function(){var e=null!=E.onBeforePaste?E.onBeforePaste.call(this,t._valueGet()):t._valueGet();p(t,!0,!1,e.split(""),!0),!0===B(D())&&n.trigger("complete"),n.click()},0)}).bind("setvalue.inputmask",function(){p(this,!0),a=D().join(""),this._valueGet()==d().join("")&&this._valueSet("")}).bind("complete.inputmask",E.oncomplete).bind("incomplete.inputmask",E.onincomplete).bind("cleared.inputmask",E.oncleared).bind("keyup.inputmask",U),Y?r.bind("input.inputmask",q):r.bind("keydown.inputmask",y).bind("keypress.inputmask",C),G&&r.bind("input.inputmask",q),p(e,!0,!1),a=D().join("");try{i=document.activeElement}catch(e){}i===e?(r.addClass("focus.inputmask"),z(e,$(A().lastValidPosition))):E.clearMaskOnLostFocus?D().join("")==d().join("")?e._valueSet(""):c(e):H(e,D()),o=e,s=V._data(o).events,V.each(s,function(e,t){V.each(t,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return n.apply(this,arguments);e.preventDefault}}})})}var o,s}(e.el);break;case"format":return(r=V({})).data("_inputmask",{masksets:x,activeMasksetIndex:_,opts:E,isRTL:E.numericInput}),E.numericInput&&(E.isNumeric=E.numericInput,k=!0),p(r,!1,!1,e.value.split(""),!0),D().join("")}}V.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:V.noop,onincomplete:V.noop,oncleared:V.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:V.noop,onKeyDown:V.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:V.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,i,o){var s=e.length;return t||("*"==n?s=i.length+1:1<n&&(s+=e.length*(n-1))),s}},escapeRegex:function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","gim"),"\\$1")},format:function(e,t){var n=V.extend(!0,{},V.inputmask.defaults,t);return r(n.alias,t,n),l(a(n),0,n,{action:"format",value:e})}},V.fn.inputmask=function(e,n){var i,o=V.extend(!0,{},V.inputmask.defaults,n),s=0;if("string"==typeof e)switch(e){case"mask":return r(o.alias,n,o),0==(i=a(o)).length?this:this.each(function(){l(V.extend(!0,{},i),0,o,{action:"mask",el:this})});case"unmaskedvalue":var t=V(this);return t.data("_inputmask")?(i=t.data("_inputmask").masksets,s=t.data("_inputmask").activeMasksetIndex,o=t.data("_inputmask").opts,l(i,s,o,{action:"unmaskedvalue",$input:t})):t.val();case"remove":return this.each(function(){var e=V(this),t=this;if(e.data("_inputmask")){var n;i=e.data("_inputmask").masksets,s=e.data("_inputmask").activeMasksetIndex,o=e.data("_inputmask").opts,t._valueSet(l(i,s,o,{action:"unmaskedvalue",$input:e,skipDatepickerCheck:!0})),e.removeData("_inputmask"),e.unbind(".inputmask"),e.removeClass("focus.inputmask"),Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get?t._valueGet&&Object.defineProperty(t,"value",{get:t._valueGet,set:t._valueSet}):document.__lookupGetter__&&t.__lookupGetter__("value")&&t._valueGet&&(t.__defineGetter__("value",t._valueGet),t.__defineSetter__("value",t._valueSet));try{delete t._valueGet,delete t._valueSet}catch(e){t._valueGet=void 0,t._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(i=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,i[s]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return i=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,o=this.data("_inputmask").opts,l(i,s,o,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(i=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,i[s].metadata):void 0;default:return r(e,n,o)||(o.mask=e),0==(i=a(o)).length?this:this.each(function(){l(V.extend(!0,{},i),s,o,{action:"mask",el:this})})}else{if("object"==typeof e)return r((o=V.extend(!0,{},V.inputmask.defaults,e)).alias,e,o),0==(i=a(o)).length?this:this.each(function(){l(V.extend(!0,{},i),s,o,{action:"mask",el:this})});if(null==e)return this.each(function(){var e=V(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var t=V.parseJSON("{"+e+"}");V.extend(!0,t,n),r((o=V.extend(!0,{},V.inputmask.defaults,t)).alias,t,o),o.alias=void 0,V(this).inputmask(o)}catch(e){}})}}}}(jQuery),function(s){s.extend(s.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),s.extend(s.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){var i=parseInt(e.concat(t.toString().slice(e.length))),o=parseInt(e.concat(n.toString().slice(e.length)));return NaN!=i&&(t<=i&&i<=n)||NaN!=o&&(t<=o&&o<=n)},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(i<e)return e;if(t<i){for(var o=t.toString().slice(0,2),s=t.toString().slice(2,4);t<o+n;)o--;var r=o+s;return r<e?e:r}return i},onKeyUp:function(e,t,n){var i=s(this);if(e.ctrlKey&&e.keyCode==n.keyCode.RIGHT){var o=new Date;i.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString())}},definitions:{1:{validator:function(e,t,n,i,o){var s=o.regex.val1.test(e);return i||s||e.charAt(1)!=o.separator&&-1=="-./".indexOf(e.charAt(1))||!(s=o.regex.val1.test("0"+e.charAt(0)))?s:(t[n-1]="0",{pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var s=o.regex.val1pre.test(e);return i||s||!(s=o.regex.val1.test("0"+e))?s:(t[n]="0",{pos:++n})},cardinality:1}]},2:{validator:function(e,t,n,i,o){var s=t.join("").substr(0,3);-1!=s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=o.regex.val2(o.separator).test(s+e);return i||r||e.charAt(1)!=o.separator&&-1=="-./".indexOf(e.charAt(1))||!(r=o.regex.val2(o.separator).test(s+"0"+e.charAt(0)))?r:(t[n-1]="0",{pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var s=t.join("").substr(0,3);-1!=s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=o.regex.val2pre(o.separator).test(s+e);return i||r||!(r=o.regex.val2(o.separator).test(s+"0"+e))?r:(t[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,i,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){if(t.join("").substr(0,6)!=o.leapday)return!0;var s=parseInt(e,10);return s%4==0&&(s%100!=0||s%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,o){var s=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(s=o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear))return t[n++]=r[0],{pos:n};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),s=o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear))return t[n++]=r[0],t[n++]=r[1],{pos:n}}return s},cardinality:1},{validator:function(e,t,n,i,o){var s=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(s=o.isInYearRange(e[0]+r[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t[n++]=r[1],{pos:n};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear))if(t.join("").substr(0,6)!=o.leapday)s=!0;else{var a=parseInt(e,10);s=a%4==0&&(a%100!=0||a%400==0)}else s=!1;if(s)return t[n-1]=r[0],t[n++]=r[1],t[n++]=e[0],{pos:n}}return s},cardinality:2},{validator:function(e,t,n,i,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(e,t,n){var i=s(this);if(e.ctrlKey&&e.keyCode==n.keyCode.RIGHT){var o=new Date;i.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString())}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(e,t,n){var i=s(this);if(e.ctrlKey&&e.keyCode==n.keyCode.RIGHT){var o=new Date;i.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString())}},definitions:{2:{validator:function(e,t,n,i,o){var s=t.join("").substr(5,3);-1!=s.indexOf(o.placeholder[5])&&(s="01"+o.separator);var r=o.regex.val2(o.separator).test(s+e);if(!i&&!r&&(e.charAt(1)==o.separator||-1!="-./".indexOf(e.charAt(1)))&&(r=o.regex.val2(o.separator).test(s+"0"+e.charAt(0))))return t[n-1]="0",{pos:n,c:e.charAt(0)};if(r){if(t.join("").substr(4,4)+e!=o.leapday)return!0;var a=parseInt(t.join("").substr(0,4),10);return a%4==0&&(a%100!=0||a%400==0)}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var s=t.join("").substr(5,3);-1!=s.indexOf(o.placeholder[5])&&(s="01"+o.separator);var r=o.regex.val2pre(o.separator).test(s+e);return i||r||!(r=o.regex.val2(o.separator).test(s+"0"+e))?r:(t[n]="0",{pos:++n})},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-9]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-3]"),ampm:new RegExp("^[a|p|A|P][m|M]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,o){var s=o.regex.hrs.test(e);if(!i&&!s&&(e.charAt(1)==o.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(s=o.regex.hrs.test("0"+e.charAt(0))))return t[n-1]="0",t[n]=e.charAt(0),{pos:++n};if(s&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){var r=parseInt(e,10);return t[n+5]=24==r?"a":"p",t[n+6]="m",(r-=12)<10?(t[n]=r.toString(),t[n-1]="0"):(t[n]=r.toString().charAt(1),t[n-1]=r.toString().charAt(0)),{pos:n,c:t[n]}}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var s=o.regex.hrspre.test(e);return i||s||!(s=o.regex.hrs.test("0"+e))?s:(t[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,i,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}})}(jQuery),function(e){e.extend(e.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1,casing:"upper"}}),e.extend(e.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(e,t,n,i,o){return!0},cardinality:8,prevalidator:function(){for(var e=[],t=0;t<8;t++)e[t]=function(){var l=t;return{validator:function(e,t,n,i,o){if(o.regex["urlpre"+(l+1)]){var s,r=e;0<l+1-e.length&&(r=t.join("").substring(0,l+1-e.length)+""+r);var a=o.regex["urlpre"+(l+1)].test(r);if(!i&&!a){for(n-=l,s=0;s<o.defaultPrefix.length;s++)t[n]=o.defaultPrefix[s],n++;for(s=0;s<r.length-1;s++)t[n]=r[s],n++;return{pos:n}}return a}return!1},cardinality:l}}();return e}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:["[[x]y]z.[[x]y]z.[[x]y]z.x[yz]","[[x]y]z.[[x]y]z.[[x]y]z.[[x]y][z]"],definitions:{x:{validator:"[012]",cardinality:1,definitionSymbol:"i"},y:{validator:function(e,t,n,i,o){return e=-1<n-1&&"."!=t[n-1]?t[n-1]+e:"0"+e,new RegExp("2[0-5]|[01][0-9]").test(e)},cardinality:1,definitionSymbol:"i"},z:{validator:function(e,t,n,i,o){return-1<n-1&&"."!=t[n-1]?(e=t[n-1]+e,e=-1<n-2&&"."!=t[n-2]?t[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1,definitionSymbol:"i"}}}})}(jQuery);